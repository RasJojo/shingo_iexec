"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@mysten+seal@0.6.0_typescript@5.9.3";
exports.ids = ["vendor-chunks/@mysten+seal@0.6.0_typescript@5.9.3"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/bcs.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/bcs.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Ciphertext: () => (/* binding */ Ciphertext),\n/* harmony export */   EncryptedObject: () => (/* binding */ EncryptedObject),\n/* harmony export */   IBEEncryptions: () => (/* binding */ IBEEncryptions),\n/* harmony export */   KeyServerMove: () => (/* binding */ KeyServerMove),\n/* harmony export */   KeyServerMoveV1: () => (/* binding */ KeyServerMoveV1)\n/* harmony export */ });\n/* harmony import */ var _mysten_bcs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @mysten/bcs */ \"(ssr)/./node_modules/.pnpm/@mysten+utils@0.2.0/node_modules/@mysten/utils/dist/esm/hex.js\");\n/* harmony import */ var _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @mysten/sui/bcs */ \"(ssr)/./node_modules/.pnpm/@mysten+sui@1.38.0_typescript@5.9.3/node_modules/@mysten/sui/dist/esm/bcs/index.js\");\n\n\nconst IBEEncryptions = _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.enum(\"IBEEncryptions\", {\n    BonehFranklinBLS12381: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"BonehFranklinBLS12381\", {\n        nonce: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.bytes(96),\n        encryptedShares: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(_mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.bytes(32)),\n        encryptedRandomness: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.bytes(32)\n    })\n});\nconst Ciphertext = _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.enum(\"Ciphertext\", {\n    Aes256Gcm: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"Aes256Gcm\", {\n        blob: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(_mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8()),\n        aad: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.option(_mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(_mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8()))\n    }),\n    Hmac256Ctr: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"Hmac256Ctr\", {\n        blob: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(_mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8()),\n        aad: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.option(_mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(_mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8())),\n        mac: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.bytes(32)\n    }),\n    Plain: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"Plain\", {})\n});\nconst EncryptedObject = _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"EncryptedObject\", {\n    version: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8(),\n    packageId: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.Address,\n    id: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(_mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.U8).transform({\n        output: (val)=>(0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_1__.toHex)(new Uint8Array(val)),\n        input: (val)=>(0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_1__.fromHex)(val)\n    }),\n    services: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(_mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.tuple([\n        _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.Address,\n        _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8()\n    ])),\n    threshold: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8(),\n    encryptedShares: IBEEncryptions,\n    ciphertext: Ciphertext\n});\nconst KeyServerMoveV1 = _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"KeyServerV1\", {\n    name: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.string(),\n    url: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.string(),\n    keyType: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8(),\n    pk: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(_mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8())\n});\nconst KeyServerMove = _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"KeyServer\", {\n    id: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.Address,\n    firstVersion: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u64(),\n    // latest version\n    lastVersion: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u64()\n});\n //# sourceMappingURL=bcs.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG15c3RlbitzZWFsQDAuNi4wX3R5cGVzY3JpcHRANS45LjMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc2VhbC9kaXN0L2VzbS9iY3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUE2QztBQUNQO0FBQ3RDLE1BQU1HLGlCQUFpQkQsZ0RBQUdBLENBQUNFLElBQUksQ0FBQyxrQkFBa0I7SUFDaERDLHVCQUF1QkgsZ0RBQUdBLENBQUNJLE1BQU0sQ0FBQyx5QkFBeUI7UUFDekRDLE9BQU9MLGdEQUFHQSxDQUFDTSxLQUFLLENBQUM7UUFDakJDLGlCQUFpQlAsZ0RBQUdBLENBQUNRLE1BQU0sQ0FBQ1IsZ0RBQUdBLENBQUNNLEtBQUssQ0FBQztRQUN0Q0cscUJBQXFCVCxnREFBR0EsQ0FBQ00sS0FBSyxDQUFDO0lBQ2pDO0FBQ0Y7QUFDQSxNQUFNSSxhQUFhVixnREFBR0EsQ0FBQ0UsSUFBSSxDQUFDLGNBQWM7SUFDeENTLFdBQVdYLGdEQUFHQSxDQUFDSSxNQUFNLENBQUMsYUFBYTtRQUNqQ1EsTUFBTVosZ0RBQUdBLENBQUNRLE1BQU0sQ0FBQ1IsZ0RBQUdBLENBQUNhLEVBQUU7UUFDdkJDLEtBQUtkLGdEQUFHQSxDQUFDZSxNQUFNLENBQUNmLGdEQUFHQSxDQUFDUSxNQUFNLENBQUNSLGdEQUFHQSxDQUFDYSxFQUFFO0lBQ25DO0lBQ0FHLFlBQVloQixnREFBR0EsQ0FBQ0ksTUFBTSxDQUFDLGNBQWM7UUFDbkNRLE1BQU1aLGdEQUFHQSxDQUFDUSxNQUFNLENBQUNSLGdEQUFHQSxDQUFDYSxFQUFFO1FBQ3ZCQyxLQUFLZCxnREFBR0EsQ0FBQ2UsTUFBTSxDQUFDZixnREFBR0EsQ0FBQ1EsTUFBTSxDQUFDUixnREFBR0EsQ0FBQ2EsRUFBRTtRQUNqQ0ksS0FBS2pCLGdEQUFHQSxDQUFDTSxLQUFLLENBQUM7SUFDakI7SUFDQVksT0FBT2xCLGdEQUFHQSxDQUFDSSxNQUFNLENBQUMsU0FBUyxDQUFDO0FBQzlCO0FBQ0EsTUFBTWUsa0JBQWtCbkIsZ0RBQUdBLENBQUNJLE1BQU0sQ0FBQyxtQkFBbUI7SUFDcERnQixTQUFTcEIsZ0RBQUdBLENBQUNhLEVBQUU7SUFDZlEsV0FBV3JCLGdEQUFHQSxDQUFDc0IsT0FBTztJQUN0QkMsSUFBSXZCLGdEQUFHQSxDQUFDUSxNQUFNLENBQUNSLGdEQUFHQSxDQUFDd0IsRUFBRSxFQUFFQyxTQUFTLENBQUM7UUFDL0JDLFFBQVEsQ0FBQ0MsTUFBUTVCLGtEQUFLQSxDQUFDLElBQUk2QixXQUFXRDtRQUN0Q0UsT0FBTyxDQUFDRixNQUFRN0Isb0RBQU9BLENBQUM2QjtJQUMxQjtJQUNBRyxVQUFVOUIsZ0RBQUdBLENBQUNRLE1BQU0sQ0FBQ1IsZ0RBQUdBLENBQUMrQixLQUFLLENBQUM7UUFBQy9CLGdEQUFHQSxDQUFDc0IsT0FBTztRQUFFdEIsZ0RBQUdBLENBQUNhLEVBQUU7S0FBRztJQUN0RG1CLFdBQVdoQyxnREFBR0EsQ0FBQ2EsRUFBRTtJQUNqQk4saUJBQWlCTjtJQUNqQmdDLFlBQVl2QjtBQUNkO0FBQ0EsTUFBTXdCLGtCQUFrQmxDLGdEQUFHQSxDQUFDSSxNQUFNLENBQUMsZUFBZTtJQUNoRCtCLE1BQU1uQyxnREFBR0EsQ0FBQ29DLE1BQU07SUFDaEJDLEtBQUtyQyxnREFBR0EsQ0FBQ29DLE1BQU07SUFDZkUsU0FBU3RDLGdEQUFHQSxDQUFDYSxFQUFFO0lBQ2YwQixJQUFJdkMsZ0RBQUdBLENBQUNRLE1BQU0sQ0FBQ1IsZ0RBQUdBLENBQUNhLEVBQUU7QUFDdkI7QUFDQSxNQUFNMkIsZ0JBQWdCeEMsZ0RBQUdBLENBQUNJLE1BQU0sQ0FBQyxhQUFhO0lBQzVDbUIsSUFBSXZCLGdEQUFHQSxDQUFDc0IsT0FBTztJQUNmbUIsY0FBY3pDLGdEQUFHQSxDQUFDMEMsR0FBRztJQUNyQixpQkFBaUI7SUFDakJDLGFBQWEzQyxnREFBR0EsQ0FBQzBDLEdBQUc7QUFFdEI7QUFPRSxDQUNGLCtCQUErQiIsInNvdXJjZXMiOlsid2VicGFjazovL25vdGFzY2FtLXByb3RvY29sLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BteXN0ZW4rc2VhbEAwLjYuMF90eXBlc2NyaXB0QDUuOS4zL25vZGVfbW9kdWxlcy9AbXlzdGVuL3NlYWwvZGlzdC9lc20vYmNzLmpzP2JlMDkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZnJvbUhleCwgdG9IZXggfSBmcm9tIFwiQG15c3Rlbi9iY3NcIjtcbmltcG9ydCB7IGJjcyB9IGZyb20gXCJAbXlzdGVuL3N1aS9iY3NcIjtcbmNvbnN0IElCRUVuY3J5cHRpb25zID0gYmNzLmVudW0oXCJJQkVFbmNyeXB0aW9uc1wiLCB7XG4gIEJvbmVoRnJhbmtsaW5CTFMxMjM4MTogYmNzLnN0cnVjdChcIkJvbmVoRnJhbmtsaW5CTFMxMjM4MVwiLCB7XG4gICAgbm9uY2U6IGJjcy5ieXRlcyg5NiksXG4gICAgZW5jcnlwdGVkU2hhcmVzOiBiY3MudmVjdG9yKGJjcy5ieXRlcygzMikpLFxuICAgIGVuY3J5cHRlZFJhbmRvbW5lc3M6IGJjcy5ieXRlcygzMilcbiAgfSlcbn0pO1xuY29uc3QgQ2lwaGVydGV4dCA9IGJjcy5lbnVtKFwiQ2lwaGVydGV4dFwiLCB7XG4gIEFlczI1NkdjbTogYmNzLnN0cnVjdChcIkFlczI1NkdjbVwiLCB7XG4gICAgYmxvYjogYmNzLnZlY3RvcihiY3MudTgoKSksXG4gICAgYWFkOiBiY3Mub3B0aW9uKGJjcy52ZWN0b3IoYmNzLnU4KCkpKVxuICB9KSxcbiAgSG1hYzI1NkN0cjogYmNzLnN0cnVjdChcIkhtYWMyNTZDdHJcIiwge1xuICAgIGJsb2I6IGJjcy52ZWN0b3IoYmNzLnU4KCkpLFxuICAgIGFhZDogYmNzLm9wdGlvbihiY3MudmVjdG9yKGJjcy51OCgpKSksXG4gICAgbWFjOiBiY3MuYnl0ZXMoMzIpXG4gIH0pLFxuICBQbGFpbjogYmNzLnN0cnVjdChcIlBsYWluXCIsIHt9KVxufSk7XG5jb25zdCBFbmNyeXB0ZWRPYmplY3QgPSBiY3Muc3RydWN0KFwiRW5jcnlwdGVkT2JqZWN0XCIsIHtcbiAgdmVyc2lvbjogYmNzLnU4KCksXG4gIHBhY2thZ2VJZDogYmNzLkFkZHJlc3MsXG4gIGlkOiBiY3MudmVjdG9yKGJjcy5VOCkudHJhbnNmb3JtKHtcbiAgICBvdXRwdXQ6ICh2YWwpID0+IHRvSGV4KG5ldyBVaW50OEFycmF5KHZhbCkpLFxuICAgIGlucHV0OiAodmFsKSA9PiBmcm9tSGV4KHZhbClcbiAgfSksXG4gIHNlcnZpY2VzOiBiY3MudmVjdG9yKGJjcy50dXBsZShbYmNzLkFkZHJlc3MsIGJjcy51OCgpXSkpLFxuICB0aHJlc2hvbGQ6IGJjcy51OCgpLFxuICBlbmNyeXB0ZWRTaGFyZXM6IElCRUVuY3J5cHRpb25zLFxuICBjaXBoZXJ0ZXh0OiBDaXBoZXJ0ZXh0XG59KTtcbmNvbnN0IEtleVNlcnZlck1vdmVWMSA9IGJjcy5zdHJ1Y3QoXCJLZXlTZXJ2ZXJWMVwiLCB7XG4gIG5hbWU6IGJjcy5zdHJpbmcoKSxcbiAgdXJsOiBiY3Muc3RyaW5nKCksXG4gIGtleVR5cGU6IGJjcy51OCgpLFxuICBwazogYmNzLnZlY3RvcihiY3MudTgoKSlcbn0pO1xuY29uc3QgS2V5U2VydmVyTW92ZSA9IGJjcy5zdHJ1Y3QoXCJLZXlTZXJ2ZXJcIiwge1xuICBpZDogYmNzLkFkZHJlc3MsXG4gIGZpcnN0VmVyc2lvbjogYmNzLnU2NCgpLFxuICAvLyBsYXRlc3QgdmVyc2lvblxuICBsYXN0VmVyc2lvbjogYmNzLnU2NCgpXG4gIC8vIG9sZGVzdCB2ZXJzaW9uXG59KTtcbmV4cG9ydCB7XG4gIENpcGhlcnRleHQsXG4gIEVuY3J5cHRlZE9iamVjdCxcbiAgSUJFRW5jcnlwdGlvbnMsXG4gIEtleVNlcnZlck1vdmUsXG4gIEtleVNlcnZlck1vdmVWMVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJjcy5qcy5tYXBcbiJdLCJuYW1lcyI6WyJmcm9tSGV4IiwidG9IZXgiLCJiY3MiLCJJQkVFbmNyeXB0aW9ucyIsImVudW0iLCJCb25laEZyYW5rbGluQkxTMTIzODEiLCJzdHJ1Y3QiLCJub25jZSIsImJ5dGVzIiwiZW5jcnlwdGVkU2hhcmVzIiwidmVjdG9yIiwiZW5jcnlwdGVkUmFuZG9tbmVzcyIsIkNpcGhlcnRleHQiLCJBZXMyNTZHY20iLCJibG9iIiwidTgiLCJhYWQiLCJvcHRpb24iLCJIbWFjMjU2Q3RyIiwibWFjIiwiUGxhaW4iLCJFbmNyeXB0ZWRPYmplY3QiLCJ2ZXJzaW9uIiwicGFja2FnZUlkIiwiQWRkcmVzcyIsImlkIiwiVTgiLCJ0cmFuc2Zvcm0iLCJvdXRwdXQiLCJ2YWwiLCJVaW50OEFycmF5IiwiaW5wdXQiLCJzZXJ2aWNlcyIsInR1cGxlIiwidGhyZXNob2xkIiwiY2lwaGVydGV4dCIsIktleVNlcnZlck1vdmVWMSIsIm5hbWUiLCJzdHJpbmciLCJ1cmwiLCJrZXlUeXBlIiwicGsiLCJLZXlTZXJ2ZXJNb3ZlIiwiZmlyc3RWZXJzaW9uIiwidTY0IiwibGFzdFZlcnNpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/bcs.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/bls12381.js":
/*!***************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/bls12381.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   G1Element: () => (/* binding */ G1Element),\n/* harmony export */   G2Element: () => (/* binding */ G2Element),\n/* harmony export */   GTElement: () => (/* binding */ GTElement),\n/* harmony export */   Scalar: () => (/* binding */ Scalar)\n/* harmony export */ });\n/* harmony import */ var _mysten_bcs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @mysten/bcs */ \"(ssr)/./node_modules/.pnpm/@mysten+utils@0.2.0/node_modules/@mysten/utils/dist/esm/hex.js\");\n/* harmony import */ var _noble_curves_bls12_381__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @noble/curves/bls12-381 */ \"(ssr)/./node_modules/.pnpm/@noble+curves@1.9.7/node_modules/@noble/curves/esm/bls12-381.js\");\n\n\nconst _G1Element = class _G1Element {\n    constructor(point){\n        this.point = point;\n    }\n    static generator() {\n        return new _G1Element(_noble_curves_bls12_381__WEBPACK_IMPORTED_MODULE_0__.bls12_381.G1.ProjectivePoint.BASE);\n    }\n    static fromBytes(bytes) {\n        return new _G1Element(_noble_curves_bls12_381__WEBPACK_IMPORTED_MODULE_0__.bls12_381.G1.ProjectivePoint.fromHex((0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_1__.toHex)(bytes)));\n    }\n    toBytes() {\n        return this.point.toBytes();\n    }\n    multiply(scalar) {\n        return new _G1Element(this.point.multiply(scalar.scalar));\n    }\n    add(other) {\n        return new _G1Element(this.point.add(other.point));\n    }\n    subtract(other) {\n        return new _G1Element(this.point.subtract(other.point));\n    }\n    static hashToCurve(data) {\n        return new _G1Element(_noble_curves_bls12_381__WEBPACK_IMPORTED_MODULE_0__.bls12_381.G1.ProjectivePoint.fromAffine(_noble_curves_bls12_381__WEBPACK_IMPORTED_MODULE_0__.bls12_381.G1.hashToCurve(data).toAffine()));\n    }\n    pairing(other) {\n        return new GTElement(_noble_curves_bls12_381__WEBPACK_IMPORTED_MODULE_0__.bls12_381.pairing(this.point, other.point));\n    }\n};\n_G1Element.SIZE = 48;\nlet G1Element = _G1Element;\nconst _G2Element = class _G2Element {\n    constructor(point){\n        this.point = point;\n    }\n    static generator() {\n        return new _G2Element(_noble_curves_bls12_381__WEBPACK_IMPORTED_MODULE_0__.bls12_381.G2.ProjectivePoint.BASE);\n    }\n    static fromBytes(bytes) {\n        return new _G2Element(_noble_curves_bls12_381__WEBPACK_IMPORTED_MODULE_0__.bls12_381.G2.ProjectivePoint.fromHex((0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_1__.toHex)(bytes)));\n    }\n    toBytes() {\n        return this.point.toBytes();\n    }\n    multiply(scalar) {\n        return new _G2Element(this.point.multiply(scalar.scalar));\n    }\n    add(other) {\n        return new _G2Element(this.point.add(other.point));\n    }\n    static hashToCurve(data) {\n        return new _G2Element(_noble_curves_bls12_381__WEBPACK_IMPORTED_MODULE_0__.bls12_381.G2.ProjectivePoint.fromAffine(_noble_curves_bls12_381__WEBPACK_IMPORTED_MODULE_0__.bls12_381.G2.hashToCurve(data).toAffine()));\n    }\n    equals(other) {\n        return this.point.equals(other.point);\n    }\n};\n_G2Element.SIZE = 96;\nlet G2Element = _G2Element;\nconst _GTElement = class _GTElement {\n    constructor(element){\n        this.element = element;\n    }\n    toBytes() {\n        const P = [\n            0,\n            3,\n            1,\n            4,\n            2,\n            5\n        ];\n        const PAIR_SIZE = _GTElement.SIZE / P.length;\n        const bytes = _noble_curves_bls12_381__WEBPACK_IMPORTED_MODULE_0__.bls12_381.fields.Fp12.toBytes(this.element);\n        const result = new Uint8Array(_GTElement.SIZE);\n        for(let i = 0; i < P.length; i++){\n            const sourceStart = P[i] * PAIR_SIZE;\n            const sourceEnd = sourceStart + PAIR_SIZE;\n            const targetStart = i * PAIR_SIZE;\n            result.set(bytes.subarray(sourceStart, sourceEnd), targetStart);\n        }\n        return result;\n    }\n    equals(other) {\n        return _noble_curves_bls12_381__WEBPACK_IMPORTED_MODULE_0__.bls12_381.fields.Fp12.eql(this.element, other.element);\n    }\n};\n_GTElement.SIZE = 576;\nlet GTElement = _GTElement;\nconst _Scalar = class _Scalar {\n    constructor(scalar){\n        this.scalar = scalar;\n    }\n    static random() {\n        return _Scalar.fromBytes(_noble_curves_bls12_381__WEBPACK_IMPORTED_MODULE_0__.bls12_381.utils.randomPrivateKey());\n    }\n    toBytes() {\n        return new Uint8Array(_noble_curves_bls12_381__WEBPACK_IMPORTED_MODULE_0__.bls12_381.fields.Fr.toBytes(this.scalar));\n    }\n    static fromBytes(bytes) {\n        return new _Scalar(_noble_curves_bls12_381__WEBPACK_IMPORTED_MODULE_0__.bls12_381.fields.Fr.fromBytes(bytes));\n    }\n    static fromNumber(num) {\n        return new _Scalar(BigInt(num));\n    }\n};\n_Scalar.SIZE = 32;\nlet Scalar = _Scalar;\n //# sourceMappingURL=bls12381.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG15c3RlbitzZWFsQDAuNi4wX3R5cGVzY3JpcHRANS45LjMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc2VhbC9kaXN0L2VzbS9ibHMxMjM4MS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBb0M7QUFDZ0I7QUFDcEQsTUFBTUUsYUFBYSxNQUFNQTtJQUN2QkMsWUFBWUMsS0FBSyxDQUFFO1FBQ2pCLElBQUksQ0FBQ0EsS0FBSyxHQUFHQTtJQUNmO0lBQ0EsT0FBT0MsWUFBWTtRQUNqQixPQUFPLElBQUlILFdBQVdELDhEQUFTQSxDQUFDSyxFQUFFLENBQUNDLGVBQWUsQ0FBQ0MsSUFBSTtJQUN6RDtJQUNBLE9BQU9DLFVBQVVDLEtBQUssRUFBRTtRQUN0QixPQUFPLElBQUlSLFdBQVdELDhEQUFTQSxDQUFDSyxFQUFFLENBQUNDLGVBQWUsQ0FBQ0ksT0FBTyxDQUFDWCxrREFBS0EsQ0FBQ1U7SUFDbkU7SUFDQUUsVUFBVTtRQUNSLE9BQU8sSUFBSSxDQUFDUixLQUFLLENBQUNRLE9BQU87SUFDM0I7SUFDQUMsU0FBU0MsTUFBTSxFQUFFO1FBQ2YsT0FBTyxJQUFJWixXQUFXLElBQUksQ0FBQ0UsS0FBSyxDQUFDUyxRQUFRLENBQUNDLE9BQU9BLE1BQU07SUFDekQ7SUFDQUMsSUFBSUMsS0FBSyxFQUFFO1FBQ1QsT0FBTyxJQUFJZCxXQUFXLElBQUksQ0FBQ0UsS0FBSyxDQUFDVyxHQUFHLENBQUNDLE1BQU1aLEtBQUs7SUFDbEQ7SUFDQWEsU0FBU0QsS0FBSyxFQUFFO1FBQ2QsT0FBTyxJQUFJZCxXQUFXLElBQUksQ0FBQ0UsS0FBSyxDQUFDYSxRQUFRLENBQUNELE1BQU1aLEtBQUs7SUFDdkQ7SUFDQSxPQUFPYyxZQUFZQyxJQUFJLEVBQUU7UUFDdkIsT0FBTyxJQUFJakIsV0FDVEQsOERBQVNBLENBQUNLLEVBQUUsQ0FBQ0MsZUFBZSxDQUFDYSxVQUFVLENBQUNuQiw4REFBU0EsQ0FBQ0ssRUFBRSxDQUFDWSxX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QUFPRCxRQUFRckMsU0FBUyxDQUFDUiw4REFBU0EsQ0FBQytDLEtBQUssQ0FBQ0MsZ0JBQWdCO0lBQzNEO0lBQ0FyQyxVQUFVO1FBQ1IsT0FBTyxJQUFJMEIsV0FBV3JDLDhEQUFTQSxDQUFDa0MsTUFBTSxDQUFDZSxFQUFFLENBQUN0QyxPQUFPLENBQUMsSUFBSSxDQUFDRSxNQUFNO0lBQy9EO0lBQ0EsT0FBT0wsVUFBVUMsS0FBSyxFQUFFO1FBQ3RCLE9BQU8sSUFBSW9DLFFBQVE3Qyw4REFBU0EsQ0FBQ2tDLE1BQU0sQ0FBQ2UsRUFBRSxDQUFDekMsU0FBUyxDQUFDQztJQUNuRDtJQUNBLE9BQU95QyxXQUFXQyxHQUFHLEVBQUU7UUFDckIsT0FBTyxJQUFJTixRQUFRTyxPQUFPRDtJQUM1QjtBQUNGO0FBQ0FOLFFBQVF0QixJQUFJLEdBQUc7QUFDZixJQUFJOEIsU0FBU1I7QUFNWCxDQUNGLG9DQUFvQyIsInNvdXJjZXMiOlsid2VicGFjazovL25vdGFzY2FtLXByb3RvY29sLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BteXN0ZW4rc2VhbEAwLjYuMF90eXBlc2NyaXB0QDUuOS4zL25vZGVfbW9kdWxlcy9AbXlzdGVuL3NlYWwvZGlzdC9lc20vYmxzMTIzODEuanM/MDE3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0b0hleCB9IGZyb20gXCJAbXlzdGVuL2Jjc1wiO1xuaW1wb3J0IHsgYmxzMTJfMzgxIH0gZnJvbSBcIkBub2JsZS9jdXJ2ZXMvYmxzMTItMzgxXCI7XG5jb25zdCBfRzFFbGVtZW50ID0gY2xhc3MgX0cxRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKHBvaW50KSB7XG4gICAgdGhpcy5wb2ludCA9IHBvaW50O1xuICB9XG4gIHN0YXRpYyBnZW5lcmF0b3IoKSB7XG4gICAgcmV0dXJuIG5ldyBfRzFFbGVtZW50KGJsczEyXzM4MS5HMS5Qcm9qZWN0aXZlUG9pbnQuQkFTRSk7XG4gIH1cbiAgc3RhdGljIGZyb21CeXRlcyhieXRlcykge1xuICAgIHJldHVybiBuZXcgX0cxRWxlbWVudChibHMxMl8zODEuRzEuUHJvamVjdGl2ZVBvaW50LmZyb21IZXgodG9IZXgoYnl0ZXMpKSk7XG4gIH1cbiAgdG9CeXRlcygpIHtcbiAgICByZXR1cm4gdGhpcy5wb2ludC50b0J5dGVzKCk7XG4gIH1cbiAgbXVsdGlwbHkoc2NhbGFyKSB7XG4gICAgcmV0dXJuIG5ldyBfRzFFbGVtZW50KHRoaXMucG9pbnQubXVsdGlwbHkoc2NhbGFyLnNjYWxhcikpO1xuICB9XG4gIGFkZChvdGhlcikge1xuICAgIHJldHVybiBuZXcgX0cxRWxlbWVudCh0aGlzLnBvaW50LmFkZChvdGhlci5wb2ludCkpO1xuICB9XG4gIHN1YnRyYWN0KG90aGVyKSB7XG4gICAgcmV0dXJuIG5ldyBfRzFFbGVtZW50KHRoaXMucG9pbnQuc3VidHJhY3Qob3RoZXIucG9pbnQpKTtcbiAgfVxuICBzdGF0aWMgaGFzaFRvQ3VydmUoZGF0YSkge1xuICAgIHJldHVybiBuZXcgX0cxRWxlbWVudChcbiAgICAgIGJsczEyXzM4MS5HMS5Qcm9qZWN0aXZlUG9pbnQuZnJvbUFmZmluZShibHMxMl8zODEuRzEuaGFzaFRvQ3VydmUoZGF0YSkudG9BZmZpbmUoKSlcbiAgICApO1xuICB9XG4gIHBhaXJpbmcob3RoZXIpIHtcbiAgICByZXR1cm4gbmV3IEdURWxlbWVudChibHMxMl8zODEucGFpcmluZyh0aGlzLnBvaW50LCBvdGhlci5wb2ludCkpO1xuICB9XG59O1xuX0cxRWxlbWVudC5TSVpFID0gNDg7XG5sZXQgRzFFbGVtZW50ID0gX0cxRWxlbWVudDtcbmNvbnN0IF9HMkVsZW1lbnQgPSBjbGFzcyBfRzJFbGVtZW50IHtcbiAgY29uc3RydWN0b3IocG9pbnQpIHtcbiAgICB0aGlzLnBvaW50ID0gcG9pbnQ7XG4gIH1cbiAgc3RhdGljIGdlbmVyYXRvcigpIHtcbiAgICByZXR1cm4gbmV3IF9HMkVsZW1lbnQoYmxzMTJfMzgxLkcyLlByb2plY3RpdmVQb2ludC5CQVNFKTtcbiAgfVxuICBzdGF0aWMgZnJvbUJ5dGVzKGJ5dGVzKSB7XG4gICAgcmV0dXJuIG5ldyBfRzJFbGVtZW50KGJsczEyXzM4MS5HMi5Qcm9qZWN0aXZlUG9pbnQuZnJvbUhleCh0b0hleChieXRlcykpKTtcbiAgfVxuICB0b0J5dGVzKCkge1xuICAgIHJldHVybiB0aGlzLnBvaW50LnRvQnl0ZXMoKTtcbiAgfVxuICBtdWx0aXBseShzY2FsYXIpIHtcbiAgICByZXR1cm4gbmV3IF9HMkVsZW1lbnQodGhpcy5wb2ludC5tdWx0aXBseShzY2FsYXIuc2NhbGFyKSk7XG4gIH1cbiAgYWRkKG90aGVyKSB7XG4gICAgcmV0dXJuIG5ldyBfRzJFbGVtZW50KHRoaXMucG9pbnQuYWRkKG90aGVyLnBvaW50KSk7XG4gIH1cbiAgc3RhdGljIGhhc2hUb0N1cnZlKGRhdGEpIHtcbiAgICByZXR1cm4gbmV3IF9HMkVsZW1lbnQoXG4gICAgICBibHMxMl8zODEuRzIuUHJvamVjdGl2ZVBvaW50LmZyb21BZmZpbmUoYmxzMTJfMzgxLkcyLmhhc2hUb0N1cnZlKGRhdGEpLnRvQWZmaW5lKCkpXG4gICAgKTtcbiAgfVxuICBlcXVhbHMob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcy5wb2ludC5lcXVhbHMob3RoZXIucG9pbnQpO1xuICB9XG59O1xuX0cyRWxlbWVudC5TSVpFID0gOTY7XG5sZXQgRzJFbGVtZW50ID0gX0cyRWxlbWVudDtcbmNvbnN0IF9HVEVsZW1lbnQgPSBjbGFzcyBfR1RFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gIH1cbiAgdG9CeXRlcygpIHtcbiAgICBjb25zdCBQID0gWzAsIDMsIDEsIDQsIDIsIDVdO1xuICAgIGNvbnN0IFBBSVJfU0laRSA9IF9HVEVsZW1lbnQuU0laRSAvIFAubGVuZ3RoO1xuICAgIGNvbnN0IGJ5dGVzID0gYmxzMTJfMzgxLmZpZWxkcy5GcDEyLnRvQnl0ZXModGhpcy5lbGVtZW50KTtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgVWludDhBcnJheShfR1RFbGVtZW50LlNJWkUpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgUC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgc291cmNlU3RhcnQgPSBQW2ldICogUEFJUl9TSVpFO1xuICAgICAgY29uc3Qgc291cmNlRW5kID0gc291cmNlU3RhcnQgKyBQQUlSX1NJWkU7XG4gICAgICBjb25zdCB0YXJnZXRTdGFydCA9IGkgKiBQQUlSX1NJWkU7XG4gICAgICByZXN1bHQuc2V0KGJ5dGVzLnN1YmFycmF5KHNvdXJjZVN0YXJ0LCBzb3VyY2VFbmQpLCB0YXJnZXRTdGFydCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgZXF1YWxzKG90aGVyKSB7XG4gICAgcmV0dXJuIGJsczEyXzM4MS5maWVsZHMuRnAxMi5lcWwodGhpcy5lbGVtZW50LCBvdGhlci5lbGVtZW50KTtcbiAgfVxufTtcbl9HVEVsZW1lbnQuU0laRSA9IDU3NjtcbmxldCBHVEVsZW1lbnQgPSBfR1RFbGVtZW50O1xuY29uc3QgX1NjYWxhciA9IGNsYXNzIF9TY2FsYXIge1xuICBjb25zdHJ1Y3RvcihzY2FsYXIpIHtcbiAgICB0aGlzLnNjYWxhciA9IHNjYWxhcjtcbiAgfVxuICBzdGF0aWMgcmFuZG9tKCkge1xuICAgIHJldHVybiBfU2NhbGFyLmZyb21CeXRlcyhibHMxMl8zODEudXRpbHMucmFuZG9tUHJpdmF0ZUtleSgpKTtcbiAgfVxuICB0b0J5dGVzKCkge1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheShibHMxMl8zODEuZmllbGRzLkZyLnRvQnl0ZXModGhpcy5zY2FsYXIpKTtcbiAgfVxuICBzdGF0aWMgZnJvbUJ5dGVzKGJ5dGVzKSB7XG4gICAgcmV0dXJuIG5ldyBfU2NhbGFyKGJsczEyXzM4MS5maWVsZHMuRnIuZnJvbUJ5dGVzKGJ5dGVzKSk7XG4gIH1cbiAgc3RhdGljIGZyb21OdW1iZXIobnVtKSB7XG4gICAgcmV0dXJuIG5ldyBfU2NhbGFyKEJpZ0ludChudW0pKTtcbiAgfVxufTtcbl9TY2FsYXIuU0laRSA9IDMyO1xubGV0IFNjYWxhciA9IF9TY2FsYXI7XG5leHBvcnQge1xuICBHMUVsZW1lbnQsXG4gIEcyRWxlbWVudCxcbiAgR1RFbGVtZW50LFxuICBTY2FsYXJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ibHMxMjM4MS5qcy5tYXBcbiJdLCJuYW1lcyI6WyJ0b0hleCIsImJsczEyXzM4MSIsIl9HMUVsZW1lbnQiLCJjb25zdHJ1Y3RvciIsInBvaW50IiwiZ2VuZXJhdG9yIiwiRzEiLCJQcm9qZWN0aXZlUG9pbnQiLCJCQVNFIiwiZnJvbUJ5dGVzIiwiYnl0ZXMiLCJmcm9tSGV4IiwidG9CeXRlcyIsIm11bHRpcGx5Iiwic2NhbGFyIiwiYWRkIiwib3RoZXIiLCJzdWJ0cmFjdCIsImhhc2hUb0N1cnZlIiwiZGF0YSIsImZyb21BZmZpbmUiLCJ0b0FmZmluZSIsInBhaXJpbmciLCJHVEVsZW1lbnQiLCJTSVpFIiwiRzFFbGVtZW50IiwiX0cyRWxlbWVudCIsIkcyIiwiZXF1YWxzIiwiRzJFbGVtZW50IiwiX0dURWxlbWVudCIsImVsZW1lbnQiLCJQIiwiUEFJUl9TSVpFIiwibGVuZ3RoIiwiZmllbGRzIiwiRnAxMiIsInJlc3VsdCIsIlVpbnQ4QXJyYXkiLCJpIiwic291cmNlU3RhcnQiLCJzb3VyY2VFbmQiLCJ0YXJnZXRTdGFydCIsInNldCIsInN1YmFycmF5IiwiZXFsIiwiX1NjYWxhciIsInJhbmRvbSIsInV0aWxzIiwicmFuZG9tUHJpdmF0ZUtleSIsIkZyIiwiZnJvbU51bWJlciIsIm51bSIsIkJpZ0ludCIsIlNjYWxhciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/bls12381.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/client.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/client.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SealClient: () => (/* binding */ SealClient)\n/* harmony export */ });\n/* harmony import */ var _bcs_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./bcs.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/bcs.js\");\n/* harmony import */ var _bls12381_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./bls12381.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/bls12381.js\");\n/* harmony import */ var _decrypt_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./decrypt.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/decrypt.js\");\n/* harmony import */ var _dem_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./dem.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/dem.js\");\n/* harmony import */ var _encrypt_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./encrypt.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/encrypt.js\");\n/* harmony import */ var _error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./error.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/error.js\");\n/* harmony import */ var _ibe_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ibe.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/ibe.js\");\n/* harmony import */ var _key_server_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./key-server.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/key-server.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/utils.js\");\nvar __typeError = (msg)=>{\n    throw TypeError(msg);\n};\nvar __accessCheck = (obj, member, msg)=>member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter)=>(__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value)=>member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter)=>(__accessCheck(obj, member, \"write to private field\"), setter ? setter.call(obj, value) : member.set(obj, value), value);\nvar __privateMethod = (obj, member, method)=>(__accessCheck(obj, member, \"access private method\"), method);\nvar _suiClient, _configs, _keyServers, _verifyKeyServers, _cachedKeys, _cachedPublicKeys, _timeout, _totalWeight, _SealClient_instances, createEncryptionInput_fn, weight_fn, validateEncryptionServices_fn, getWeightedKeyServers_fn, loadKeyServers_fn;\n\n\n\n\n\n\n\n\n\nconst _SealClient = class _SealClient {\n    constructor(options){\n        __privateAdd(this, _SealClient_instances);\n        __privateAdd(this, _suiClient);\n        __privateAdd(this, _configs);\n        __privateAdd(this, _keyServers, null);\n        __privateAdd(this, _verifyKeyServers);\n        // A caching map for: fullId:object_id -> partial key.\n        __privateAdd(this, _cachedKeys, /* @__PURE__ */ new Map());\n        __privateAdd(this, _cachedPublicKeys, /* @__PURE__ */ new Map());\n        __privateAdd(this, _timeout);\n        __privateAdd(this, _totalWeight);\n        __privateSet(this, _suiClient, options.suiClient);\n        if (new Set(options.serverConfigs.map((s)=>s.objectId)).size !== options.serverConfigs.length) {\n            throw new _error_js__WEBPACK_IMPORTED_MODULE_0__.InvalidClientOptionsError(\"Duplicate object IDs\");\n        }\n        if (options.serverConfigs.some((s)=>s.apiKeyName && !s.apiKey || !s.apiKeyName && s.apiKey)) {\n            throw new _error_js__WEBPACK_IMPORTED_MODULE_0__.InvalidClientOptionsError(\"Both apiKeyName and apiKey must be provided or not provided for all key servers\");\n        }\n        __privateSet(this, _configs, new Map(options.serverConfigs.map((server)=>[\n                server.objectId,\n                server\n            ])));\n        __privateSet(this, _totalWeight, options.serverConfigs.map((server)=>server.weight).reduce((sum, term)=>sum + term, 0));\n        __privateSet(this, _verifyKeyServers, options.verifyKeyServers ?? true);\n        __privateSet(this, _timeout, options.timeout ?? 1e4);\n    }\n    static asClientExtension(options) {\n        return {\n            name: \"seal\",\n            register: (client)=>{\n                return new _SealClient({\n                    suiClient: client,\n                    ...options\n                });\n            }\n        };\n    }\n    /**\n   * Return an encrypted message under the identity.\n   *\n   * @param kemType - The type of KEM to use.\n   * @param demType - The type of DEM to use.\n   * @param threshold - The threshold for the TSS encryption.\n   * @param packageId - the packageId namespace.\n   * @param id - the identity to use.\n   * @param data - the data to encrypt.\n   * @param aad - optional additional authenticated data.\n   * @returns The bcs bytes of the encrypted object containing all metadata and the 256-bit symmetric key that was used to encrypt the object.\n   * \tSince the symmetric key can be used to decrypt, it should not be shared but can be used e.g. for backup.\n   */ async encrypt({ kemType = _encrypt_js__WEBPACK_IMPORTED_MODULE_1__.KemType.BonehFranklinBLS12381DemCCA, demType = _encrypt_js__WEBPACK_IMPORTED_MODULE_1__.DemType.AesGcm256, threshold, packageId, id, data, aad = new Uint8Array() }) {\n        const packageObj = await __privateGet(this, _suiClient).core.getObject({\n            objectId: packageId\n        });\n        if (String(packageObj.object.version) !== \"1\") {\n            throw new _error_js__WEBPACK_IMPORTED_MODULE_0__.InvalidPackageError(`Package ${packageId} is not the first version`);\n        }\n        return (0,_encrypt_js__WEBPACK_IMPORTED_MODULE_1__.encrypt)({\n            keyServers: await __privateMethod(this, _SealClient_instances, getWeightedKeyServers_fn).call(this),\n            kemType,\n            threshold,\n            packageId,\n            id,\n            encryptionInput: __privateMethod(this, _SealClient_instances, createEncryptionInput_fn).call(this, demType, data, aad)\n        });\n    }\n    /**\n   * Decrypt the given encrypted bytes using cached keys.\n   * Calls fetchKeys in case one or more of the required keys is not cached yet.\n   * The function throws an error if the client's key servers are not a subset of\n   * the encrypted object's key servers or if the threshold cannot be met.\n   *\n   * If checkShareConsistency is true, the decrypted shares are checked for consistency, meaning that\n   * any combination of at least threshold shares should either succesfully combine to the plaintext or fail.\n   * This is useful in case the encryptor is not trusted and the decryptor wants to ensure all decryptors\n   * receive the same output (e.g., for onchain encrypted voting).\n   *\n   * @param data - The encrypted bytes to decrypt.\n   * @param sessionKey - The session key to use.\n   * @param txBytes - The transaction bytes to use (that calls seal_approve* functions).\n   * @param checkShareConsistency - If true, the shares are checked for consistency.\n   * @returns - The decrypted plaintext corresponding to ciphertext.\n   */ async decrypt({ data, sessionKey, txBytes, checkShareConsistency }) {\n        const encryptedObject = _bcs_js__WEBPACK_IMPORTED_MODULE_2__.EncryptedObject.parse(data);\n        __privateMethod(this, _SealClient_instances, validateEncryptionServices_fn).call(this, encryptedObject.services.map((s)=>s[0]), encryptedObject.threshold);\n        await this.fetchKeys({\n            ids: [\n                encryptedObject.id\n            ],\n            txBytes,\n            sessionKey,\n            threshold: encryptedObject.threshold\n        });\n        if (checkShareConsistency) {\n            const publicKeys = await this.getPublicKeys(encryptedObject.services.map(([objectId, _])=>objectId));\n            return (0,_decrypt_js__WEBPACK_IMPORTED_MODULE_3__.decrypt)({\n                encryptedObject,\n                keys: __privateGet(this, _cachedKeys),\n                publicKeys\n            });\n        }\n        return (0,_decrypt_js__WEBPACK_IMPORTED_MODULE_3__.decrypt)({\n            encryptedObject,\n            keys: __privateGet(this, _cachedKeys)\n        });\n    }\n    async getKeyServers() {\n        if (!__privateGet(this, _keyServers)) {\n            __privateSet(this, _keyServers, __privateMethod(this, _SealClient_instances, loadKeyServers_fn).call(this).catch((error)=>{\n                __privateSet(this, _keyServers, null);\n                throw error;\n            }));\n        }\n        return __privateGet(this, _keyServers);\n    }\n    /**\n   * Get the public keys for the given services.\n   * If all public keys are not in the cache, they are retrieved.\n   *\n   * @param services - The services to get the public keys for.\n   * @returns The public keys for the given services in the same order as the given services.\n   */ async getPublicKeys(services) {\n        const keyServers = await this.getKeyServers();\n        const missingKeyServers = services.filter((objectId)=>!keyServers.has(objectId) && !__privateGet(this, _cachedPublicKeys).has(objectId));\n        if (missingKeyServers.length > 0) {\n            (await (0,_key_server_js__WEBPACK_IMPORTED_MODULE_4__.retrieveKeyServers)({\n                objectIds: missingKeyServers,\n                client: __privateGet(this, _suiClient)\n            })).forEach((keyServer)=>__privateGet(this, _cachedPublicKeys).set(keyServer.objectId, _bls12381_js__WEBPACK_IMPORTED_MODULE_5__.G2Element.fromBytes(keyServer.pk)));\n        }\n        return services.map((objectId)=>{\n            const keyServer = keyServers.get(objectId);\n            if (keyServer) {\n                return _bls12381_js__WEBPACK_IMPORTED_MODULE_5__.G2Element.fromBytes(keyServer.pk);\n            }\n            return __privateGet(this, _cachedPublicKeys).get(objectId);\n        });\n    }\n    /**\n   * Fetch keys from the key servers and update the cache.\n   *\n   * It is recommended to call this function once for all ids of all encrypted objects if\n   * there are multiple, then call decrypt for each object. This avoids calling fetchKey\n   * individually for each decrypt.\n   *\n   * @param ids - The ids of the encrypted objects.\n   * @param txBytes - The transaction bytes to use (that calls seal_approve* functions).\n   * @param sessionKey - The session key to use.\n   * @param threshold - The threshold for the TSS encryptions. The function returns when a threshold of key servers had returned keys for all ids.\n   */ async fetchKeys({ ids, txBytes, sessionKey, threshold }) {\n        if (threshold > __privateGet(this, _totalWeight) || threshold < 1) {\n            throw new _error_js__WEBPACK_IMPORTED_MODULE_0__.InvalidThresholdError(`Invalid threshold ${threshold} servers with weights ${__privateGet(this, _configs)}`);\n        }\n        const keyServers = await this.getKeyServers();\n        const fullIds = ids.map((id)=>(0,_utils_js__WEBPACK_IMPORTED_MODULE_6__.createFullId)(sessionKey.getPackageId(), id));\n        let completedWeight = 0;\n        const remainingKeyServers = [];\n        let remainingKeyServersWeight = 0;\n        for (const objectId of keyServers.keys()){\n            if (fullIds.every((fullId)=>__privateGet(this, _cachedKeys).has(`${fullId}:${objectId}`))) {\n                completedWeight += __privateMethod(this, _SealClient_instances, weight_fn).call(this, objectId);\n            } else {\n                remainingKeyServers.push(objectId);\n                remainingKeyServersWeight += __privateMethod(this, _SealClient_instances, weight_fn).call(this, objectId);\n            }\n        }\n        if (completedWeight >= threshold) {\n            return;\n        }\n        const certificate = await sessionKey.getCertificate();\n        const signedRequest = await sessionKey.createRequestParams(txBytes);\n        const controller = new AbortController();\n        const errors = [];\n        const keyFetches = remainingKeyServers.map(async (objectId)=>{\n            const server = keyServers.get(objectId);\n            try {\n                const config = __privateGet(this, _configs).get(objectId);\n                const allKeys = await (0,_key_server_js__WEBPACK_IMPORTED_MODULE_4__.fetchKeysForAllIds)({\n                    url: server.url,\n                    requestSignature: signedRequest.requestSignature,\n                    transactionBytes: txBytes,\n                    encKey: signedRequest.encKey,\n                    encKeyPk: signedRequest.encKeyPk,\n                    encVerificationKey: signedRequest.encVerificationKey,\n                    certificate,\n                    timeout: __privateGet(this, _timeout),\n                    apiKeyName: config?.apiKeyName,\n                    apiKey: config?.apiKey,\n                    signal: controller.signal\n                });\n                for (const { fullId, key } of allKeys){\n                    const keyElement = _bls12381_js__WEBPACK_IMPORTED_MODULE_5__.G1Element.fromBytes(key);\n                    if (!_ibe_js__WEBPACK_IMPORTED_MODULE_7__.BonehFranklinBLS12381Services.verifyUserSecretKey(keyElement, fullId, _bls12381_js__WEBPACK_IMPORTED_MODULE_5__.G2Element.fromBytes(server.pk))) {\n                        console.warn(\"Received invalid key from key server \" + server.objectId);\n                        continue;\n                    }\n                    __privateGet(this, _cachedKeys).set(`${fullId}:${server.objectId}`, keyElement);\n                }\n                if (fullIds.every((fullId)=>__privateGet(this, _cachedKeys).has(`${fullId}:${server.objectId}`))) {\n                    completedWeight += __privateMethod(this, _SealClient_instances, weight_fn).call(this, objectId);\n                    if (completedWeight >= threshold) {\n                        controller.abort();\n                    }\n                }\n            } catch (error) {\n                if (!controller.signal.aborted) {\n                    errors.push(error);\n                }\n            } finally{\n                remainingKeyServersWeight -= __privateMethod(this, _SealClient_instances, weight_fn).call(this, objectId);\n                if (remainingKeyServersWeight < threshold - completedWeight) {\n                    controller.abort(new _error_js__WEBPACK_IMPORTED_MODULE_0__.TooManyFailedFetchKeyRequestsError());\n                }\n            }\n        });\n        await Promise.allSettled(keyFetches);\n        if (completedWeight < threshold) {\n            throw (0,_error_js__WEBPACK_IMPORTED_MODULE_0__.toMajorityError)(errors);\n        }\n    }\n    /**\n   * Get derived keys from the given services.\n   *\n   * @param id - The id of the encrypted object.\n   * @param txBytes - The transaction bytes to use (that calls seal_approve* functions).\n   * @param sessionKey - The session key to use.\n   * @param threshold - The threshold.\n   * @returns - Derived keys for the given services that are in the cache as a \"service object ID\" -> derived key map. If the call is succesful, exactly threshold keys will be returned.\n   */ async getDerivedKeys({ kemType = _encrypt_js__WEBPACK_IMPORTED_MODULE_1__.KemType.BonehFranklinBLS12381DemCCA, id, txBytes, sessionKey, threshold }) {\n        switch(kemType){\n            case _encrypt_js__WEBPACK_IMPORTED_MODULE_1__.KemType.BonehFranklinBLS12381DemCCA:\n                const keyServers = await this.getKeyServers();\n                if (threshold > __privateGet(this, _totalWeight)) {\n                    throw new _error_js__WEBPACK_IMPORTED_MODULE_0__.InvalidThresholdError(`Invalid threshold ${threshold} for ${__privateGet(this, _totalWeight)} servers`);\n                }\n                await this.fetchKeys({\n                    ids: [\n                        id\n                    ],\n                    txBytes,\n                    sessionKey,\n                    threshold\n                });\n                const fullId = (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__.createFullId)(sessionKey.getPackageId(), id);\n                const derivedKeys = /* @__PURE__ */ new Map();\n                let weight = 0;\n                for (const objectId of keyServers.keys()){\n                    const cachedKey = __privateGet(this, _cachedKeys).get(`${fullId}:${objectId}`);\n                    if (cachedKey) {\n                        derivedKeys.set(objectId, new _key_server_js__WEBPACK_IMPORTED_MODULE_4__.BonehFranklinBLS12381DerivedKey(cachedKey));\n                        weight += __privateMethod(this, _SealClient_instances, weight_fn).call(this, objectId);\n                        if (weight >= threshold) {\n                            break;\n                        }\n                    }\n                }\n                return derivedKeys;\n        }\n    }\n};\n_suiClient = new WeakMap();\n_configs = new WeakMap();\n_keyServers = new WeakMap();\n_verifyKeyServers = new WeakMap();\n_cachedKeys = new WeakMap();\n_cachedPublicKeys = new WeakMap();\n_timeout = new WeakMap();\n_totalWeight = new WeakMap();\n_SealClient_instances = new WeakSet();\ncreateEncryptionInput_fn = function(type, data, aad) {\n    switch(type){\n        case _encrypt_js__WEBPACK_IMPORTED_MODULE_1__.DemType.AesGcm256:\n            return new _dem_js__WEBPACK_IMPORTED_MODULE_8__.AesGcm256(data, aad);\n        case _encrypt_js__WEBPACK_IMPORTED_MODULE_1__.DemType.Hmac256Ctr:\n            return new _dem_js__WEBPACK_IMPORTED_MODULE_8__.Hmac256Ctr(data, aad);\n    }\n};\nweight_fn = function(objectId) {\n    return __privateGet(this, _configs).get(objectId)?.weight ?? 0;\n};\nvalidateEncryptionServices_fn = function(services, threshold) {\n    if (services.some((objectId)=>{\n        const countInClient = __privateMethod(this, _SealClient_instances, weight_fn).call(this, objectId);\n        return countInClient > 0 && countInClient !== (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__.count)(services, objectId);\n    })) {\n        throw new _error_js__WEBPACK_IMPORTED_MODULE_0__.InconsistentKeyServersError(`Client's key servers must be a subset of the encrypted object's key servers`);\n    }\n    if (threshold > __privateGet(this, _totalWeight)) {\n        throw new _error_js__WEBPACK_IMPORTED_MODULE_0__.InvalidThresholdError(`Invalid threshold ${threshold} for ${__privateGet(this, _totalWeight)} servers`);\n    }\n};\ngetWeightedKeyServers_fn = async function() {\n    const keyServers = await this.getKeyServers();\n    const keyServersWithMultiplicity = [];\n    for (const [objectId, config] of __privateGet(this, _configs)){\n        const keyServer = keyServers.get(objectId);\n        for(let i = 0; i < config.weight; i++){\n            keyServersWithMultiplicity.push(keyServer);\n        }\n    }\n    return keyServersWithMultiplicity;\n};\nloadKeyServers_fn = async function() {\n    const keyServers = await (0,_key_server_js__WEBPACK_IMPORTED_MODULE_4__.retrieveKeyServers)({\n        objectIds: [\n            ...__privateGet(this, _configs)\n        ].map(([objectId])=>objectId),\n        client: __privateGet(this, _suiClient)\n    });\n    if (keyServers.length === 0) {\n        throw new _error_js__WEBPACK_IMPORTED_MODULE_0__.InvalidKeyServerError(\"No key servers found\");\n    }\n    if (__privateGet(this, _verifyKeyServers)) {\n        await Promise.all(keyServers.map(async (server)=>{\n            const config = __privateGet(this, _configs).get(server.objectId);\n            if (!await (0,_key_server_js__WEBPACK_IMPORTED_MODULE_4__.verifyKeyServer)(server, __privateGet(this, _timeout), config?.apiKeyName, config?.apiKey)) {\n                throw new _error_js__WEBPACK_IMPORTED_MODULE_0__.InvalidKeyServerError(`Key server ${server.objectId} is not valid`);\n            }\n        }));\n    }\n    return new Map(keyServers.map((server)=>[\n            server.objectId,\n            server\n        ]));\n};\nlet SealClient = _SealClient;\n //# sourceMappingURL=client.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG15c3RlbitzZWFsQDAuNi4wX3R5cGVzY3JpcHRANS45LjMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc2VhbC9kaXN0L2VzbS9jbGllbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLGNBQWMsQ0FBQ0M7SUFDakIsTUFBTUMsVUFBVUQ7QUFDbEI7QUFDQSxJQUFJRSxnQkFBZ0IsQ0FBQ0MsS0FBS0MsUUFBUUosTUFBUUksT0FBT0MsR0FBRyxDQUFDRixRQUFRSixZQUFZLFlBQVlDO0FBQ3JGLElBQUlNLGVBQWUsQ0FBQ0gsS0FBS0MsUUFBUUcsU0FBWUwsQ0FBQUEsY0FBY0MsS0FBS0MsUUFBUSw0QkFBNEJHLFNBQVNBLE9BQU9DLElBQUksQ0FBQ0wsT0FBT0MsT0FBT0ssR0FBRyxDQUFDTixJQUFHO0FBQzlJLElBQUlPLGVBQWUsQ0FBQ1AsS0FBS0MsUUFBUU8sUUFBVVAsT0FBT0MsR0FBRyxDQUFDRixPQUFPSixZQUFZLHVEQUF1REssa0JBQWtCUSxVQUFVUixPQUFPUyxHQUFHLENBQUNWLE9BQU9DLE9BQU9VLEdBQUcsQ0FBQ1gsS0FBS1E7QUFDOUwsSUFBSUksZUFBZSxDQUFDWixLQUFLQyxRQUFRTyxPQUFPSyxTQUFZZCxDQUFBQSxjQUFjQyxLQUFLQyxRQUFRLDJCQUEyQlksU0FBU0EsT0FBT1IsSUFBSSxDQUFDTCxLQUFLUSxTQUFTUCxPQUFPVSxHQUFHLENBQUNYLEtBQUtRLFFBQVFBLEtBQUk7QUFDekssSUFBSU0sa0JBQWtCLENBQUNkLEtBQUtDLFFBQVFjLFNBQVloQixDQUFBQSxjQUFjQyxLQUFLQyxRQUFRLDBCQUEwQmMsTUFBSztBQUMxRyxJQUFJQyxZQUFZQyxVQUFVQyxhQUFhQyxtQkFBbUJDLGFBQWFDLG1CQUFtQkMsVUFBVUMsY0FBY0MsdUJBQXVCQywwQkFBMEJDLFdBQVdDLCtCQUErQkMsMEJBQTBCQztBQUM1TDtBQUNVO0FBQ2Q7QUFDVTtBQUNRO0FBU3JDO0FB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R0FBRztRQUMzQixNQUFNLElBQUl2Qiw0REFBcUJBLENBQUM7SUFDbEM7SUFDQSxJQUFJdEMsYUFBYSxJQUFJLEVBQUVnQixvQkFBb0I7UUFDekMsTUFBTW1JLFFBQVFVLEdBQUcsQ0FDZmxFLFdBQVdsQyxHQUFHLENBQUMsT0FBT1E7WUFDcEIsTUFBTWtFLFNBQVNuSSxhQUFhLElBQUksRUFBRWMsVUFBVVgsR0FBRyxDQUFDOEQsT0FBT04sUUFBUTtZQUMvRCxJQUFJLENBQUMsTUFBTWIsK0RBQWVBLENBQUNtQixRQUFRakUsYUFBYSxJQUFJLEVBQUVtQixXQUFXZ0gsUUFBUXBFLFlBQVlvRSxRQUFRbkUsU0FBUztnQkFDcEcsTUFBTSxJQUFJMUIsNERBQXFCQSxDQUFDLENBQUMsV0FBVyxFQUFFMkIsT0FBT04sUUFBUSxDQUFDLGFBQWEsQ0FBQztZQUM5RTtRQUNGO0lBRUo7SUFDQSxPQUFPLElBQUlOLElBQUlzQyxXQUFXbEMsR0FBRyxDQUFDLENBQUNRLFNBQVc7WUFBQ0EsT0FBT04sUUFBUTtZQUFFTTtTQUFPO0FBQ3JFO0FBQ0EsSUFBSTZGLGFBQWE1RztBQUdmLENBQ0Ysa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm90YXNjYW0tcHJvdG9jb2wvLi9ub2RlX21vZHVsZXMvLnBucG0vQG15c3RlbitzZWFsQDAuNi4wX3R5cGVzY3JpcHRANS45LjMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc2VhbC9kaXN0L2VzbS9jbGllbnQuanM/MjgyZCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX190eXBlRXJyb3IgPSAobXNnKSA9PiB7XG4gIHRocm93IFR5cGVFcnJvcihtc2cpO1xufTtcbnZhciBfX2FjY2Vzc0NoZWNrID0gKG9iaiwgbWVtYmVyLCBtc2cpID0+IG1lbWJlci5oYXMob2JqKSB8fCBfX3R5cGVFcnJvcihcIkNhbm5vdCBcIiArIG1zZyk7XG52YXIgX19wcml2YXRlR2V0ID0gKG9iaiwgbWVtYmVyLCBnZXR0ZXIpID0+IChfX2FjY2Vzc0NoZWNrKG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpLCBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogbWVtYmVyLmdldChvYmopKTtcbnZhciBfX3ByaXZhdGVBZGQgPSAob2JqLCBtZW1iZXIsIHZhbHVlKSA9PiBtZW1iZXIuaGFzKG9iaikgPyBfX3R5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIikgOiBtZW1iZXIgaW5zdGFuY2VvZiBXZWFrU2V0ID8gbWVtYmVyLmFkZChvYmopIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbnZhciBfX3ByaXZhdGVTZXQgPSAob2JqLCBtZW1iZXIsIHZhbHVlLCBzZXR0ZXIpID0+IChfX2FjY2Vzc0NoZWNrKG9iaiwgbWVtYmVyLCBcIndyaXRlIHRvIHByaXZhdGUgZmllbGRcIiksIHNldHRlciA/IHNldHRlci5jYWxsKG9iaiwgdmFsdWUpIDogbWVtYmVyLnNldChvYmosIHZhbHVlKSwgdmFsdWUpO1xudmFyIF9fcHJpdmF0ZU1ldGhvZCA9IChvYmosIG1lbWJlciwgbWV0aG9kKSA9PiAoX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJhY2Nlc3MgcHJpdmF0ZSBtZXRob2RcIiksIG1ldGhvZCk7XG52YXIgX3N1aUNsaWVudCwgX2NvbmZpZ3MsIF9rZXlTZXJ2ZXJzLCBfdmVyaWZ5S2V5U2VydmVycywgX2NhY2hlZEtleXMsIF9jYWNoZWRQdWJsaWNLZXlzLCBfdGltZW91dCwgX3RvdGFsV2VpZ2h0LCBfU2VhbENsaWVudF9pbnN0YW5jZXMsIGNyZWF0ZUVuY3J5cHRpb25JbnB1dF9mbiwgd2VpZ2h0X2ZuLCB2YWxpZGF0ZUVuY3J5cHRpb25TZXJ2aWNlc19mbiwgZ2V0V2VpZ2h0ZWRLZXlTZXJ2ZXJzX2ZuLCBsb2FkS2V5U2VydmVyc19mbjtcbmltcG9ydCB7IEVuY3J5cHRlZE9iamVjdCB9IGZyb20gXCIuL2Jjcy5qc1wiO1xuaW1wb3J0IHsgRzFFbGVtZW50LCBHMkVsZW1lbnQgfSBmcm9tIFwiLi9ibHMxMjM4MS5qc1wiO1xuaW1wb3J0IHsgZGVjcnlwdCB9IGZyb20gXCIuL2RlY3J5cHQuanNcIjtcbmltcG9ydCB7IEFlc0djbTI1NiwgSG1hYzI1NkN0ciB9IGZyb20gXCIuL2RlbS5qc1wiO1xuaW1wb3J0IHsgRGVtVHlwZSwgZW5jcnlwdCwgS2VtVHlwZSB9IGZyb20gXCIuL2VuY3J5cHQuanNcIjtcbmltcG9ydCB7XG4gIEluY29uc2lzdGVudEtleVNlcnZlcnNFcnJvcixcbiAgSW52YWxpZENsaWVudE9wdGlvbnNFcnJvcixcbiAgSW52YWxpZEtleVNlcnZlckVycm9yLFxuICBJbnZhbGlkUGFja2FnZUVycm9yLFxuICBJbnZhbGlkVGhyZXNob2xkRXJyb3IsXG4gIHRvTWFqb3JpdHlFcnJvcixcbiAgVG9vTWFueUZhaWxlZEZldGNoS2V5UmVxdWVzdHNFcnJvclxufSBmcm9tIFwiLi9lcnJvci5qc1wiO1xuaW1wb3J0IHsgQm9uZWhGcmFua2xpbkJMUzEyMzgxU2VydmljZXMgfSBmcm9tIFwiLi9pYmUuanNcIjtcbmltcG9ydCB7XG4gIEJvbmVoRnJhbmtsaW5CTFMxMjM4MURlcml2ZWRLZXksXG4gIHJldHJpZXZlS2V5U2VydmVycyxcbiAgdmVyaWZ5S2V5U2VydmVyLFxuICBmZXRjaEtleXNGb3JBbGxJZHNcbn0gZnJvbSBcIi4va2V5LXNlcnZlci5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlRnVsbElkLCBjb3VudCB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG5jb25zdCBfU2VhbENsaWVudCA9IGNsYXNzIF9TZWFsQ2xpZW50IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfU2VhbENsaWVudF9pbnN0YW5jZXMpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfc3VpQ2xpZW50KTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX2NvbmZpZ3MpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfa2V5U2VydmVycywgbnVsbCk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF92ZXJpZnlLZXlTZXJ2ZXJzKTtcbiAgICAvLyBBIGNhY2hpbmcgbWFwIGZvcjogZnVsbElkOm9iamVjdF9pZCAtPiBwYXJ0aWFsIGtleS5cbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX2NhY2hlZEtleXMsIC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfY2FjaGVkUHVibGljS2V5cywgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF90aW1lb3V0KTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX3RvdGFsV2VpZ2h0KTtcbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX3N1aUNsaWVudCwgb3B0aW9ucy5zdWlDbGllbnQpO1xuICAgIGlmIChuZXcgU2V0KG9wdGlvbnMuc2VydmVyQ29uZmlncy5tYXAoKHMpID0+IHMub2JqZWN0SWQpKS5zaXplICE9PSBvcHRpb25zLnNlcnZlckNvbmZpZ3MubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZENsaWVudE9wdGlvbnNFcnJvcihcIkR1cGxpY2F0ZSBvYmplY3QgSURzXCIpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5zZXJ2ZXJDb25maWdzLnNvbWUoKHMpID0+IHMuYXBpS2V5TmFtZSAmJiAhcy5hcGlLZXkgfHwgIXMuYXBpS2V5TmFtZSAmJiBzLmFwaUtleSkpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQ2xpZW50T3B0aW9uc0Vycm9yKFxuICAgICAgICBcIkJvdGggYXBpS2V5TmFtZSBhbmQgYXBpS2V5IG11c3QgYmUgcHJvdmlkZWQgb3Igbm90IHByb3ZpZGVkIGZvciBhbGwga2V5IHNlcnZlcnNcIlxuICAgICAgKTtcbiAgICB9XG4gICAgX19wcml2YXRlU2V0KHRoaXMsIF9jb25maWdzLCBuZXcgTWFwKG9wdGlvbnMuc2VydmVyQ29uZmlncy5tYXAoKHNlcnZlcikgPT4gW3NlcnZlci5vYmplY3RJZCwgc2VydmVyXSkpKTtcbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX3RvdGFsV2VpZ2h0LCBvcHRpb25zLnNlcnZlckNvbmZpZ3MubWFwKChzZXJ2ZXIpID0+IHNlcnZlci53ZWlnaHQpLnJlZHVjZSgoc3VtLCB0ZXJtKSA9PiBzdW0gKyB0ZXJtLCAwKSk7XG4gICAgX19wcml2YXRlU2V0KHRoaXMsIF92ZXJpZnlLZXlTZXJ2ZXJzLCBvcHRpb25zLnZlcmlmeUtleVNlcnZlcnMgPz8gdHJ1ZSk7XG4gICAgX19wcml2YXRlU2V0KHRoaXMsIF90aW1lb3V0LCBvcHRpb25zLnRpbWVvdXQgPz8gMWU0KTtcbiAgfVxuICBzdGF0aWMgYXNDbGllbnRFeHRlbnNpb24ob3B0aW9ucykge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBcInNlYWxcIixcbiAgICAgIHJlZ2lzdGVyOiAoY2xpZW50KSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgX1NlYWxDbGllbnQoe1xuICAgICAgICAgIHN1aUNsaWVudDogY2xpZW50LFxuICAgICAgICAgIC4uLm9wdGlvbnNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGFuIGVuY3J5cHRlZCBtZXNzYWdlIHVuZGVyIHRoZSBpZGVudGl0eS5cbiAgICpcbiAgICogQHBhcmFtIGtlbVR5cGUgLSBUaGUgdHlwZSBvZiBLRU0gdG8gdXNlLlxuICAgKiBAcGFyYW0gZGVtVHlwZSAtIFRoZSB0eXBlIG9mIERFTSB0byB1c2UuXG4gICAqIEBwYXJhbSB0aHJlc2hvbGQgLSBUaGUgdGhyZXNob2xkIGZvciB0aGUgVFNTIGVuY3J5cHRpb24uXG4gICAqIEBwYXJhbSBwYWNrYWdlSWQgLSB0aGUgcGFja2FnZUlkIG5hbWVzcGFjZS5cbiAgICogQHBhcmFtIGlkIC0gdGhlIGlkZW50aXR5IHRvIHVzZS5cbiAgICogQHBhcmFtIGRhdGEgLSB0aGUgZGF0YSB0byBlbmNyeXB0LlxuICAgKiBAcGFyYW0gYWFkIC0gb3B0aW9uYWwgYWRkaXRpb25hbCBhdXRoZW50aWNhdGVkIGRhdGEuXG4gICAqIEByZXR1cm5zIFRoZSBiY3MgYnl0ZXMgb2YgdGhlIGVuY3J5cHRlZCBvYmplY3QgY29udGFpbmluZyBhbGwgbWV0YWRhdGEgYW5kIHRoZSAyNTYtYml0IHN5bW1ldHJpYyBrZXkgdGhhdCB3YXMgdXNlZCB0byBlbmNyeXB0IHRoZSBvYmplY3QuXG4gICAqIFx0U2luY2UgdGhlIHN5bW1ldHJpYyBrZXkgY2FuIGJlIHVzZWQgdG8gZGVjcnlwdCwgaXQgc2hvdWxkIG5vdCBiZSBzaGFyZWQgYnV0IGNhbiBiZSB1c2VkIGUuZy4gZm9yIGJhY2t1cC5cbiAgICovXG4gIGFzeW5jIGVuY3J5cHQoe1xuICAgIGtlbVR5cGUgPSBLZW1UeXBlLkJvbmVoRnJhbmtsaW5CTFMxMjM4MURlbUNDQSxcbiAgICBkZW1UeXBlID0gRGVtVHlwZS5BZXNHY20yNTYsXG4gICAgdGhyZXNob2xkLFxuICAgIHBhY2thZ2VJZCxcbiAgICBpZCxcbiAgICBkYXRhLFxuICAgIGFhZCA9IG5ldyBVaW50OEFycmF5KClcbiAgfSkge1xuICAgIGNvbnN0IHBhY2thZ2VPYmogPSBhd2FpdCBfX3ByaXZhdGVHZXQodGhpcywgX3N1aUNsaWVudCkuY29yZS5nZXRPYmplY3QoeyBvYmplY3RJZDogcGFja2FnZUlkIH0pO1xuICAgIGlmIChTdHJpbmcocGFja2FnZU9iai5vYmplY3QudmVyc2lvbikgIT09IFwiMVwiKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZFBhY2thZ2VFcnJvcihgUGFja2FnZSAke3BhY2thZ2VJZH0gaXMgbm90IHRoZSBmaXJzdCB2ZXJzaW9uYCk7XG4gICAgfVxuICAgIHJldHVybiBlbmNyeXB0KHtcbiAgICAgIGtleVNlcnZlcnM6IGF3YWl0IF9fcHJpdmF0ZU1ldGhvZCh0aGlzLCBfU2VhbENsaWVudF9pbnN0YW5jZXMsIGdldFdlaWdodGVkS2V5U2VydmVyc19mbikuY2FsbCh0aGlzKSxcbiAgICAgIGtlbVR5cGUsXG4gICAgICB0aHJlc2hvbGQsXG4gICAgICBwYWNrYWdlSWQsXG4gICAgICBpZCxcbiAgICAgIGVuY3J5cHRpb25JbnB1dDogX19wcml2YXRlTWV0aG9kKHRoaXMsIF9TZWFsQ2xpZW50X2luc3RhbmNlcywgY3JlYXRlRW5jcnlwdGlvbklucHV0X2ZuKS5jYWxsKHRoaXMsIGRlbVR5cGUsIGRhdGEsIGFhZClcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogRGVjcnlwdCB0aGUgZ2l2ZW4gZW5jcnlwdGVkIGJ5dGVzIHVzaW5nIGNhY2hlZCBrZXlzLlxuICAgKiBDYWxscyBmZXRjaEtleXMgaW4gY2FzZSBvbmUgb3IgbW9yZSBvZiB0aGUgcmVxdWlyZWQga2V5cyBpcyBub3QgY2FjaGVkIHlldC5cbiAgICogVGhlIGZ1bmN0aW9uIHRocm93cyBhbiBlcnJvciBpZiB0aGUgY2xpZW50J3Mga2V5IHNlcnZlcnMgYXJlIG5vdCBhIHN1YnNldCBvZlxuICAgKiB0aGUgZW5jcnlwdGVkIG9iamVjdCdzIGtleSBzZXJ2ZXJzIG9yIGlmIHRoZSB0aHJlc2hvbGQgY2Fubm90IGJlIG1ldC5cbiAgICpcbiAgICogSWYgY2hlY2tTaGFyZUNvbnNpc3RlbmN5IGlzIHRydWUsIHRoZSBkZWNyeXB0ZWQgc2hhcmVzIGFyZSBjaGVja2VkIGZvciBjb25zaXN0ZW5jeSwgbWVhbmluZyB0aGF0XG4gICAqIGFueSBjb21iaW5hdGlvbiBvZiBhdCBsZWFzdCB0aHJlc2hvbGQgc2hhcmVzIHNob3VsZCBlaXRoZXIgc3VjY2VzZnVsbHkgY29tYmluZSB0byB0aGUgcGxhaW50ZXh0IG9yIGZhaWwuXG4gICAqIFRoaXMgaXMgdXNlZnVsIGluIGNhc2UgdGhlIGVuY3J5cHRvciBpcyBub3QgdHJ1c3RlZCBhbmQgdGhlIGRlY3J5cHRvciB3YW50cyB0byBlbnN1cmUgYWxsIGRlY3J5cHRvcnNcbiAgICogcmVjZWl2ZSB0aGUgc2FtZSBvdXRwdXQgKGUuZy4sIGZvciBvbmNoYWluIGVuY3J5cHRlZCB2b3RpbmcpLlxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSAtIFRoZSBlbmNyeXB0ZWQgYnl0ZXMgdG8gZGVjcnlwdC5cbiAgICogQHBhcmFtIHNlc3Npb25LZXkgLSBUaGUgc2Vzc2lvbiBrZXkgdG8gdXNlLlxuICAgKiBAcGFyYW0gdHhCeXRlcyAtIFRoZSB0cmFuc2FjdGlvbiBieXRlcyB0byB1c2UgKHRoYXQgY2FsbHMgc2VhbF9hcHByb3ZlKiBmdW5jdGlvbnMpLlxuICAgKiBAcGFyYW0gY2hlY2tTaGFyZUNvbnNpc3RlbmN5IC0gSWYgdHJ1ZSwgdGhlIHNoYXJlcyBhcmUgY2hlY2tlZCBmb3IgY29uc2lzdGVuY3kuXG4gICAqIEByZXR1cm5zIC0gVGhlIGRlY3J5cHRlZCBwbGFpbnRleHQgY29ycmVzcG9uZGluZyB0byBjaXBoZXJ0ZXh0LlxuICAgKi9cbiAgYXN5bmMgZGVjcnlwdCh7IGRhdGEsIHNlc3Npb25LZXksIHR4Qnl0ZXMsIGNoZWNrU2hhcmVDb25zaXN0ZW5jeSB9KSB7XG4gICAgY29uc3QgZW5jcnlwdGVkT2JqZWN0ID0gRW5jcnlwdGVkT2JqZWN0LnBhcnNlKGRhdGEpO1xuICAgIF9fcHJpdmF0ZU1ldGhvZCh0aGlzLCBfU2VhbENsaWVudF9pbnN0YW5jZXMsIHZhbGlkYXRlRW5jcnlwdGlvblNlcnZpY2VzX2ZuKS5jYWxsKHRoaXMsIGVuY3J5cHRlZE9iamVjdC5zZXJ2aWNlcy5tYXAoKHMpID0+IHNbMF0pLCBlbmNyeXB0ZWRPYmplY3QudGhyZXNob2xkKTtcbiAgICBhd2FpdCB0aGlzLmZldGNoS2V5cyh7XG4gICAgICBpZHM6IFtlbmNyeXB0ZWRPYmplY3QuaWRdLFxuICAgICAgdHhCeXRlcyxcbiAgICAgIHNlc3Npb25LZXksXG4gICAgICB0aHJlc2hvbGQ6IGVuY3J5cHRlZE9iamVjdC50aHJlc2hvbGRcbiAgICB9KTtcbiAgICBpZiAoY2hlY2tTaGFyZUNvbnNpc3RlbmN5KSB7XG4gICAgICBjb25zdCBwdWJsaWNLZXlzID0gYXdhaXQgdGhpcy5nZXRQdWJsaWNLZXlzKFxuICAgICAgICBlbmNyeXB0ZWRPYmplY3Quc2VydmljZXMubWFwKChbb2JqZWN0SWQsIF9dKSA9PiBvYmplY3RJZClcbiAgICAgICk7XG4gICAgICByZXR1cm4gZGVjcnlwdCh7IGVuY3J5cHRlZE9iamVjdCwga2V5czogX19wcml2YXRlR2V0KHRoaXMsIF9jYWNoZWRLZXlzKSwgcHVibGljS2V5cyB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGRlY3J5cHQoeyBlbmNyeXB0ZWRPYmplY3QsIGtleXM6IF9fcHJpdmF0ZUdldCh0aGlzLCBfY2FjaGVkS2V5cykgfSk7XG4gIH1cbiAgYXN5bmMgZ2V0S2V5U2VydmVycygpIHtcbiAgICBpZiAoIV9fcHJpdmF0ZUdldCh0aGlzLCBfa2V5U2VydmVycykpIHtcbiAgICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfa2V5U2VydmVycywgX19wcml2YXRlTWV0aG9kKHRoaXMsIF9TZWFsQ2xpZW50X2luc3RhbmNlcywgbG9hZEtleVNlcnZlcnNfZm4pLmNhbGwodGhpcykuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfa2V5U2VydmVycywgbnVsbCk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gX19wcml2YXRlR2V0KHRoaXMsIF9rZXlTZXJ2ZXJzKTtcbiAgfVxuICAvKipcbiAgICogR2V0IHRoZSBwdWJsaWMga2V5cyBmb3IgdGhlIGdpdmVuIHNlcnZpY2VzLlxuICAgKiBJZiBhbGwgcHVibGljIGtleXMgYXJlIG5vdCBpbiB0aGUgY2FjaGUsIHRoZXkgYXJlIHJldHJpZXZlZC5cbiAgICpcbiAgICogQHBhcmFtIHNlcnZpY2VzIC0gVGhlIHNlcnZpY2VzIHRvIGdldCB0aGUgcHVibGljIGtleXMgZm9yLlxuICAgKiBAcmV0dXJucyBUaGUgcHVibGljIGtleXMgZm9yIHRoZSBnaXZlbiBzZXJ2aWNlcyBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGUgZ2l2ZW4gc2VydmljZXMuXG4gICAqL1xuICBhc3luYyBnZXRQdWJsaWNLZXlzKHNlcnZpY2VzKSB7XG4gICAgY29uc3Qga2V5U2VydmVycyA9IGF3YWl0IHRoaXMuZ2V0S2V5U2VydmVycygpO1xuICAgIGNvbnN0IG1pc3NpbmdLZXlTZXJ2ZXJzID0gc2VydmljZXMuZmlsdGVyKFxuICAgICAgKG9iamVjdElkKSA9PiAha2V5U2VydmVycy5oYXMob2JqZWN0SWQpICYmICFfX3ByaXZhdGVHZXQodGhpcywgX2NhY2hlZFB1YmxpY0tleXMpLmhhcyhvYmplY3RJZClcbiAgICApO1xuICAgIGlmIChtaXNzaW5nS2V5U2VydmVycy5sZW5ndGggPiAwKSB7XG4gICAgICAoYXdhaXQgcmV0cmlldmVLZXlTZXJ2ZXJzKHtcbiAgICAgICAgb2JqZWN0SWRzOiBtaXNzaW5nS2V5U2VydmVycyxcbiAgICAgICAgY2xpZW50OiBfX3ByaXZhdGVHZXQodGhpcywgX3N1aUNsaWVudClcbiAgICAgIH0pKS5mb3JFYWNoKFxuICAgICAgICAoa2V5U2VydmVyKSA9PiBfX3ByaXZhdGVHZXQodGhpcywgX2NhY2hlZFB1YmxpY0tleXMpLnNldChrZXlTZXJ2ZXIub2JqZWN0SWQsIEcyRWxlbWVudC5mcm9tQnl0ZXMoa2V5U2VydmVyLnBrKSlcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBzZXJ2aWNlcy5tYXAoKG9iamVjdElkKSA9PiB7XG4gICAgICBjb25zdCBrZXlTZXJ2ZXIgPSBrZXlTZXJ2ZXJzLmdldChvYmplY3RJZCk7XG4gICAgICBpZiAoa2V5U2VydmVyKSB7XG4gICAgICAgIHJldHVybiBHMkVsZW1lbnQuZnJvbUJ5dGVzKGtleVNlcnZlci5wayk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX19wcml2YXRlR2V0KHRoaXMsIF9jYWNoZWRQdWJsaWNLZXlzKS5nZXQob2JqZWN0SWQpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBrZXlzIGZyb20gdGhlIGtleSBzZXJ2ZXJzIGFuZCB1cGRhdGUgdGhlIGNhY2hlLlxuICAgKlxuICAgKiBJdCBpcyByZWNvbW1lbmRlZCB0byBjYWxsIHRoaXMgZnVuY3Rpb24gb25jZSBmb3IgYWxsIGlkcyBvZiBhbGwgZW5jcnlwdGVkIG9iamVjdHMgaWZcbiAgICogdGhlcmUgYXJlIG11bHRpcGxlLCB0aGVuIGNhbGwgZGVjcnlwdCBmb3IgZWFjaCBvYmplY3QuIFRoaXMgYXZvaWRzIGNhbGxpbmcgZmV0Y2hLZXlcbiAgICogaW5kaXZpZHVhbGx5IGZvciBlYWNoIGRlY3J5cHQuXG4gICAqXG4gICAqIEBwYXJhbSBpZHMgLSBUaGUgaWRzIG9mIHRoZSBlbmNyeXB0ZWQgb2JqZWN0cy5cbiAgICogQHBhcmFtIHR4Qnl0ZXMgLSBUaGUgdHJhbnNhY3Rpb24gYnl0ZXMgdG8gdXNlICh0aGF0IGNhbGxzIHNlYWxfYXBwcm92ZSogZnVuY3Rpb25zKS5cbiAgICogQHBhcmFtIHNlc3Npb25LZXkgLSBUaGUgc2Vzc2lvbiBrZXkgdG8gdXNlLlxuICAgKiBAcGFyYW0gdGhyZXNob2xkIC0gVGhlIHRocmVzaG9sZCBmb3IgdGhlIFRTUyBlbmNyeXB0aW9ucy4gVGhlIGZ1bmN0aW9uIHJldHVybnMgd2hlbiBhIHRocmVzaG9sZCBvZiBrZXkgc2VydmVycyBoYWQgcmV0dXJuZWQga2V5cyBmb3IgYWxsIGlkcy5cbiAgICovXG4gIGFzeW5jIGZldGNoS2V5cyh7IGlkcywgdHhCeXRlcywgc2Vzc2lvbktleSwgdGhyZXNob2xkIH0pIHtcbiAgICBpZiAodGhyZXNob2xkID4gX19wcml2YXRlR2V0KHRoaXMsIF90b3RhbFdlaWdodCkgfHwgdGhyZXNob2xkIDwgMSkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRUaHJlc2hvbGRFcnJvcihcbiAgICAgICAgYEludmFsaWQgdGhyZXNob2xkICR7dGhyZXNob2xkfSBzZXJ2ZXJzIHdpdGggd2VpZ2h0cyAke19fcHJpdmF0ZUdldCh0aGlzLCBfY29uZmlncyl9YFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3Qga2V5U2VydmVycyA9IGF3YWl0IHRoaXMuZ2V0S2V5U2VydmVycygpO1xuICAgIGNvbnN0IGZ1bGxJZHMgPSBpZHMubWFwKChpZCkgPT4gY3JlYXRlRnVsbElkKHNlc3Npb25LZXkuZ2V0UGFja2FnZUlkKCksIGlkKSk7XG4gICAgbGV0IGNvbXBsZXRlZFdlaWdodCA9IDA7XG4gICAgY29uc3QgcmVtYWluaW5nS2V5U2VydmVycyA9IFtdO1xuICAgIGxldCByZW1haW5pbmdLZXlTZXJ2ZXJzV2VpZ2h0ID0gMDtcbiAgICBmb3IgKGNvbnN0IG9iamVjdElkIG9mIGtleVNlcnZlcnMua2V5cygpKSB7XG4gICAgICBpZiAoZnVsbElkcy5ldmVyeSgoZnVsbElkKSA9PiBfX3ByaXZhdGVHZXQodGhpcywgX2NhY2hlZEtleXMpLmhhcyhgJHtmdWxsSWR9OiR7b2JqZWN0SWR9YCkpKSB7XG4gICAgICAgIGNvbXBsZXRlZFdlaWdodCArPSBfX3ByaXZhdGVNZXRob2QodGhpcywgX1NlYWxDbGllbnRfaW5zdGFuY2VzLCB3ZWlnaHRfZm4pLmNhbGwodGhpcywgb2JqZWN0SWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVtYWluaW5nS2V5U2VydmVycy5wdXNoKG9iamVjdElkKTtcbiAgICAgICAgcmVtYWluaW5nS2V5U2VydmVyc1dlaWdodCArPSBfX3ByaXZhdGVNZXRob2QodGhpcywgX1NlYWxDbGllbnRfaW5zdGFuY2VzLCB3ZWlnaHRfZm4pLmNhbGwodGhpcywgb2JqZWN0SWQpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29tcGxldGVkV2VpZ2h0ID49IHRocmVzaG9sZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjZXJ0aWZpY2F0ZSA9IGF3YWl0IHNlc3Npb25LZXkuZ2V0Q2VydGlmaWNhdGUoKTtcbiAgICBjb25zdCBzaWduZWRSZXF1ZXN0ID0gYXdhaXQgc2Vzc2lvbktleS5jcmVhdGVSZXF1ZXN0UGFyYW1zKHR4Qnl0ZXMpO1xuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgY29uc3QgZXJyb3JzID0gW107XG4gICAgY29uc3Qga2V5RmV0Y2hlcyA9IHJlbWFpbmluZ0tleVNlcnZlcnMubWFwKGFzeW5jIChvYmplY3RJZCkgPT4ge1xuICAgICAgY29uc3Qgc2VydmVyID0ga2V5U2VydmVycy5nZXQob2JqZWN0SWQpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gX19wcml2YXRlR2V0KHRoaXMsIF9jb25maWdzKS5nZXQob2JqZWN0SWQpO1xuICAgICAgICBjb25zdCBhbGxLZXlzID0gYXdhaXQgZmV0Y2hLZXlzRm9yQWxsSWRzKHtcbiAgICAgICAgICB1cmw6IHNlcnZlci51cmwsXG4gICAgICAgICAgcmVxdWVzdFNpZ25hdHVyZTogc2lnbmVkUmVxdWVzdC5yZXF1ZXN0U2lnbmF0dXJlLFxuICAgICAgICAgIHRyYW5zYWN0aW9uQnl0ZXM6IHR4Qnl0ZXMsXG4gICAgICAgICAgZW5jS2V5OiBzaWduZWRSZXF1ZXN0LmVuY0tleSxcbiAgICAgICAgICBlbmNLZXlQazogc2lnbmVkUmVxdWVzdC5lbmNLZXlQayxcbiAgICAgICAgICBlbmNWZXJpZmljYXRpb25LZXk6IHNpZ25lZFJlcXVlc3QuZW5jVmVyaWZpY2F0aW9uS2V5LFxuICAgICAgICAgIGNlcnRpZmljYXRlLFxuICAgICAgICAgIHRpbWVvdXQ6IF9fcHJpdmF0ZUdldCh0aGlzLCBfdGltZW91dCksXG4gICAgICAgICAgYXBpS2V5TmFtZTogY29uZmlnPy5hcGlLZXlOYW1lLFxuICAgICAgICAgIGFwaUtleTogY29uZmlnPy5hcGlLZXksXG4gICAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbFxuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChjb25zdCB7IGZ1bGxJZCwga2V5IH0gb2YgYWxsS2V5cykge1xuICAgICAgICAgIGNvbnN0IGtleUVsZW1lbnQgPSBHMUVsZW1lbnQuZnJvbUJ5dGVzKGtleSk7XG4gICAgICAgICAgaWYgKCFCb25laEZyYW5rbGluQkxTMTIzODFTZXJ2aWNlcy52ZXJpZnlVc2VyU2VjcmV0S2V5KFxuICAgICAgICAgICAga2V5RWxlbWVudCxcbiAgICAgICAgICAgIGZ1bGxJZCxcbiAgICAgICAgICAgIEcyRWxlbWVudC5mcm9tQnl0ZXMoc2VydmVyLnBrKVxuICAgICAgICAgICkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlJlY2VpdmVkIGludmFsaWQga2V5IGZyb20ga2V5IHNlcnZlciBcIiArIHNlcnZlci5vYmplY3RJZCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgX19wcml2YXRlR2V0KHRoaXMsIF9jYWNoZWRLZXlzKS5zZXQoYCR7ZnVsbElkfToke3NlcnZlci5vYmplY3RJZH1gLCBrZXlFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnVsbElkcy5ldmVyeSgoZnVsbElkKSA9PiBfX3ByaXZhdGVHZXQodGhpcywgX2NhY2hlZEtleXMpLmhhcyhgJHtmdWxsSWR9OiR7c2VydmVyLm9iamVjdElkfWApKSkge1xuICAgICAgICAgIGNvbXBsZXRlZFdlaWdodCArPSBfX3ByaXZhdGVNZXRob2QodGhpcywgX1NlYWxDbGllbnRfaW5zdGFuY2VzLCB3ZWlnaHRfZm4pLmNhbGwodGhpcywgb2JqZWN0SWQpO1xuICAgICAgICAgIGlmIChjb21wbGV0ZWRXZWlnaHQgPj0gdGhyZXNob2xkKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoIWNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICBlcnJvcnMucHVzaChlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHJlbWFpbmluZ0tleVNlcnZlcnNXZWlnaHQgLT0gX19wcml2YXRlTWV0aG9kKHRoaXMsIF9TZWFsQ2xpZW50X2luc3RhbmNlcywgd2VpZ2h0X2ZuKS5jYWxsKHRoaXMsIG9iamVjdElkKTtcbiAgICAgICAgaWYgKHJlbWFpbmluZ0tleVNlcnZlcnNXZWlnaHQgPCB0aHJlc2hvbGQgLSBjb21wbGV0ZWRXZWlnaHQpIHtcbiAgICAgICAgICBjb250cm9sbGVyLmFib3J0KG5ldyBUb29NYW55RmFpbGVkRmV0Y2hLZXlSZXF1ZXN0c0Vycm9yKCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKGtleUZldGNoZXMpO1xuICAgIGlmIChjb21wbGV0ZWRXZWlnaHQgPCB0aHJlc2hvbGQpIHtcbiAgICAgIHRocm93IHRvTWFqb3JpdHlFcnJvcihlcnJvcnMpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogR2V0IGRlcml2ZWQga2V5cyBmcm9tIHRoZSBnaXZlbiBzZXJ2aWNlcy5cbiAgICpcbiAgICogQHBhcmFtIGlkIC0gVGhlIGlkIG9mIHRoZSBlbmNyeXB0ZWQgb2JqZWN0LlxuICAgKiBAcGFyYW0gdHhCeXRlcyAtIFRoZSB0cmFuc2FjdGlvbiBieXRlcyB0byB1c2UgKHRoYXQgY2FsbHMgc2VhbF9hcHByb3ZlKiBmdW5jdGlvbnMpLlxuICAgKiBAcGFyYW0gc2Vzc2lvbktleSAtIFRoZSBzZXNzaW9uIGtleSB0byB1c2UuXG4gICAqIEBwYXJhbSB0aHJlc2hvbGQgLSBUaGUgdGhyZXNob2xkLlxuICAgKiBAcmV0dXJucyAtIERlcml2ZWQga2V5cyBmb3IgdGhlIGdpdmVuIHNlcnZpY2VzIHRoYXQgYXJlIGluIHRoZSBjYWNoZSBhcyBhIFwic2VydmljZSBvYmplY3QgSURcIiAtPiBkZXJpdmVkIGtleSBtYXAuIElmIHRoZSBjYWxsIGlzIHN1Y2Nlc2Z1bCwgZXhhY3RseSB0aHJlc2hvbGQga2V5cyB3aWxsIGJlIHJldHVybmVkLlxuICAgKi9cbiAgYXN5bmMgZ2V0RGVyaXZlZEtleXMoe1xuICAgIGtlbVR5cGUgPSBLZW1UeXBlLkJvbmVoRnJhbmtsaW5CTFMxMjM4MURlbUNDQSxcbiAgICBpZCxcbiAgICB0eEJ5dGVzLFxuICAgIHNlc3Npb25LZXksXG4gICAgdGhyZXNob2xkXG4gIH0pIHtcbiAgICBzd2l0Y2ggKGtlbVR5cGUpIHtcbiAgICAgIGNhc2UgS2VtVHlwZS5Cb25laEZyYW5rbGluQkxTMTIzODFEZW1DQ0E6XG4gICAgICAgIGNvbnN0IGtleVNlcnZlcnMgPSBhd2FpdCB0aGlzLmdldEtleVNlcnZlcnMoKTtcbiAgICAgICAgaWYgKHRocmVzaG9sZCA+IF9fcHJpdmF0ZUdldCh0aGlzLCBfdG90YWxXZWlnaHQpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRUaHJlc2hvbGRFcnJvcihcbiAgICAgICAgICAgIGBJbnZhbGlkIHRocmVzaG9sZCAke3RocmVzaG9sZH0gZm9yICR7X19wcml2YXRlR2V0KHRoaXMsIF90b3RhbFdlaWdodCl9IHNlcnZlcnNgXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLmZldGNoS2V5cyh7XG4gICAgICAgICAgaWRzOiBbaWRdLFxuICAgICAgICAgIHR4Qnl0ZXMsXG4gICAgICAgICAgc2Vzc2lvbktleSxcbiAgICAgICAgICB0aHJlc2hvbGRcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGZ1bGxJZCA9IGNyZWF0ZUZ1bGxJZChzZXNzaW9uS2V5LmdldFBhY2thZ2VJZCgpLCBpZCk7XG4gICAgICAgIGNvbnN0IGRlcml2ZWRLZXlzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgICAgbGV0IHdlaWdodCA9IDA7XG4gICAgICAgIGZvciAoY29uc3Qgb2JqZWN0SWQgb2Yga2V5U2VydmVycy5rZXlzKCkpIHtcbiAgICAgICAgICBjb25zdCBjYWNoZWRLZXkgPSBfX3ByaXZhdGVHZXQodGhpcywgX2NhY2hlZEtleXMpLmdldChgJHtmdWxsSWR9OiR7b2JqZWN0SWR9YCk7XG4gICAgICAgICAgaWYgKGNhY2hlZEtleSkge1xuICAgICAgICAgICAgZGVyaXZlZEtleXMuc2V0KG9iamVjdElkLCBuZXcgQm9uZWhGcmFua2xpbkJMUzEyMzgxRGVyaXZlZEtleShjYWNoZWRLZXkpKTtcbiAgICAgICAgICAgIHdlaWdodCArPSBfX3ByaXZhdGVNZXRob2QodGhpcywgX1NlYWxDbGllbnRfaW5zdGFuY2VzLCB3ZWlnaHRfZm4pLmNhbGwodGhpcywgb2JqZWN0SWQpO1xuICAgICAgICAgICAgaWYgKHdlaWdodCA+PSB0aHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZXJpdmVkS2V5cztcbiAgICB9XG4gIH1cbn07XG5fc3VpQ2xpZW50ID0gbmV3IFdlYWtNYXAoKTtcbl9jb25maWdzID0gbmV3IFdlYWtNYXAoKTtcbl9rZXlTZXJ2ZXJzID0gbmV3IFdlYWtNYXAoKTtcbl92ZXJpZnlLZXlTZXJ2ZXJzID0gbmV3IFdlYWtNYXAoKTtcbl9jYWNoZWRLZXlzID0gbmV3IFdlYWtNYXAoKTtcbl9jYWNoZWRQdWJsaWNLZXlzID0gbmV3IFdlYWtNYXAoKTtcbl90aW1lb3V0ID0gbmV3IFdlYWtNYXAoKTtcbl90b3RhbFdlaWdodCA9IG5ldyBXZWFrTWFwKCk7XG5fU2VhbENsaWVudF9pbnN0YW5jZXMgPSBuZXcgV2Vha1NldCgpO1xuY3JlYXRlRW5jcnlwdGlvbklucHV0X2ZuID0gZnVuY3Rpb24odHlwZSwgZGF0YSwgYWFkKSB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgRGVtVHlwZS5BZXNHY20yNTY6XG4gICAgICByZXR1cm4gbmV3IEFlc0djbTI1NihkYXRhLCBhYWQpO1xuICAgIGNhc2UgRGVtVHlwZS5IbWFjMjU2Q3RyOlxuICAgICAgcmV0dXJuIG5ldyBIbWFjMjU2Q3RyKGRhdGEsIGFhZCk7XG4gIH1cbn07XG53ZWlnaHRfZm4gPSBmdW5jdGlvbihvYmplY3RJZCkge1xuICByZXR1cm4gX19wcml2YXRlR2V0KHRoaXMsIF9jb25maWdzKS5nZXQob2JqZWN0SWQpPy53ZWlnaHQgPz8gMDtcbn07XG52YWxpZGF0ZUVuY3J5cHRpb25TZXJ2aWNlc19mbiA9IGZ1bmN0aW9uKHNlcnZpY2VzLCB0aHJlc2hvbGQpIHtcbiAgaWYgKHNlcnZpY2VzLnNvbWUoKG9iamVjdElkKSA9PiB7XG4gICAgY29uc3QgY291bnRJbkNsaWVudCA9IF9fcHJpdmF0ZU1ldGhvZCh0aGlzLCBfU2VhbENsaWVudF9pbnN0YW5jZXMsIHdlaWdodF9mbikuY2FsbCh0aGlzLCBvYmplY3RJZCk7XG4gICAgcmV0dXJuIGNvdW50SW5DbGllbnQgPiAwICYmIGNvdW50SW5DbGllbnQgIT09IGNvdW50KHNlcnZpY2VzLCBvYmplY3RJZCk7XG4gIH0pKSB7XG4gICAgdGhyb3cgbmV3IEluY29uc2lzdGVudEtleVNlcnZlcnNFcnJvcihcbiAgICAgIGBDbGllbnQncyBrZXkgc2VydmVycyBtdXN0IGJlIGEgc3Vic2V0IG9mIHRoZSBlbmNyeXB0ZWQgb2JqZWN0J3Mga2V5IHNlcnZlcnNgXG4gICAgKTtcbiAgfVxuICBpZiAodGhyZXNob2xkID4gX19wcml2YXRlR2V0KHRoaXMsIF90b3RhbFdlaWdodCkpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFRocmVzaG9sZEVycm9yKFxuICAgICAgYEludmFsaWQgdGhyZXNob2xkICR7dGhyZXNob2xkfSBmb3IgJHtfX3ByaXZhdGVHZXQodGhpcywgX3RvdGFsV2VpZ2h0KX0gc2VydmVyc2BcbiAgICApO1xuICB9XG59O1xuZ2V0V2VpZ2h0ZWRLZXlTZXJ2ZXJzX2ZuID0gYXN5bmMgZnVuY3Rpb24oKSB7XG4gIGNvbnN0IGtleVNlcnZlcnMgPSBhd2FpdCB0aGlzLmdldEtleVNlcnZlcnMoKTtcbiAgY29uc3Qga2V5U2VydmVyc1dpdGhNdWx0aXBsaWNpdHkgPSBbXTtcbiAgZm9yIChjb25zdCBbb2JqZWN0SWQsIGNvbmZpZ10gb2YgX19wcml2YXRlR2V0KHRoaXMsIF9jb25maWdzKSkge1xuICAgIGNvbnN0IGtleVNlcnZlciA9IGtleVNlcnZlcnMuZ2V0KG9iamVjdElkKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbmZpZy53ZWlnaHQ7IGkrKykge1xuICAgICAga2V5U2VydmVyc1dpdGhNdWx0aXBsaWNpdHkucHVzaChrZXlTZXJ2ZXIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4ga2V5U2VydmVyc1dpdGhNdWx0aXBsaWNpdHk7XG59O1xubG9hZEtleVNlcnZlcnNfZm4gPSBhc3luYyBmdW5jdGlvbigpIHtcbiAgY29uc3Qga2V5U2VydmVycyA9IGF3YWl0IHJldHJpZXZlS2V5U2VydmVycyh7XG4gICAgb2JqZWN0SWRzOiBbLi4uX19wcml2YXRlR2V0KHRoaXMsIF9jb25maWdzKV0ubWFwKChbb2JqZWN0SWRdKSA9PiBvYmplY3RJZCksXG4gICAgY2xpZW50OiBfX3ByaXZhdGVHZXQodGhpcywgX3N1aUNsaWVudClcbiAgfSk7XG4gIGlmIChrZXlTZXJ2ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBJbnZhbGlkS2V5U2VydmVyRXJyb3IoXCJObyBrZXkgc2VydmVycyBmb3VuZFwiKTtcbiAgfVxuICBpZiAoX19wcml2YXRlR2V0KHRoaXMsIF92ZXJpZnlLZXlTZXJ2ZXJzKSkge1xuICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAga2V5U2VydmVycy5tYXAoYXN5bmMgKHNlcnZlcikgPT4ge1xuICAgICAgICBjb25zdCBjb25maWcgPSBfX3ByaXZhdGVHZXQodGhpcywgX2NvbmZpZ3MpLmdldChzZXJ2ZXIub2JqZWN0SWQpO1xuICAgICAgICBpZiAoIWF3YWl0IHZlcmlmeUtleVNlcnZlcihzZXJ2ZXIsIF9fcHJpdmF0ZUdldCh0aGlzLCBfdGltZW91dCksIGNvbmZpZz8uYXBpS2V5TmFtZSwgY29uZmlnPy5hcGlLZXkpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRLZXlTZXJ2ZXJFcnJvcihgS2V5IHNlcnZlciAke3NlcnZlci5vYmplY3RJZH0gaXMgbm90IHZhbGlkYCk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuICByZXR1cm4gbmV3IE1hcChrZXlTZXJ2ZXJzLm1hcCgoc2VydmVyKSA9PiBbc2VydmVyLm9iamVjdElkLCBzZXJ2ZXJdKSk7XG59O1xubGV0IFNlYWxDbGllbnQgPSBfU2VhbENsaWVudDtcbmV4cG9ydCB7XG4gIFNlYWxDbGllbnRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGllbnQuanMubWFwXG4iXSwibmFtZXMiOlsiX190eXBlRXJyb3IiLCJtc2ciLCJUeXBlRXJyb3IiLCJfX2FjY2Vzc0NoZWNrIiwib2JqIiwibWVtYmVyIiwiaGFzIiwiX19wcml2YXRlR2V0IiwiZ2V0dGVyIiwiY2FsbCIsImdldCIsIl9fcHJpdmF0ZUFkZCIsInZhbHVlIiwiV2Vha1NldCIsImFkZCIsInNldCIsIl9fcHJpdmF0ZVNldCIsInNldHRlciIsIl9fcHJpdmF0ZU1ldGhvZCIsIm1ldGhvZCIsIl9zdWlDbGllbnQiLCJfY29uZmlncyIsIl9rZXlTZXJ2ZXJzIiwiX3ZlcmlmeUtleVNlcnZlcnMiLCJfY2FjaGVkS2V5cyIsIl9jYWNoZWRQdWJsaWNLZXlzIiwiX3RpbWVvdXQiLCJfdG90YWxXZWlnaHQiLCJfU2VhbENsaWVudF9pbnN0YW5jZXMiLCJjcmVhdGVFbmNyeXB0aW9uSW5wdXRfZm4iLCJ3ZWlnaHRfZm4iLCJ2YWxpZGF0ZUVuY3J5cHRpb25TZXJ2aWNlc19mbiIsImdldFdlaWdodGVkS2V5U2VydmVyc19mbiIsImxvYWRLZXlTZXJ2ZXJzX2ZuIiwiRW5jcnlwdGVkT2JqZWN0IiwiRzFFbGVtZW50IiwiRzJFbGVtZW50IiwiZGVjcnlwdCIsIkFlc0djbTI1NiIsIkhtYWMyNTZDdHIiLCJEZW1UeXBlIiwiZW5jcnlwdCIsIktlbVR5cGUiLCJJbmNvbnNpc3RlbnRLZXlTZXJ2ZXJzRXJyb3IiLCJJbnZhbGlkQ2xpZW50T3B0aW9uc0Vycm9yIiwiSW52YWxpZEtleVNlcnZlckVycm9yIiwiSW52YWxpZFBhY2thZ2VFcnJvciIsIkludmFsaWRUaHJlc2hvbGRFcnJvciIsInRvTWFqb3JpdHlFcnJvciIsIlRvb01hbnlGYWlsZWRGZXRjaEtleVJlcXVlc3RzRXJyb3IiLCJCb25laEZyYW5rbGluQkxTMTIzODFTZXJ2aWNlcyIsIkJvbmVoRnJhbmtsaW5CTFMxMjM4MURlcml2ZWRLZXkiLCJyZXRyaWV2ZUtleVNlcnZlcnMiLCJ2ZXJpZnlLZXlTZXJ2ZXIiLCJmZXRjaEtleXNGb3JBbGxJZHMiLCJjcmVhdGVGdWxsSWQiLCJjb3VudCIsIl9TZWFsQ2xpZW50IiwiY29uc3RydWN0b3IiLCJvcHRpb25zIiwiTWFwIiwic3VpQ2xpZW50IiwiU2V0Iiwic2VydmVyQ29uZmlncyIsIm1hcCIsInMiLCJvYmplY3RJZCIsInNpemUiLCJsZW5ndGgiLCJzb21lIiwiYXBpS2V5TmFtZSIsImFwaUtleSIsInNlcnZlciIsIndlaWdodCIsInJlZHVjZSIsInN1bSIsInRlcm0iLCJ2ZXJpZnlLZXlTZXJ2ZXJzIiwidGltZW91dCIsImFzQ2xpZW50RXh0ZW5zaW9uIiwibmFtZSIsInJlZ2lzdGVyIiwiY2xpZW50Iiwia2VtVHlwZSIsIkJvbmVoRnJhbmtsaW5CTFMxMjM4MURlbUNDQSIsImRlbVR5cGUiLCJ0aHJlc2hvbGQiLCJwYWNrYWdlSWQiLCJpZCIsImRhdGEiLCJhYWQiLCJVaW50OEFycmF5IiwicGFja2FnZU9iaiIsImNvcmUiLCJnZXRPYmplY3QiLCJTdHJpbmciLCJvYmplY3QiLCJ2ZXJzaW9uIiwia2V5U2VydmVycyIsImVuY3J5cHRpb25JbnB1dCIsInNlc3Npb25LZXkiLCJ0eEJ5dGVzIiwiY2hlY2tTaGFyZUNvbnNpc3RlbmN5IiwiZW5jcnlwdGVkT2JqZWN0IiwicGFyc2UiLCJzZXJ2aWNlcyIsImZldGNoS2V5cyIsImlkcyIsInB1YmxpY0tleXMiLCJnZXRQdWJsaWNLZXlzIiwiXyIsImtleXMiLCJnZXRLZXlTZXJ2ZXJzIiwiY2F0Y2giLCJlcnJvciIsIm1pc3NpbmdLZXlTZXJ2ZXJzIiwiZmlsdGVyIiwib2JqZWN0SWRzIiwiZm9yRWFjaCIsImtleVNlcnZlciIsImZyb21CeXRlcyIsInBrIiwiZnVsbElkcyIsImdldFBhY2thZ2VJZCIsImNvbXBsZXRlZFdlaWdodCIsInJlbWFpbmluZ0tleVNlcnZlcnMiLCJyZW1haW5pbmdLZXlTZXJ2ZXJzV2VpZ2h0IiwiZXZlcnkiLCJmdWxsSWQiLCJwdXNoIiwiY2VydGlmaWNhdGUiLCJnZXRDZXJ0aWZpY2F0ZSIsInNpZ25lZFJlcXVlc3QiLCJjcmVhdGVSZXF1ZXN0UGFyYW1zIiwiY29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsImVycm9ycyIsImtleUZldGNoZXMiLCJjb25maWciLCJhbGxLZXlzIiwidXJsIiwicmVxdWVzdFNpZ25hdHVyZSIsInRyYW5zYWN0aW9uQnl0ZXMiLCJlbmNLZXkiLCJlbmNLZXlQayIsImVuY1ZlcmlmaWNhdGlvbktleSIsInNpZ25hbCIsImtleSIsImtleUVsZW1lbnQiLCJ2ZXJpZnlVc2VyU2VjcmV0S2V5IiwiY29uc29sZSIsIndhcm4iLCJhYm9ydCIsImFib3J0ZWQiLCJQcm9taXNlIiwiYWxsU2V0dGxlZCIsImdldERlcml2ZWRLZXlzIiwiZGVyaXZlZEtleXMiLCJjYWNoZWRLZXkiLCJXZWFrTWFwIiwidHlwZSIsImNvdW50SW5DbGllbnQiLCJrZXlTZXJ2ZXJzV2l0aE11bHRpcGxpY2l0eSIsImkiLCJhbGwiLCJTZWFsQ2xpZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/decrypt.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/decrypt.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decrypt: () => (/* binding */ decrypt)\n/* harmony export */ });\n/* harmony import */ var _mysten_bcs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mysten/bcs */ \"(ssr)/./node_modules/.pnpm/@mysten+utils@0.2.0/node_modules/@mysten/utils/dist/esm/hex.js\");\n/* harmony import */ var _bls12381_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./bls12381.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/bls12381.js\");\n/* harmony import */ var _dem_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./dem.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/dem.js\");\n/* harmony import */ var _error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./error.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/error.js\");\n/* harmony import */ var _ibe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ibe.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/ibe.js\");\n/* harmony import */ var _kdf_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./kdf.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/kdf.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/utils.js\");\n/* harmony import */ var _shamir_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./shamir.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/shamir.js\");\n\n\n\n\n\n\n\n\nasync function decrypt({ encryptedObject, keys, publicKeys }) {\n    if (!encryptedObject.encryptedShares.BonehFranklinBLS12381) {\n        throw new _error_js__WEBPACK_IMPORTED_MODULE_0__.UnsupportedFeatureError(\"Encryption mode not supported\");\n    }\n    const fullId = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.createFullId)(encryptedObject.packageId, encryptedObject.id);\n    const inKeystore = encryptedObject.services.map((_, i)=>i).filter((i)=>keys.has(`${fullId}:${encryptedObject.services[i][0]}`));\n    if (inKeystore.length < encryptedObject.threshold) {\n        throw new Error(\"Not enough shares. Please fetch more keys.\");\n    }\n    const encryptedShares = encryptedObject.encryptedShares.BonehFranklinBLS12381.encryptedShares;\n    if (encryptedShares.length !== encryptedObject.services.length) {\n        throw new _error_js__WEBPACK_IMPORTED_MODULE_0__.InvalidCiphertextError(`Mismatched shares ${encryptedShares.length} and services ${encryptedObject.services.length}`);\n    }\n    const nonce = _bls12381_js__WEBPACK_IMPORTED_MODULE_2__.G2Element.fromBytes(encryptedObject.encryptedShares.BonehFranklinBLS12381.nonce);\n    const shares = inKeystore.map((i)=>{\n        const [objectId, index] = encryptedObject.services[i];\n        const share = _ibe_js__WEBPACK_IMPORTED_MODULE_3__.BonehFranklinBLS12381Services.decrypt(nonce, keys.get(`${fullId}:${objectId}`), encryptedShares[i], (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_4__.fromHex)(fullId), [\n            objectId,\n            index\n        ]);\n        return {\n            index,\n            share\n        };\n    });\n    const baseKey = (0,_shamir_js__WEBPACK_IMPORTED_MODULE_5__.combine)(shares);\n    const randomnessKey = (0,_kdf_js__WEBPACK_IMPORTED_MODULE_6__.deriveKey)(_kdf_js__WEBPACK_IMPORTED_MODULE_6__.KeyPurpose.EncryptedRandomness, baseKey, encryptedShares, encryptedObject.threshold, encryptedObject.services.map(([objectIds, _])=>objectIds));\n    const randomness = (0,_ibe_js__WEBPACK_IMPORTED_MODULE_3__.decryptRandomness)(encryptedObject.encryptedShares.BonehFranklinBLS12381.encryptedRandomness, randomnessKey);\n    if (!(0,_ibe_js__WEBPACK_IMPORTED_MODULE_3__.verifyNonce)(nonce, randomness)) {\n        throw new _error_js__WEBPACK_IMPORTED_MODULE_0__.InvalidCiphertextError(\"Invalid nonce\");\n    }\n    const checkShareConsistency = publicKeys !== void 0;\n    if (checkShareConsistency) {\n        const polynomial = (0,_shamir_js__WEBPACK_IMPORTED_MODULE_5__.interpolate)(shares);\n        const allShares = _ibe_js__WEBPACK_IMPORTED_MODULE_3__.BonehFranklinBLS12381Services.decryptAllSharesUsingRandomness(randomness, encryptedShares, encryptedObject.services, publicKeys, nonce, (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_4__.fromHex)(fullId));\n        if (allShares.some(({ index, share })=>!(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.equals)(polynomial(index), share))) {\n            throw new _error_js__WEBPACK_IMPORTED_MODULE_0__.InvalidCiphertextError(\"Invalid shares\");\n        }\n    }\n    const demKey = (0,_kdf_js__WEBPACK_IMPORTED_MODULE_6__.deriveKey)(_kdf_js__WEBPACK_IMPORTED_MODULE_6__.KeyPurpose.DEM, baseKey, encryptedShares, encryptedObject.threshold, encryptedObject.services.map(([objectId, _])=>objectId));\n    if (encryptedObject.ciphertext.Aes256Gcm) {\n        return _dem_js__WEBPACK_IMPORTED_MODULE_7__.AesGcm256.decrypt(demKey, encryptedObject.ciphertext);\n    } else if (encryptedObject.ciphertext.Hmac256Ctr) {\n        return _dem_js__WEBPACK_IMPORTED_MODULE_7__.Hmac256Ctr.decrypt(demKey, encryptedObject.ciphertext);\n    } else if (encryptedObject.ciphertext.Plain) {\n        return demKey;\n    } else {\n        throw new _error_js__WEBPACK_IMPORTED_MODULE_0__.InvalidCiphertextError(\"Invalid ciphertext type\");\n    }\n}\n //# sourceMappingURL=decrypt.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG15c3RlbitzZWFsQDAuNi4wX3R5cGVzY3JpcHRANS45LjMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc2VhbC9kaXN0L2VzbS9kZWNyeXB0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFzQztBQUNJO0FBQ087QUFDNEI7QUFDWTtBQUN4QztBQUNDO0FBQ0M7QUFDbkQsZUFBZWUsUUFBUSxFQUNyQkMsZUFBZSxFQUNmQyxJQUFJLEVBQ0pDLFVBQVUsRUFDWDtJQUNDLElBQUksQ0FBQ0YsZ0JBQWdCRyxlQUFlLENBQUNDLHFCQUFxQixFQUFFO1FBQzFELE1BQU0sSUFBSWYsOERBQXVCQSxDQUFDO0lBQ3BDO0lBQ0EsTUFBTWdCLFNBQVNWLHVEQUFZQSxDQUFDSyxnQkFBZ0JNLFNBQVMsRUFBRU4sZ0JBQWdCTyxFQUFFO0lBQ3pFLE1BQU1DLGFBQWFSLGdCQUFnQlMsUUFBUSxDQUFDQyxHQUFHLENBQUMsQ0FBQ0MsR0FBR0MsSUFBTUEsR0FBR0MsTUFBTSxDQUFDLENBQUNELElBQU1YLEtBQUthLEdBQUcsQ0FBQyxDQUFDLEVBQUVULE9BQU8sQ0FBQyxFQUFFTCxnQkFBZ0JTLFFBQVEsQ0FBQ0csRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ2pJLElBQUlKLFdBQVdPLE1BQU0sR0FBR2YsZ0JBQWdCZ0IsU0FBUyxFQUFFO1FBQ2pELE1BQU0sSUFBSUMsTUFBTTtJQUNsQjtJQUNBLE1BQU1kLGtCQUFrQkgsZ0JBQWdCRyxlQUFlLENBQUNDLHFCQUFxQixDQUFDRCxlQUFlO0lBQzdGLElBQUlBLGdCQUFnQlksTUFBTSxLQUFLZixnQkFBZ0JTLFFBQVEsQ0FBQ00sTUFBTSxFQUFFO1FBQzlELE1BQU0sSUFBSTNCLDZEQUFzQkEsQ0FDOUIsQ0FBQyxrQkFBa0IsRUFBRWUsZ0JBQWdCWSxNQUFNLENBQUMsY0FBYyxFQUFFZixnQkFBZ0JTLFFBQVEsQ0FBQ00sTUFBTSxDQUFDLENBQUM7SUFFakc7SUFDQSxNQUFNRyxRQUFRakMsbURBQVNBLENBQUNrQyxTQUFTLENBQUNuQixnQkFBZ0JHLGVBQWUsQ0FBQ0MscUJBQXFCLENBQUNjLEtBQUs7SUFDN0YsTUFBTUUsU0FBU1osV0FBV0UsR0FBRyxDQUFDLENBQUNFO1FBQzdCLE1BQU0sQ0FBQ1MsVUFBVUMsTUFBTSxHQUFHdEIsZ0JBQWdCUyxRQUFRLENBQUNHLEVBQUU7UUFDckQsTUFBTVcsUUFBUWpDLGtFQUE2QkEsQ0FBQ1MsT0FBTyxDQUNqRG1CLE9BQ0FqQixLQUFLdUIsR0FBRyxDQUFDLENBQUMsRUFBRW5CLE9BQU8sQ0FBQyxFQUFFZ0IsU0FBUyxDQUFDLEdBQ2hDbEIsZUFBZSxDQUFDUyxFQUFFLEVBQ2xCNUIsb0RBQU9BLENBQUNxQixTQUNSO1lBQUNnQjtZQUFVQztTQUFNO1FBRW5CLE9BQU87WUFBRUE7WUFBT0M7UUFBTTtJQUN4QjtJQUNBLE1BQU1FLFVBQVU1QixtREFBT0EsQ0FBQ3VCO0lBQ3hCLE1BQU1NLGdCQUFnQmpDLGtEQUFTQSxDQUM3QkMsK0NBQVVBLENBQUNpQyxtQkFBbUIsRUFDOUJGLFNBQ0F0QixpQkFDQUgsZ0JBQWdCZ0IsU0FBUyxFQUN6QmhCLGdCQUFnQlMsUUFBUSxDQUFDQyxHQUFHLENBQUMsQ0FBQyxDQUFDa0IsV0FBV2pCLEVBQUUsR0FBS2lCO0lBRW5ELE1BQU1DLGFBQWF0QywwREFBaUJBLENBQ2xDUyxnQkFBZ0JHLGVBQWUsQ0FBQ0MscUJBQXFCLENBQUMwQixtQkFBbUIsRUFDekVKO0lBRUYsSUFBSSxDQUFDbEMsb0RBQVdBLENBQUMwQixPQUFPVyxhQUFhO1FBQ25DLE1BQU0sSUFBSXpDLDZEQUFzQkEsQ0FBQztJQUNuQztJQUNBLE1BQU0yQyx3QkFBd0I3QixlQUFlLEtBQUs7SUFDbEQsSUFBSTZCLHVCQUF1QjtRQUN6QixNQUFNQyxhQUFhbEMsdURBQVdBLENBQUNzQjtRQUMvQixNQUFNYSxZQUFZM0Msa0VBQTZCQSxDQUFDNEMsK0JBQStCLENBQzdFTCxZQUNBMUIsaUJBQ0FILGdCQUFnQlMsUUFBUSxFQUN4QlAsWUFDQWdCLE9BQ0FsQyxvREFBT0EsQ0FBQ3FCO1FBRVYsSUFBSTRCLFVBQVVFLElBQUksQ0FBQyxDQUFDLEVBQUViLEtBQUssRUFBRUMsS0FBSyxFQUFFLEdBQUssQ0FBQzNCLGlEQUFNQSxDQUFDb0MsV0FBV1YsUUFBUUMsU0FBUztZQUMzRSxNQUFNLElBQUluQyw2REFBc0JBLENBQUM7UUFDbkM7SUFDRjtJQUNBLE1BQU1nRCxTQUFTM0Msa0RBQVNBLENBQ3RCQywrQ0FBVUEsQ0FBQzJDLEdBQUcsRUFDZFosU0FDQXRCLGlCQUNBSCxnQkFBZ0JnQixTQUFTLEVBQ3pCaEIsZ0JBQWdCUyxRQUFRLENBQUNDLEdBQUcsQ0FBQyxDQUFDLENBQUNXLFVBQVVWLEVBQUUsR0FBS1U7SUFFbEQsSUFBSXJCLGdCQUFnQnNDLFVBQVUsQ0FBQ0MsU0FBUyxFQUFFO1FBQ3hDLE9BQU9yRCw4Q0FBU0EsQ0FBQ2EsT0FBTyxDQUFDcUMsUUFBUXBDLGdCQUFnQnNDLFVBQVU7SUFDN0QsT0FBTyxJQUFJdEMsZ0JBQWdCc0MsVUFBVSxDQUFDbkQsVUFBVSxFQUFFO1FBQ2hELE9BQU9BLCtDQUFVQSxDQUFDWSxPQUFPLENBQUNxQyxRQUFRcEMsZ0JBQWdCc0MsVUFBVTtJQUM5RCxPQUFPLElBQUl0QyxnQkFBZ0JzQyxVQUFVLENBQUNFLEtBQUssRUFBRTtRQUMzQyxPQUFPSjtJQUNULE9BQU87UUFDTCxNQUFNLElBQUloRCw2REFBc0JBLENBQUM7SUFDbkM7QUFDRjtBQUdFLENBQ0YsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm90YXNjYW0tcHJvdG9jb2wvLi9ub2RlX21vZHVsZXMvLnBucG0vQG15c3RlbitzZWFsQDAuNi4wX3R5cGVzY3JpcHRANS45LjMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc2VhbC9kaXN0L2VzbS9kZWNyeXB0LmpzP2EwYWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZnJvbUhleCB9IGZyb20gXCJAbXlzdGVuL2Jjc1wiO1xuaW1wb3J0IHsgRzJFbGVtZW50IH0gZnJvbSBcIi4vYmxzMTIzODEuanNcIjtcbmltcG9ydCB7IEFlc0djbTI1NiwgSG1hYzI1NkN0ciB9IGZyb20gXCIuL2RlbS5qc1wiO1xuaW1wb3J0IHsgSW52YWxpZENpcGhlcnRleHRFcnJvciwgVW5zdXBwb3J0ZWRGZWF0dXJlRXJyb3IgfSBmcm9tIFwiLi9lcnJvci5qc1wiO1xuaW1wb3J0IHsgQm9uZWhGcmFua2xpbkJMUzEyMzgxU2VydmljZXMsIGRlY3J5cHRSYW5kb21uZXNzLCB2ZXJpZnlOb25jZSB9IGZyb20gXCIuL2liZS5qc1wiO1xuaW1wb3J0IHsgZGVyaXZlS2V5LCBLZXlQdXJwb3NlIH0gZnJvbSBcIi4va2RmLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVGdWxsSWQsIGVxdWFscyB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBjb21iaW5lLCBpbnRlcnBvbGF0ZSB9IGZyb20gXCIuL3NoYW1pci5qc1wiO1xuYXN5bmMgZnVuY3Rpb24gZGVjcnlwdCh7XG4gIGVuY3J5cHRlZE9iamVjdCxcbiAga2V5cyxcbiAgcHVibGljS2V5c1xufSkge1xuICBpZiAoIWVuY3J5cHRlZE9iamVjdC5lbmNyeXB0ZWRTaGFyZXMuQm9uZWhGcmFua2xpbkJMUzEyMzgxKSB7XG4gICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkRmVhdHVyZUVycm9yKFwiRW5jcnlwdGlvbiBtb2RlIG5vdCBzdXBwb3J0ZWRcIik7XG4gIH1cbiAgY29uc3QgZnVsbElkID0gY3JlYXRlRnVsbElkKGVuY3J5cHRlZE9iamVjdC5wYWNrYWdlSWQsIGVuY3J5cHRlZE9iamVjdC5pZCk7XG4gIGNvbnN0IGluS2V5c3RvcmUgPSBlbmNyeXB0ZWRPYmplY3Quc2VydmljZXMubWFwKChfLCBpKSA9PiBpKS5maWx0ZXIoKGkpID0+IGtleXMuaGFzKGAke2Z1bGxJZH06JHtlbmNyeXB0ZWRPYmplY3Quc2VydmljZXNbaV1bMF19YCkpO1xuICBpZiAoaW5LZXlzdG9yZS5sZW5ndGggPCBlbmNyeXB0ZWRPYmplY3QudGhyZXNob2xkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGVub3VnaCBzaGFyZXMuIFBsZWFzZSBmZXRjaCBtb3JlIGtleXMuXCIpO1xuICB9XG4gIGNvbnN0IGVuY3J5cHRlZFNoYXJlcyA9IGVuY3J5cHRlZE9iamVjdC5lbmNyeXB0ZWRTaGFyZXMuQm9uZWhGcmFua2xpbkJMUzEyMzgxLmVuY3J5cHRlZFNoYXJlcztcbiAgaWYgKGVuY3J5cHRlZFNoYXJlcy5sZW5ndGggIT09IGVuY3J5cHRlZE9iamVjdC5zZXJ2aWNlcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZENpcGhlcnRleHRFcnJvcihcbiAgICAgIGBNaXNtYXRjaGVkIHNoYXJlcyAke2VuY3J5cHRlZFNoYXJlcy5sZW5ndGh9IGFuZCBzZXJ2aWNlcyAke2VuY3J5cHRlZE9iamVjdC5zZXJ2aWNlcy5sZW5ndGh9YFxuICAgICk7XG4gIH1cbiAgY29uc3Qgbm9uY2UgPSBHMkVsZW1lbnQuZnJvbUJ5dGVzKGVuY3J5cHRlZE9iamVjdC5lbmNyeXB0ZWRTaGFyZXMuQm9uZWhGcmFua2xpbkJMUzEyMzgxLm5vbmNlKTtcbiAgY29uc3Qgc2hhcmVzID0gaW5LZXlzdG9yZS5tYXAoKGkpID0+IHtcbiAgICBjb25zdCBbb2JqZWN0SWQsIGluZGV4XSA9IGVuY3J5cHRlZE9iamVjdC5zZXJ2aWNlc1tpXTtcbiAgICBjb25zdCBzaGFyZSA9IEJvbmVoRnJhbmtsaW5CTFMxMjM4MVNlcnZpY2VzLmRlY3J5cHQoXG4gICAgICBub25jZSxcbiAgICAgIGtleXMuZ2V0KGAke2Z1bGxJZH06JHtvYmplY3RJZH1gKSxcbiAgICAgIGVuY3J5cHRlZFNoYXJlc1tpXSxcbiAgICAgIGZyb21IZXgoZnVsbElkKSxcbiAgICAgIFtvYmplY3RJZCwgaW5kZXhdXG4gICAgKTtcbiAgICByZXR1cm4geyBpbmRleCwgc2hhcmUgfTtcbiAgfSk7XG4gIGNvbnN0IGJhc2VLZXkgPSBjb21iaW5lKHNoYXJlcyk7XG4gIGNvbnN0IHJhbmRvbW5lc3NLZXkgPSBkZXJpdmVLZXkoXG4gICAgS2V5UHVycG9zZS5FbmNyeXB0ZWRSYW5kb21uZXNzLFxuICAgIGJhc2VLZXksXG4gICAgZW5jcnlwdGVkU2hhcmVzLFxuICAgIGVuY3J5cHRlZE9iamVjdC50aHJlc2hvbGQsXG4gICAgZW5jcnlwdGVkT2JqZWN0LnNlcnZpY2VzLm1hcCgoW29iamVjdElkcywgX10pID0+IG9iamVjdElkcylcbiAgKTtcbiAgY29uc3QgcmFuZG9tbmVzcyA9IGRlY3J5cHRSYW5kb21uZXNzKFxuICAgIGVuY3J5cHRlZE9iamVjdC5lbmNyeXB0ZWRTaGFyZXMuQm9uZWhGcmFua2xpbkJMUzEyMzgxLmVuY3J5cHRlZFJhbmRvbW5lc3MsXG4gICAgcmFuZG9tbmVzc0tleVxuICApO1xuICBpZiAoIXZlcmlmeU5vbmNlKG5vbmNlLCByYW5kb21uZXNzKSkge1xuICAgIHRocm93IG5ldyBJbnZhbGlkQ2lwaGVydGV4dEVycm9yKFwiSW52YWxpZCBub25jZVwiKTtcbiAgfVxuICBjb25zdCBjaGVja1NoYXJlQ29uc2lzdGVuY3kgPSBwdWJsaWNLZXlzICE9PSB2b2lkIDA7XG4gIGlmIChjaGVja1NoYXJlQ29uc2lzdGVuY3kpIHtcbiAgICBjb25zdCBwb2x5bm9taWFsID0gaW50ZXJwb2xhdGUoc2hhcmVzKTtcbiAgICBjb25zdCBhbGxTaGFyZXMgPSBCb25laEZyYW5rbGluQkxTMTIzODFTZXJ2aWNlcy5kZWNyeXB0QWxsU2hhcmVzVXNpbmdSYW5kb21uZXNzKFxuICAgICAgcmFuZG9tbmVzcyxcbiAgICAgIGVuY3J5cHRlZFNoYXJlcyxcbiAgICAgIGVuY3J5cHRlZE9iamVjdC5zZXJ2aWNlcyxcbiAgICAgIHB1YmxpY0tleXMsXG4gICAgICBub25jZSxcbiAgICAgIGZyb21IZXgoZnVsbElkKVxuICAgICk7XG4gICAgaWYgKGFsbFNoYXJlcy5zb21lKCh7IGluZGV4LCBzaGFyZSB9KSA9PiAhZXF1YWxzKHBvbHlub21pYWwoaW5kZXgpLCBzaGFyZSkpKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZENpcGhlcnRleHRFcnJvcihcIkludmFsaWQgc2hhcmVzXCIpO1xuICAgIH1cbiAgfVxuICBjb25zdCBkZW1LZXkgPSBkZXJpdmVLZXkoXG4gICAgS2V5UHVycG9zZS5ERU0sXG4gICAgYmFzZUtleSxcbiAgICBlbmNyeXB0ZWRTaGFyZXMsXG4gICAgZW5jcnlwdGVkT2JqZWN0LnRocmVzaG9sZCxcbiAgICBlbmNyeXB0ZWRPYmplY3Quc2VydmljZXMubWFwKChbb2JqZWN0SWQsIF9dKSA9PiBvYmplY3RJZClcbiAgKTtcbiAgaWYgKGVuY3J5cHRlZE9iamVjdC5jaXBoZXJ0ZXh0LkFlczI1NkdjbSkge1xuICAgIHJldHVybiBBZXNHY20yNTYuZGVjcnlwdChkZW1LZXksIGVuY3J5cHRlZE9iamVjdC5jaXBoZXJ0ZXh0KTtcbiAgfSBlbHNlIGlmIChlbmNyeXB0ZWRPYmplY3QuY2lwaGVydGV4dC5IbWFjMjU2Q3RyKSB7XG4gICAgcmV0dXJuIEhtYWMyNTZDdHIuZGVjcnlwdChkZW1LZXksIGVuY3J5cHRlZE9iamVjdC5jaXBoZXJ0ZXh0KTtcbiAgfSBlbHNlIGlmIChlbmNyeXB0ZWRPYmplY3QuY2lwaGVydGV4dC5QbGFpbikge1xuICAgIHJldHVybiBkZW1LZXk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRDaXBoZXJ0ZXh0RXJyb3IoXCJJbnZhbGlkIGNpcGhlcnRleHQgdHlwZVwiKTtcbiAgfVxufVxuZXhwb3J0IHtcbiAgZGVjcnlwdFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlY3J5cHQuanMubWFwXG4iXSwibmFtZXMiOlsiZnJvbUhleCIsIkcyRWxlbWVudCIsIkFlc0djbTI1NiIsIkhtYWMyNTZDdHIiLCJJbnZhbGlkQ2lwaGVydGV4dEVycm9yIiwiVW5zdXBwb3J0ZWRGZWF0dXJlRXJyb3IiLCJCb25laEZyYW5rbGluQkxTMTIzODFTZXJ2aWNlcyIsImRlY3J5cHRSYW5kb21uZXNzIiwidmVyaWZ5Tm9uY2UiLCJkZXJpdmVLZXkiLCJLZXlQdXJwb3NlIiwiY3JlYXRlRnVsbElkIiwiZXF1YWxzIiwiY29tYmluZSIsImludGVycG9sYXRlIiwiZGVjcnlwdCIsImVuY3J5cHRlZE9iamVjdCIsImtleXMiLCJwdWJsaWNLZXlzIiwiZW5jcnlwdGVkU2hhcmVzIiwiQm9uZWhGcmFua2xpbkJMUzEyMzgxIiwiZnVsbElkIiwicGFja2FnZUlkIiwiaWQiLCJpbktleXN0b3JlIiwic2VydmljZXMiLCJtYXAiLCJfIiwiaSIsImZpbHRlciIsImhhcyIsImxlbmd0aCIsInRocmVzaG9sZCIsIkVycm9yIiwibm9uY2UiLCJmcm9tQnl0ZXMiLCJzaGFyZXMiLCJvYmplY3RJZCIsImluZGV4Iiwic2hhcmUiLCJnZXQiLCJiYXNlS2V5IiwicmFuZG9tbmVzc0tleSIsIkVuY3J5cHRlZFJhbmRvbW5lc3MiLCJvYmplY3RJZHMiLCJyYW5kb21uZXNzIiwiZW5jcnlwdGVkUmFuZG9tbmVzcyIsImNoZWNrU2hhcmVDb25zaXN0ZW5jeSIsInBvbHlub21pYWwiLCJhbGxTaGFyZXMiLCJkZWNyeXB0QWxsU2hhcmVzVXNpbmdSYW5kb21uZXNzIiwic29tZSIsImRlbUtleSIsIkRFTSIsImNpcGhlcnRleHQiLCJBZXMyNTZHY20iLCJQbGFpbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/decrypt.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/dem.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/dem.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AesGcm256: () => (/* binding */ AesGcm256),\n/* harmony export */   Hmac256Ctr: () => (/* binding */ Hmac256Ctr),\n/* harmony export */   iv: () => (/* binding */ iv)\n/* harmony export */ });\n/* harmony import */ var _mysten_bcs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mysten/bcs */ \"(ssr)/./node_modules/.pnpm/@mysten+bcs@1.8.0/node_modules/@mysten/bcs/dist/esm/bcs.js\");\n/* harmony import */ var _noble_curves_abstract_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @noble/curves/abstract/utils */ \"(ssr)/./node_modules/.pnpm/@noble+curves@1.9.7/node_modules/@noble/curves/esm/abstract/utils.js\");\n/* harmony import */ var _noble_hashes_hmac__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @noble/hashes/hmac */ \"(ssr)/./node_modules/.pnpm/@noble+hashes@1.8.0/node_modules/@noble/hashes/esm/hmac.js\");\n/* harmony import */ var _noble_hashes_sha3__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @noble/hashes/sha3 */ \"(ssr)/./node_modules/.pnpm/@noble+hashes@1.8.0/node_modules/@noble/hashes/esm/sha3.js\");\n/* harmony import */ var _error_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./error.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/error.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/utils.js\");\n\n\n\n\n\n\nconst iv = Uint8Array.from([\n    138,\n    55,\n    153,\n    253,\n    198,\n    46,\n    121,\n    219,\n    160,\n    128,\n    89,\n    7,\n    214,\n    156,\n    148,\n    220\n]);\nasync function generateAesKey() {\n    const key = await crypto.subtle.generateKey({\n        name: \"AES-GCM\",\n        length: 256\n    }, true, [\n        \"encrypt\",\n        \"decrypt\"\n    ]);\n    return await crypto.subtle.exportKey(\"raw\", key).then((keyData)=>new Uint8Array(keyData));\n}\nclass AesGcm256 {\n    constructor(msg, aad){\n        this.plaintext = msg;\n        this.aad = aad;\n    }\n    generateKey() {\n        return generateAesKey();\n    }\n    async encrypt(key) {\n        if (key.length !== 32) {\n            throw new Error(\"Key must be 32 bytes\");\n        }\n        const aesCryptoKey = await crypto.subtle.importKey(\"raw\", key, \"AES-GCM\", false, [\n            \"encrypt\"\n        ]);\n        const blob = new Uint8Array(await crypto.subtle.encrypt({\n            name: \"AES-GCM\",\n            iv,\n            additionalData: this.aad\n        }, aesCryptoKey, this.plaintext));\n        return {\n            Aes256Gcm: {\n                blob,\n                aad: this.aad ?? []\n            }\n        };\n    }\n    static async decrypt(key, ciphertext) {\n        if (!(\"Aes256Gcm\" in ciphertext)) {\n            throw new _error_js__WEBPACK_IMPORTED_MODULE_0__.InvalidCiphertextError(`Invalid ciphertext ${ciphertext}`);\n        }\n        if (key.length !== 32) {\n            throw new Error(\"Key must be 32 bytes\");\n        }\n        try {\n            const aesCryptoKey = await crypto.subtle.importKey(\"raw\", key, \"AES-GCM\", false, [\n                \"decrypt\"\n            ]);\n            return new Uint8Array(await crypto.subtle.decrypt({\n                name: \"AES-GCM\",\n                iv,\n                additionalData: new Uint8Array(ciphertext.Aes256Gcm.aad ?? [])\n            }, aesCryptoKey, new Uint8Array(ciphertext.Aes256Gcm.blob)));\n        } catch (e) {\n            throw new _error_js__WEBPACK_IMPORTED_MODULE_0__.DecryptionError(`Decryption failed`);\n        }\n    }\n}\nclass Hmac256Ctr {\n    constructor(msg, aad){\n        this.plaintext = msg;\n        this.aad = aad;\n    }\n    generateKey() {\n        return generateAesKey();\n    }\n    async encrypt(key) {\n        const blob = Hmac256Ctr.encryptInCtrMode(key, this.plaintext);\n        const mac = Hmac256Ctr.computeMac(key, this.aad, blob);\n        return {\n            Hmac256Ctr: {\n                blob,\n                mac,\n                aad: this.aad ?? []\n            }\n        };\n    }\n    static async decrypt(key, ciphertext) {\n        if (!(\"Hmac256Ctr\" in ciphertext)) {\n            throw new _error_js__WEBPACK_IMPORTED_MODULE_0__.InvalidCiphertextError(`Invalid ciphertext ${ciphertext}`);\n        }\n        if (key.length !== 32) {\n            throw new Error(\"Key must be 32 bytes\");\n        }\n        const aad = new Uint8Array(ciphertext.Hmac256Ctr.aad ?? []);\n        const blob = new Uint8Array(ciphertext.Hmac256Ctr.blob);\n        const mac = Hmac256Ctr.computeMac(key, aad, blob);\n        if (!(0,_noble_curves_abstract_utils__WEBPACK_IMPORTED_MODULE_1__.equalBytes)(mac, new Uint8Array(ciphertext.Hmac256Ctr.mac))) {\n            throw new _error_js__WEBPACK_IMPORTED_MODULE_0__.DecryptionError(`Invalid MAC ${mac}`);\n        }\n        return Hmac256Ctr.encryptInCtrMode(key, blob);\n    }\n    static computeMac(key, aad, ciphertext) {\n        const macInput = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.flatten)([\n            MacKeyTag,\n            toBytes(aad.length),\n            aad,\n            ciphertext\n        ]);\n        const mac = (0,_noble_hashes_hmac__WEBPACK_IMPORTED_MODULE_3__.hmac)(_noble_hashes_sha3__WEBPACK_IMPORTED_MODULE_4__.sha3_256, key, macInput);\n        return mac;\n    }\n    static encryptInCtrMode(key, msg) {\n        const blockSize = 32;\n        const result = new Uint8Array(msg.length);\n        for(let i = 0; i * blockSize < msg.length; i++){\n            const block = msg.subarray(i * blockSize, (i + 1) * blockSize);\n            const mask = (0,_noble_hashes_hmac__WEBPACK_IMPORTED_MODULE_3__.hmac)(_noble_hashes_sha3__WEBPACK_IMPORTED_MODULE_4__.sha3_256, key, (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.flatten)([\n                EncryptionKeyTag,\n                toBytes(i)\n            ]));\n            const encryptedBlock = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.xorUnchecked)(block, mask);\n            result.set(encryptedBlock, i * blockSize);\n        }\n        return result;\n    }\n}\nfunction toBytes(n) {\n    return _mysten_bcs__WEBPACK_IMPORTED_MODULE_5__.bcs.u64().serialize(n).toBytes();\n}\nconst EncryptionKeyTag = new TextEncoder().encode(\"HMAC-CTR-ENC\");\nconst MacKeyTag = new TextEncoder().encode(\"HMAC-CTR-MAC\");\n //# sourceMappingURL=dem.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG15c3RlbitzZWFsQDAuNi4wX3R5cGVzY3JpcHRANS45LjMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc2VhbC9kaXN0L2VzbS9kZW0uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQWtDO0FBQ3dCO0FBQ2hCO0FBQ0k7QUFDdUI7QUFDbEI7QUFDbkQsTUFBTVEsS0FBS0MsV0FBV0MsSUFBSSxDQUFDO0lBQ3pCO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0Q7QUFDRCxlQUFlQztJQUNiLE1BQU1DLE1BQU0sTUFBTUMsT0FBT0MsTUFBTSxDQUFDQyxXQUFXLENBQ3pDO1FBQ0VDLE1BQU07UUFDTkMsUUFBUTtJQUNWLEdBQ0EsTUFDQTtRQUFDO1FBQVc7S0FBVTtJQUV4QixPQUFPLE1BQU1KLE9BQU9DLE1BQU0sQ0FBQ0ksU0FBUyxDQUFDLE9BQU9OLEtBQUtPLElBQUksQ0FBQyxDQUFDQyxVQUFZLElBQUlYLFdBQVdXO0FBQ3BGO0FBQ0EsTUFBTUM7SUFDSkMsWUFBWUMsR0FBRyxFQUFFQyxHQUFHLENBQUU7UUFDcEIsSUFBSSxDQUFDQyxTQUFTLEdBQUdGO1FBQ2pCLElBQUksQ0FBQ0MsR0FBRyxHQUFHQTtJQUNiO0lBQ0FULGNBQWM7UUFDWixPQUFPSjtJQUNUO0lBQ0EsTUFBTWUsUUFBUWQsR0FBRyxFQUFFO1FBQ2pCLElBQUlBLElBQUlLLE1BQU0sS0FBSyxJQUFJO1lBQ3JCLE1BQU0sSUFBSVUsTUFBTTtRQUNsQjtRQUNBLE1BQU1DLGVBQWUsTUFBTWYsT0FBT0MsTUFBTSxDQUFDZSxTQUFTLENBQ2hELE9BQ0FqQixLQUNBLFdBQ0EsT0FDQTtZQUFDO1NBQVU7UUFFYixNQUFNa0IsT0FBTyxJQUFJckIsV0FDZixNQUFNSSxPQUFPQyxNQUFNLENBQUNZLE9BQU8sQ0FDekI7WUFDRVYsTUFBTTtZQUNOUjtZQUNB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QUVTLEtBQUs0QjtRQUNoQyxPQUFPRjtJQUNUO0lBQ0EsT0FBT0QsaUJBQWlCekIsR0FBRyxFQUFFVyxHQUFHLEVBQUU7UUFDaEMsTUFBTW9CLFlBQVk7UUFDbEIsTUFBTUMsU0FBUyxJQUFJbkMsV0FBV2MsSUFBSU4sTUFBTTtRQUN4QyxJQUFLLElBQUk0QixJQUFJLEdBQUdBLElBQUlGLFlBQVlwQixJQUFJTixNQUFNLEVBQUU0QixJQUFLO1lBQy9DLE1BQU1DLFFBQVF2QixJQUFJd0IsUUFBUSxDQUFDRixJQUFJRixXQUFXLENBQUNFLElBQUksS0FBS0Y7WUFDcEQsTUFBTUssT0FBTzlDLHdEQUFJQSxDQUFDQyx3REFBUUEsRUFBRVMsS0FBS04sa0RBQU9BLENBQUM7Z0JBQUMyQztnQkFBa0JQLFFBQVFHO2FBQUc7WUFDdkUsTUFBTUssaUJBQWlCM0MsdURBQVlBLENBQUN1QyxPQUFPRTtZQUMzQ0osT0FBT08sR0FBRyxDQUFDRCxnQkFBZ0JMLElBQUlGO1FBQ2pDO1FBQ0EsT0FBT0M7SUFDVDtBQUNGO0FBQ0EsU0FBU0YsUUFBUVUsQ0FBQztJQUNoQixPQUFPcEQsNENBQUdBLENBQUNxRCxHQUFHLEdBQUdDLFNBQVMsQ0FBQ0YsR0FBR1YsT0FBTztBQUN2QztBQUNBLE1BQU1PLG1CQUFtQixJQUFJTSxjQUFjQyxNQUFNLENBQUM7QUFDbEQsTUFBTWYsWUFBWSxJQUFJYyxjQUFjQyxNQUFNLENBQUM7QUFLekMsQ0FDRiwrQkFBK0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub3Rhc2NhbS1wcm90b2NvbC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbXlzdGVuK3NlYWxAMC42LjBfdHlwZXNjcmlwdEA1LjkuMy9ub2RlX21vZHVsZXMvQG15c3Rlbi9zZWFsL2Rpc3QvZXNtL2RlbS5qcz81MTBmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJjcyB9IGZyb20gXCJAbXlzdGVuL2Jjc1wiO1xuaW1wb3J0IHsgZXF1YWxCeXRlcyB9IGZyb20gXCJAbm9ibGUvY3VydmVzL2Fic3RyYWN0L3V0aWxzXCI7XG5pbXBvcnQgeyBobWFjIH0gZnJvbSBcIkBub2JsZS9oYXNoZXMvaG1hY1wiO1xuaW1wb3J0IHsgc2hhM18yNTYgfSBmcm9tIFwiQG5vYmxlL2hhc2hlcy9zaGEzXCI7XG5pbXBvcnQgeyBEZWNyeXB0aW9uRXJyb3IsIEludmFsaWRDaXBoZXJ0ZXh0RXJyb3IgfSBmcm9tIFwiLi9lcnJvci5qc1wiO1xuaW1wb3J0IHsgZmxhdHRlbiwgeG9yVW5jaGVja2VkIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcbmNvbnN0IGl2ID0gVWludDhBcnJheS5mcm9tKFtcbiAgMTM4LFxuICA1NSxcbiAgMTUzLFxuICAyNTMsXG4gIDE5OCxcbiAgNDYsXG4gIDEyMSxcbiAgMjE5LFxuICAxNjAsXG4gIDEyOCxcbiAgODksXG4gIDcsXG4gIDIxNCxcbiAgMTU2LFxuICAxNDgsXG4gIDIyMFxuXSk7XG5hc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUFlc0tleSgpIHtcbiAgY29uc3Qga2V5ID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5nZW5lcmF0ZUtleShcbiAgICB7XG4gICAgICBuYW1lOiBcIkFFUy1HQ01cIixcbiAgICAgIGxlbmd0aDogMjU2XG4gICAgfSxcbiAgICB0cnVlLFxuICAgIFtcImVuY3J5cHRcIiwgXCJkZWNyeXB0XCJdXG4gICk7XG4gIHJldHVybiBhd2FpdCBjcnlwdG8uc3VidGxlLmV4cG9ydEtleShcInJhd1wiLCBrZXkpLnRoZW4oKGtleURhdGEpID0+IG5ldyBVaW50OEFycmF5KGtleURhdGEpKTtcbn1cbmNsYXNzIEFlc0djbTI1NiB7XG4gIGNvbnN0cnVjdG9yKG1zZywgYWFkKSB7XG4gICAgdGhpcy5wbGFpbnRleHQgPSBtc2c7XG4gICAgdGhpcy5hYWQgPSBhYWQ7XG4gIH1cbiAgZ2VuZXJhdGVLZXkoKSB7XG4gICAgcmV0dXJuIGdlbmVyYXRlQWVzS2V5KCk7XG4gIH1cbiAgYXN5bmMgZW5jcnlwdChrZXkpIHtcbiAgICBpZiAoa2V5Lmxlbmd0aCAhPT0gMzIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIktleSBtdXN0IGJlIDMyIGJ5dGVzXCIpO1xuICAgIH1cbiAgICBjb25zdCBhZXNDcnlwdG9LZXkgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmltcG9ydEtleShcbiAgICAgIFwicmF3XCIsXG4gICAgICBrZXksXG4gICAgICBcIkFFUy1HQ01cIixcbiAgICAgIGZhbHNlLFxuICAgICAgW1wiZW5jcnlwdFwiXVxuICAgICk7XG4gICAgY29uc3QgYmxvYiA9IG5ldyBVaW50OEFycmF5KFxuICAgICAgYXdhaXQgY3J5cHRvLnN1YnRsZS5lbmNyeXB0KFxuICAgICAgICB7XG4gICAgICAgICAgbmFtZTogXCJBRVMtR0NNXCIsXG4gICAgICAgICAgaXYsXG4gICAgICAgICAgYWRkaXRpb25hbERhdGE6IHRoaXMuYWFkXG4gICAgICAgIH0sXG4gICAgICAgIGFlc0NyeXB0b0tleSxcbiAgICAgICAgdGhpcy5wbGFpbnRleHRcbiAgICAgIClcbiAgICApO1xuICAgIHJldHVybiB7XG4gICAgICBBZXMyNTZHY206IHtcbiAgICAgICAgYmxvYixcbiAgICAgICAgYWFkOiB0aGlzLmFhZCA/PyBbXVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgc3RhdGljIGFzeW5jIGRlY3J5cHQoa2V5LCBjaXBoZXJ0ZXh0KSB7XG4gICAgaWYgKCEoXCJBZXMyNTZHY21cIiBpbiBjaXBoZXJ0ZXh0KSkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRDaXBoZXJ0ZXh0RXJyb3IoYEludmFsaWQgY2lwaGVydGV4dCAke2NpcGhlcnRleHR9YCk7XG4gICAgfVxuICAgIGlmIChrZXkubGVuZ3RoICE9PSAzMikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiS2V5IG11c3QgYmUgMzIgYnl0ZXNcIik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCBhZXNDcnlwdG9LZXkgPSBhd2FpdCBjcnlwdG8uc3VidGxlLmltcG9ydEtleShcbiAgICAgICAgXCJyYXdcIixcbiAgICAgICAga2V5LFxuICAgICAgICBcIkFFUy1HQ01cIixcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIFtcImRlY3J5cHRcIl1cbiAgICAgICk7XG4gICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoXG4gICAgICAgIGF3YWl0IGNyeXB0by5zdWJ0bGUuZGVjcnlwdChcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcIkFFUy1HQ01cIixcbiAgICAgICAgICAgIGl2LFxuICAgICAgICAgICAgYWRkaXRpb25hbERhdGE6IG5ldyBVaW50OEFycmF5KGNpcGhlcnRleHQuQWVzMjU2R2NtLmFhZCA/PyBbXSlcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFlc0NyeXB0b0tleSxcbiAgICAgICAgICBuZXcgVWludDhBcnJheShjaXBoZXJ0ZXh0LkFlczI1NkdjbS5ibG9iKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRocm93IG5ldyBEZWNyeXB0aW9uRXJyb3IoYERlY3J5cHRpb24gZmFpbGVkYCk7XG4gICAgfVxuICB9XG59XG5jbGFzcyBIbWFjMjU2Q3RyIHtcbiAgY29uc3RydWN0b3IobXNnLCBhYWQpIHtcbiAgICB0aGlzLnBsYWludGV4dCA9IG1zZztcbiAgICB0aGlzLmFhZCA9IGFhZDtcbiAgfVxuICBnZW5lcmF0ZUtleSgpIHtcbiAgICByZXR1cm4gZ2VuZXJhdGVBZXNLZXkoKTtcbiAgfVxuICBhc3luYyBlbmNyeXB0KGtleSkge1xuICAgIGNvbnN0IGJsb2IgPSBIbWFjMjU2Q3RyLmVuY3J5cHRJbkN0ck1vZGUoa2V5LCB0aGlzLnBsYWludGV4dCk7XG4gICAgY29uc3QgbWFjID0gSG1hYzI1NkN0ci5jb21wdXRlTWFjKGtleSwgdGhpcy5hYWQsIGJsb2IpO1xuICAgIHJldHVybiB7XG4gICAgICBIbWFjMjU2Q3RyOiB7XG4gICAgICAgIGJsb2IsXG4gICAgICAgIG1hYyxcbiAgICAgICAgYWFkOiB0aGlzLmFhZCA/PyBbXVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgc3RhdGljIGFzeW5jIGRlY3J5cHQoa2V5LCBjaXBoZXJ0ZXh0KSB7XG4gICAgaWYgKCEoXCJIbWFjMjU2Q3RyXCIgaW4gY2lwaGVydGV4dCkpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQ2lwaGVydGV4dEVycm9yKGBJbnZhbGlkIGNpcGhlcnRleHQgJHtjaXBoZXJ0ZXh0fWApO1xuICAgIH1cbiAgICBpZiAoa2V5Lmxlbmd0aCAhPT0gMzIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIktleSBtdXN0IGJlIDMyIGJ5dGVzXCIpO1xuICAgIH1cbiAgICBjb25zdCBhYWQgPSBuZXcgVWludDhBcnJheShjaXBoZXJ0ZXh0LkhtYWMyNTZDdHIuYWFkID8/IFtdKTtcbiAgICBjb25zdCBibG9iID0gbmV3IFVpbnQ4QXJyYXkoY2lwaGVydGV4dC5IbWFjMjU2Q3RyLmJsb2IpO1xuICAgIGNvbnN0IG1hYyA9IEhtYWMyNTZDdHIuY29tcHV0ZU1hYyhrZXksIGFhZCwgYmxvYik7XG4gICAgaWYgKCFlcXVhbEJ5dGVzKG1hYywgbmV3IFVpbnQ4QXJyYXkoY2lwaGVydGV4dC5IbWFjMjU2Q3RyLm1hYykpKSB7XG4gICAgICB0aHJvdyBuZXcgRGVjcnlwdGlvbkVycm9yKGBJbnZhbGlkIE1BQyAke21hY31gKTtcbiAgICB9XG4gICAgcmV0dXJuIEhtYWMyNTZDdHIuZW5jcnlwdEluQ3RyTW9kZShrZXksIGJsb2IpO1xuICB9XG4gIHN0YXRpYyBjb21wdXRlTWFjKGtleSwgYWFkLCBjaXBoZXJ0ZXh0KSB7XG4gICAgY29uc3QgbWFjSW5wdXQgPSBmbGF0dGVuKFtNYWNLZXlUYWcsIHRvQnl0ZXMoYWFkLmxlbmd0aCksIGFhZCwgY2lwaGVydGV4dF0pO1xuICAgIGNvbnN0IG1hYyA9IGhtYWMoc2hhM18yNTYsIGtleSwgbWFjSW5wdXQpO1xuICAgIHJldHVybiBtYWM7XG4gIH1cbiAgc3RhdGljIGVuY3J5cHRJbkN0ck1vZGUoa2V5LCBtc2cpIHtcbiAgICBjb25zdCBibG9ja1NpemUgPSAzMjtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgVWludDhBcnJheShtc2cubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSAqIGJsb2NrU2l6ZSA8IG1zZy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYmxvY2sgPSBtc2cuc3ViYXJyYXkoaSAqIGJsb2NrU2l6ZSwgKGkgKyAxKSAqIGJsb2NrU2l6ZSk7XG4gICAgICBjb25zdCBtYXNrID0gaG1hYyhzaGEzXzI1Niwga2V5LCBmbGF0dGVuKFtFbmNyeXB0aW9uS2V5VGFnLCB0b0J5dGVzKGkpXSkpO1xuICAgICAgY29uc3QgZW5jcnlwdGVkQmxvY2sgPSB4b3JVbmNoZWNrZWQoYmxvY2ssIG1hc2spO1xuICAgICAgcmVzdWx0LnNldChlbmNyeXB0ZWRCbG9jaywgaSAqIGJsb2NrU2l6ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn1cbmZ1bmN0aW9uIHRvQnl0ZXMobikge1xuICByZXR1cm4gYmNzLnU2NCgpLnNlcmlhbGl6ZShuKS50b0J5dGVzKCk7XG59XG5jb25zdCBFbmNyeXB0aW9uS2V5VGFnID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKFwiSE1BQy1DVFItRU5DXCIpO1xuY29uc3QgTWFjS2V5VGFnID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKFwiSE1BQy1DVFItTUFDXCIpO1xuZXhwb3J0IHtcbiAgQWVzR2NtMjU2LFxuICBIbWFjMjU2Q3RyLFxuICBpdlxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlbS5qcy5tYXBcbiJdLCJuYW1lcyI6WyJiY3MiLCJlcXVhbEJ5dGVzIiwiaG1hYyIsInNoYTNfMjU2IiwiRGVjcnlwdGlvbkVycm9yIiwiSW52YWxpZENpcGhlcnRleHRFcnJvciIsImZsYXR0ZW4iLCJ4b3JVbmNoZWNrZWQiLCJpdiIsIlVpbnQ4QXJyYXkiLCJmcm9tIiwiZ2VuZXJhdGVBZXNLZXkiLCJrZXkiLCJjcnlwdG8iLCJzdWJ0bGUiLCJnZW5lcmF0ZUtleSIsIm5hbWUiLCJsZW5ndGgiLCJleHBvcnRLZXkiLCJ0aGVuIiwia2V5RGF0YSIsIkFlc0djbTI1NiIsImNvbnN0cnVjdG9yIiwibXNnIiwiYWFkIiwicGxhaW50ZXh0IiwiZW5jcnlwdCIsIkVycm9yIiwiYWVzQ3J5cHRvS2V5IiwiaW1wb3J0S2V5IiwiYmxvYiIsImFkZGl0aW9uYWxEYXRhIiwiQWVzMjU2R2NtIiwiZGVjcnlwdCIsImNpcGhlcnRleHQiLCJlIiwiSG1hYzI1NkN0ciIsImVuY3J5cHRJbkN0ck1vZGUiLCJtYWMiLCJjb21wdXRlTWFjIiwibWFjSW5wdXQiLCJNYWNLZXlUYWciLCJ0b0J5dGVzIiwiYmxvY2tTaXplIiwicmVzdWx0IiwiaSIsImJsb2NrIiwic3ViYXJyYXkiLCJtYXNrIiwiRW5jcnlwdGlvbktleVRhZyIsImVuY3J5cHRlZEJsb2NrIiwic2V0IiwibiIsInU2NCIsInNlcmlhbGl6ZSIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/dem.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/elgamal.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/elgamal.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   elgamalDecrypt: () => (/* binding */ elgamalDecrypt),\n/* harmony export */   generateSecretKey: () => (/* binding */ generateSecretKey),\n/* harmony export */   toPublicKey: () => (/* binding */ toPublicKey),\n/* harmony export */   toVerificationKey: () => (/* binding */ toVerificationKey)\n/* harmony export */ });\n/* harmony import */ var _bls12381_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bls12381.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/bls12381.js\");\n\nfunction elgamalDecrypt(sk, [c0, c1]) {\n    return decrypt(_bls12381_js__WEBPACK_IMPORTED_MODULE_0__.Scalar.fromBytes(sk), [\n        _bls12381_js__WEBPACK_IMPORTED_MODULE_0__.G1Element.fromBytes(c0),\n        _bls12381_js__WEBPACK_IMPORTED_MODULE_0__.G1Element.fromBytes(c1)\n    ]).toBytes();\n}\nfunction decrypt(sk, [c0, c1]) {\n    return c1.subtract(c0.multiply(sk));\n}\nfunction generateSecretKey() {\n    return _bls12381_js__WEBPACK_IMPORTED_MODULE_0__.Scalar.random().toBytes();\n}\nfunction toPublicKey(sk) {\n    return _bls12381_js__WEBPACK_IMPORTED_MODULE_0__.G1Element.generator().multiply(_bls12381_js__WEBPACK_IMPORTED_MODULE_0__.Scalar.fromBytes(sk)).toBytes();\n}\nfunction toVerificationKey(sk) {\n    return _bls12381_js__WEBPACK_IMPORTED_MODULE_0__.G2Element.generator().multiply(_bls12381_js__WEBPACK_IMPORTED_MODULE_0__.Scalar.fromBytes(sk)).toBytes();\n}\n //# sourceMappingURL=elgamal.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG15c3RlbitzZWFsQDAuNi4wX3R5cGVzY3JpcHRANS45LjMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc2VhbC9kaXN0L2VzbS9lbGdhbWFsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTZEO0FBQzdELFNBQVNHLGVBQWVDLEVBQUUsRUFBRSxDQUFDQyxJQUFJQyxHQUFHO0lBQ2xDLE9BQU9DLFFBQVFMLGdEQUFNQSxDQUFDTSxTQUFTLENBQUNKLEtBQUs7UUFDbkNKLG1EQUFTQSxDQUFDUSxTQUFTLENBQUNIO1FBQ3BCTCxtREFBU0EsQ0FBQ1EsU0FBUyxDQUFDRjtLQUNyQixFQUFFRyxPQUFPO0FBQ1o7QUFDQSxTQUFTRixRQUFRSCxFQUFFLEVBQUUsQ0FBQ0MsSUFBSUMsR0FBRztJQUMzQixPQUFPQSxHQUFHSSxRQUFRLENBQUNMLEdBQUdNLFFBQVEsQ0FBQ1A7QUFDakM7QUFDQSxTQUFTUTtJQUNQLE9BQU9WLGdEQUFNQSxDQUFDVyxNQUFNLEdBQUdKLE9BQU87QUFDaEM7QUFDQSxTQUFTSyxZQUFZVixFQUFFO0lBQ3JCLE9BQU9KLG1EQUFTQSxDQUFDZSxTQUFTLEdBQUdKLFFBQVEsQ0FBQ1QsZ0RBQU1BLENBQUNNLFNBQVMsQ0FBQ0osS0FBS0ssT0FBTztBQUNyRTtBQUNBLFNBQVNPLGtCQUFrQlosRUFBRTtJQUMzQixPQUFPSCxtREFBU0EsQ0FBQ2MsU0FBUyxHQUFHSixRQUFRLENBQUNULGdEQUFNQSxDQUFDTSxTQUFTLENBQUNKLEtBQUtLLE9BQU87QUFDckU7QUFNRSxDQUNGLG1DQUFtQyIsInNvdXJjZXMiOlsid2VicGFjazovL25vdGFzY2FtLXByb3RvY29sLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BteXN0ZW4rc2VhbEAwLjYuMF90eXBlc2NyaXB0QDUuOS4zL25vZGVfbW9kdWxlcy9AbXlzdGVuL3NlYWwvZGlzdC9lc20vZWxnYW1hbC5qcz83MzgxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEcxRWxlbWVudCwgRzJFbGVtZW50LCBTY2FsYXIgfSBmcm9tIFwiLi9ibHMxMjM4MS5qc1wiO1xuZnVuY3Rpb24gZWxnYW1hbERlY3J5cHQoc2ssIFtjMCwgYzFdKSB7XG4gIHJldHVybiBkZWNyeXB0KFNjYWxhci5mcm9tQnl0ZXMoc2spLCBbXG4gICAgRzFFbGVtZW50LmZyb21CeXRlcyhjMCksXG4gICAgRzFFbGVtZW50LmZyb21CeXRlcyhjMSlcbiAgXSkudG9CeXRlcygpO1xufVxuZnVuY3Rpb24gZGVjcnlwdChzaywgW2MwLCBjMV0pIHtcbiAgcmV0dXJuIGMxLnN1YnRyYWN0KGMwLm11bHRpcGx5KHNrKSk7XG59XG5mdW5jdGlvbiBnZW5lcmF0ZVNlY3JldEtleSgpIHtcbiAgcmV0dXJuIFNjYWxhci5yYW5kb20oKS50b0J5dGVzKCk7XG59XG5mdW5jdGlvbiB0b1B1YmxpY0tleShzaykge1xuICByZXR1cm4gRzFFbGVtZW50LmdlbmVyYXRvcigpLm11bHRpcGx5KFNjYWxhci5mcm9tQnl0ZXMoc2spKS50b0J5dGVzKCk7XG59XG5mdW5jdGlvbiB0b1ZlcmlmaWNhdGlvbktleShzaykge1xuICByZXR1cm4gRzJFbGVtZW50LmdlbmVyYXRvcigpLm11bHRpcGx5KFNjYWxhci5mcm9tQnl0ZXMoc2spKS50b0J5dGVzKCk7XG59XG5leHBvcnQge1xuICBlbGdhbWFsRGVjcnlwdCxcbiAgZ2VuZXJhdGVTZWNyZXRLZXksXG4gIHRvUHVibGljS2V5LFxuICB0b1ZlcmlmaWNhdGlvbktleVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVsZ2FtYWwuanMubWFwXG4iXSwibmFtZXMiOlsiRzFFbGVtZW50IiwiRzJFbGVtZW50IiwiU2NhbGFyIiwiZWxnYW1hbERlY3J5cHQiLCJzayIsImMwIiwiYzEiLCJkZWNyeXB0IiwiZnJvbUJ5dGVzIiwidG9CeXRlcyIsInN1YnRyYWN0IiwibXVsdGlwbHkiLCJnZW5lcmF0ZVNlY3JldEtleSIsInJhbmRvbSIsInRvUHVibGljS2V5IiwiZ2VuZXJhdG9yIiwidG9WZXJpZmljYXRpb25LZXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/elgamal.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/encrypt.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/encrypt.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DemType: () => (/* binding */ DemType),\n/* harmony export */   KemType: () => (/* binding */ KemType),\n/* harmony export */   encrypt: () => (/* binding */ encrypt)\n/* harmony export */ });\n/* harmony import */ var _mysten_bcs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mysten/bcs */ \"(ssr)/./node_modules/.pnpm/@mysten+utils@0.2.0/node_modules/@mysten/utils/dist/esm/hex.js\");\n/* harmony import */ var _bcs_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./bcs.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/bcs.js\");\n/* harmony import */ var _error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./error.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/error.js\");\n/* harmony import */ var _ibe_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ibe.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/ibe.js\");\n/* harmony import */ var _kdf_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./kdf.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/kdf.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/utils.js\");\n/* harmony import */ var _shamir_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shamir.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/shamir.js\");\n\n\n\n\n\n\n\nasync function encrypt({ keyServers, kemType, threshold, packageId, id, encryptionInput }) {\n    if (threshold <= 0 || threshold > _utils_js__WEBPACK_IMPORTED_MODULE_0__.MAX_U8 || keyServers.length < threshold || keyServers.length > _utils_js__WEBPACK_IMPORTED_MODULE_0__.MAX_U8) {\n        throw new _error_js__WEBPACK_IMPORTED_MODULE_1__.UserError(`Invalid key servers or threshold ${threshold} for ${keyServers.length} key servers for package ${packageId}`);\n    }\n    const baseKey = await encryptionInput.generateKey();\n    const shares = (0,_shamir_js__WEBPACK_IMPORTED_MODULE_2__.split)(baseKey, threshold, keyServers.length);\n    const fullId = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.createFullId)(packageId, id);\n    const encryptedShares = encryptBatched(keyServers, kemType, (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_3__.fromHex)(fullId), shares, baseKey, threshold);\n    const demKey = (0,_kdf_js__WEBPACK_IMPORTED_MODULE_4__.deriveKey)(_kdf_js__WEBPACK_IMPORTED_MODULE_4__.KeyPurpose.DEM, baseKey, encryptedShares.BonehFranklinBLS12381.encryptedShares, threshold, keyServers.map(({ objectId })=>objectId));\n    const ciphertext = await encryptionInput.encrypt(demKey);\n    const services = keyServers.map(({ objectId }, i)=>[\n            objectId,\n            shares[i].index\n        ]);\n    return {\n        encryptedObject: _bcs_js__WEBPACK_IMPORTED_MODULE_5__.EncryptedObject.serialize({\n            version: 0,\n            packageId,\n            id,\n            services,\n            threshold,\n            encryptedShares,\n            ciphertext\n        }).toBytes(),\n        key: demKey\n    };\n}\nvar KemType = /* @__PURE__ */ ((KemType2)=>{\n    KemType2[KemType2[\"BonehFranklinBLS12381DemCCA\"] = 0] = \"BonehFranklinBLS12381DemCCA\";\n    return KemType2;\n})(KemType || {});\nvar DemType = /* @__PURE__ */ ((DemType2)=>{\n    DemType2[DemType2[\"AesGcm256\"] = 0] = \"AesGcm256\";\n    DemType2[DemType2[\"Hmac256Ctr\"] = 1] = \"Hmac256Ctr\";\n    return DemType2;\n})(DemType || {});\nfunction encryptBatched(keyServers, kemType, id, shares, baseKey, threshold) {\n    switch(kemType){\n        case 0 /* BonehFranklinBLS12381DemCCA */ :\n            return new _ibe_js__WEBPACK_IMPORTED_MODULE_6__.BonehFranklinBLS12381Services(keyServers).encryptBatched(id, shares, baseKey, threshold);\n        default:\n            throw new Error(`Invalid KEM type ${kemType}`);\n    }\n}\n //# sourceMappingURL=encrypt.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG15c3RlbitzZWFsQDAuNi4wX3R5cGVzY3JpcHRANS45LjMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc2VhbC9kaXN0L2VzbS9lbmNyeXB0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBc0M7QUFDSztBQUNKO0FBQ2tCO0FBQ1I7QUFDQztBQUNkO0FBQ3BDLGVBQWVTLFFBQVEsRUFDckJDLFVBQVUsRUFDVkMsT0FBTyxFQUNQQyxTQUFTLEVBQ1RDLFNBQVMsRUFDVEMsRUFBRSxFQUNGQyxlQUFlLEVBQ2hCO0lBQ0MsSUFBSUgsYUFBYSxLQUFLQSxZQUFZTCw2Q0FBTUEsSUFBSUcsV0FBV00sTUFBTSxHQUFHSixhQUFhRixXQUFXTSxNQUFNLEdBQUdULDZDQUFNQSxFQUFFO1FBQ3ZHLE1BQU0sSUFBSUwsZ0RBQVNBLENBQ2pCLENBQUMsaUNBQWlDLEVBQUVVLFVBQVUsS0FBSyxFQUFFRixXQUFXTSxNQUFNLENBQUMseUJBQXlCLEVBQUVILFVBQVUsQ0FBQztJQUVqSDtJQUNBLE1BQU1JLFVBQVUsTUFBTUYsZ0JBQWdCRyxXQUFXO0lBQ2pELE1BQU1DLFNBQVNYLGlEQUFLQSxDQUFDUyxTQUFTTCxXQUFXRixXQUFXTSxNQUFNO0lBQzFELE1BQU1JLFNBQVNkLHVEQUFZQSxDQUFDTyxXQUFXQztJQUN2QyxNQUFNTyxrQkFBa0JDLGVBQ3RCWixZQUNBQyxTQUNBWCxvREFBT0EsQ0FBQ29CLFNBQ1JELFFBQ0FGLFNBQ0FMO0lBRUYsTUFBTVcsU0FBU25CLGtEQUFTQSxDQUN0QkMsK0NBQVVBLENBQUNtQixHQUFHLEVBQ2RQLFNBQ0FJLGdCQUFnQkkscUJBQXFCLENBQUNKLGVBQWUsRUFDckRULFdBQ0FGLFdBQVdnQixHQUFHLENBQUMsQ0FBQyxFQUFFQyxRQUFRLEVBQUUsR0FBS0E7SUFFbkMsTUFBTUMsYUFBYSxNQUFNYixnQkFBZ0JOLE9BQU8sQ0FBQ2M7SUFDakQsTUFBTU0sV0FBV25CLFdBQVdnQixHQUFHLENBQUMsQ0FBQyxFQUFFQyxRQUFRLEVBQUUsRUFBRUcsSUFBTTtZQUNuREg7WUFDQVIsTUFBTSxDQUFDVyxFQUFFLENBQUNDLEtBQUs7U0FDaEI7SUFDRCxPQUFPO1FBQ0xDLGlCQUFpQi9CLG9EQUFlQSxDQUFDZ0MsU0FBUyxDQUFDO1lBQ3pDQyxTQUFTO1lBQ1RyQjtZQUNBQztZQUNBZTtZQUNBakI7WUFDQVM7WUFDQU87UUFDRixHQUFHTyxPQUFPO1FBQ1ZDLEtBQUtiO0lBQ1A7QUFDRjtBQUNBLElBQUljLFVBQTBCLGFBQUgsR0FBSSxFQUFDQztJQUM5QkEsUUFBUSxDQUFDQSxRQUFRLENBQUMsOEJBQThCLEdBQUcsRUFBRSxHQUFHO0lBQ3hELE9BQU9BO0FBQ1QsR0FBR0QsV0FBVyxDQUFDO0FBQ2YsSUFBSUUsVUFBMEIsYUFBSCxHQUFJLEVBQUNDO0lBQzlCQSxRQUFRLENBQUNBLFFBQVEsQ0FBQyxZQUFZLEdBQUcsRUFBRSxHQUFHO0lBQ3RDQSxRQUFRLENBQUNBLFFBQVEsQ0FBQyxhQUFhLEdBQUcsRUFBRSxHQUFHO0lBQ3ZDLE9BQU9BO0FBQ1QsR0FBR0QsV0FBVyxDQUFDO0FBQ2YsU0FBU2pCLGVBQWVaLFVBQVUsRUFBRUMsT0FBTyxFQUFFRyxFQUFFLEVBQUVLLE1BQU0sRUFBRUYsT0FBTyxFQUFFTCxTQUFTO0lBQ3pFLE9BQVFEO1FBQ04sS0FBSyxFQUFFLCtCQUErQjtZQUNwQyxPQUFPLElBQUlSLGtFQUE2QkEsQ0FBQ08sWUFBWVksY0FBYyxDQUNqRVIsSUFDQUssUUFDQUYsU0FDQUw7UUFFSjtZQUNFLE1BQU0sSUFBSTZCLE1BQU0sQ0FBQyxpQkFBaUIsRUFBRTlCLFFBQVEsQ0FBQztJQUNqRDtBQUNGO0FBS0UsQ0FDRixtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub3Rhc2NhbS1wcm90b2NvbC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbXlzdGVuK3NlYWxAMC42LjBfdHlwZXNjcmlwdEA1LjkuMy9ub2RlX21vZHVsZXMvQG15c3Rlbi9zZWFsL2Rpc3QvZXNtL2VuY3J5cHQuanM/YWZhOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmcm9tSGV4IH0gZnJvbSBcIkBteXN0ZW4vYmNzXCI7XG5pbXBvcnQgeyBFbmNyeXB0ZWRPYmplY3QgfSBmcm9tIFwiLi9iY3MuanNcIjtcbmltcG9ydCB7IFVzZXJFcnJvciB9IGZyb20gXCIuL2Vycm9yLmpzXCI7XG5pbXBvcnQgeyBCb25laEZyYW5rbGluQkxTMTIzODFTZXJ2aWNlcyB9IGZyb20gXCIuL2liZS5qc1wiO1xuaW1wb3J0IHsgZGVyaXZlS2V5LCBLZXlQdXJwb3NlIH0gZnJvbSBcIi4va2RmLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVGdWxsSWQsIE1BWF9VOCB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBzcGxpdCB9IGZyb20gXCIuL3NoYW1pci5qc1wiO1xuYXN5bmMgZnVuY3Rpb24gZW5jcnlwdCh7XG4gIGtleVNlcnZlcnMsXG4gIGtlbVR5cGUsXG4gIHRocmVzaG9sZCxcbiAgcGFja2FnZUlkLFxuICBpZCxcbiAgZW5jcnlwdGlvbklucHV0XG59KSB7XG4gIGlmICh0aHJlc2hvbGQgPD0gMCB8fCB0aHJlc2hvbGQgPiBNQVhfVTggfHwga2V5U2VydmVycy5sZW5ndGggPCB0aHJlc2hvbGQgfHwga2V5U2VydmVycy5sZW5ndGggPiBNQVhfVTgpIHtcbiAgICB0aHJvdyBuZXcgVXNlckVycm9yKFxuICAgICAgYEludmFsaWQga2V5IHNlcnZlcnMgb3IgdGhyZXNob2xkICR7dGhyZXNob2xkfSBmb3IgJHtrZXlTZXJ2ZXJzLmxlbmd0aH0ga2V5IHNlcnZlcnMgZm9yIHBhY2thZ2UgJHtwYWNrYWdlSWR9YFxuICAgICk7XG4gIH1cbiAgY29uc3QgYmFzZUtleSA9IGF3YWl0IGVuY3J5cHRpb25JbnB1dC5nZW5lcmF0ZUtleSgpO1xuICBjb25zdCBzaGFyZXMgPSBzcGxpdChiYXNlS2V5LCB0aHJlc2hvbGQsIGtleVNlcnZlcnMubGVuZ3RoKTtcbiAgY29uc3QgZnVsbElkID0gY3JlYXRlRnVsbElkKHBhY2thZ2VJZCwgaWQpO1xuICBjb25zdCBlbmNyeXB0ZWRTaGFyZXMgPSBlbmNyeXB0QmF0Y2hlZChcbiAgICBrZXlTZXJ2ZXJzLFxuICAgIGtlbVR5cGUsXG4gICAgZnJvbUhleChmdWxsSWQpLFxuICAgIHNoYXJlcyxcbiAgICBiYXNlS2V5LFxuICAgIHRocmVzaG9sZFxuICApO1xuICBjb25zdCBkZW1LZXkgPSBkZXJpdmVLZXkoXG4gICAgS2V5UHVycG9zZS5ERU0sXG4gICAgYmFzZUtleSxcbiAgICBlbmNyeXB0ZWRTaGFyZXMuQm9uZWhGcmFua2xpbkJMUzEyMzgxLmVuY3J5cHRlZFNoYXJlcyxcbiAgICB0aHJlc2hvbGQsXG4gICAga2V5U2VydmVycy5tYXAoKHsgb2JqZWN0SWQgfSkgPT4gb2JqZWN0SWQpXG4gICk7XG4gIGNvbnN0IGNpcGhlcnRleHQgPSBhd2FpdCBlbmNyeXB0aW9uSW5wdXQuZW5jcnlwdChkZW1LZXkpO1xuICBjb25zdCBzZXJ2aWNlcyA9IGtleVNlcnZlcnMubWFwKCh7IG9iamVjdElkIH0sIGkpID0+IFtcbiAgICBvYmplY3RJZCxcbiAgICBzaGFyZXNbaV0uaW5kZXhcbiAgXSk7XG4gIHJldHVybiB7XG4gICAgZW5jcnlwdGVkT2JqZWN0OiBFbmNyeXB0ZWRPYmplY3Quc2VyaWFsaXplKHtcbiAgICAgIHZlcnNpb246IDAsXG4gICAgICBwYWNrYWdlSWQsXG4gICAgICBpZCxcbiAgICAgIHNlcnZpY2VzLFxuICAgICAgdGhyZXNob2xkLFxuICAgICAgZW5jcnlwdGVkU2hhcmVzLFxuICAgICAgY2lwaGVydGV4dFxuICAgIH0pLnRvQnl0ZXMoKSxcbiAgICBrZXk6IGRlbUtleVxuICB9O1xufVxudmFyIEtlbVR5cGUgPSAvKiBAX19QVVJFX18gKi8gKChLZW1UeXBlMikgPT4ge1xuICBLZW1UeXBlMltLZW1UeXBlMltcIkJvbmVoRnJhbmtsaW5CTFMxMjM4MURlbUNDQVwiXSA9IDBdID0gXCJCb25laEZyYW5rbGluQkxTMTIzODFEZW1DQ0FcIjtcbiAgcmV0dXJuIEtlbVR5cGUyO1xufSkoS2VtVHlwZSB8fCB7fSk7XG52YXIgRGVtVHlwZSA9IC8qIEBfX1BVUkVfXyAqLyAoKERlbVR5cGUyKSA9PiB7XG4gIERlbVR5cGUyW0RlbVR5cGUyW1wiQWVzR2NtMjU2XCJdID0gMF0gPSBcIkFlc0djbTI1NlwiO1xuICBEZW1UeXBlMltEZW1UeXBlMltcIkhtYWMyNTZDdHJcIl0gPSAxXSA9IFwiSG1hYzI1NkN0clwiO1xuICByZXR1cm4gRGVtVHlwZTI7XG59KShEZW1UeXBlIHx8IHt9KTtcbmZ1bmN0aW9uIGVuY3J5cHRCYXRjaGVkKGtleVNlcnZlcnMsIGtlbVR5cGUsIGlkLCBzaGFyZXMsIGJhc2VLZXksIHRocmVzaG9sZCkge1xuICBzd2l0Y2ggKGtlbVR5cGUpIHtcbiAgICBjYXNlIDAgLyogQm9uZWhGcmFua2xpbkJMUzEyMzgxRGVtQ0NBICovOlxuICAgICAgcmV0dXJuIG5ldyBCb25laEZyYW5rbGluQkxTMTIzODFTZXJ2aWNlcyhrZXlTZXJ2ZXJzKS5lbmNyeXB0QmF0Y2hlZChcbiAgICAgICAgaWQsXG4gICAgICAgIHNoYXJlcyxcbiAgICAgICAgYmFzZUtleSxcbiAgICAgICAgdGhyZXNob2xkXG4gICAgICApO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgS0VNIHR5cGUgJHtrZW1UeXBlfWApO1xuICB9XG59XG5leHBvcnQge1xuICBEZW1UeXBlLFxuICBLZW1UeXBlLFxuICBlbmNyeXB0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW5jcnlwdC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJmcm9tSGV4IiwiRW5jcnlwdGVkT2JqZWN0IiwiVXNlckVycm9yIiwiQm9uZWhGcmFua2xpbkJMUzEyMzgxU2VydmljZXMiLCJkZXJpdmVLZXkiLCJLZXlQdXJwb3NlIiwiY3JlYXRlRnVsbElkIiwiTUFYX1U4Iiwic3BsaXQiLCJlbmNyeXB0Iiwia2V5U2VydmVycyIsImtlbVR5cGUiLCJ0aHJlc2hvbGQiLCJwYWNrYWdlSWQiLCJpZCIsImVuY3J5cHRpb25JbnB1dCIsImxlbmd0aCIsImJhc2VLZXkiLCJnZW5lcmF0ZUtleSIsInNoYXJlcyIsImZ1bGxJZCIsImVuY3J5cHRlZFNoYXJlcyIsImVuY3J5cHRCYXRjaGVkIiwiZGVtS2V5IiwiREVNIiwiQm9uZWhGcmFua2xpbkJMUzEyMzgxIiwibWFwIiwib2JqZWN0SWQiLCJjaXBoZXJ0ZXh0Iiwic2VydmljZXMiLCJpIiwiaW5kZXgiLCJlbmNyeXB0ZWRPYmplY3QiLCJzZXJpYWxpemUiLCJ2ZXJzaW9uIiwidG9CeXRlcyIsImtleSIsIktlbVR5cGUiLCJLZW1UeXBlMiIsIkRlbVR5cGUiLCJEZW1UeXBlMiIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/encrypt.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/error.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/error.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DecryptionError: () => (/* binding */ DecryptionError),\n/* harmony export */   DeprecatedSDKVersionError: () => (/* binding */ DeprecatedSDKVersionError),\n/* harmony export */   ExpiredSessionKeyError: () => (/* binding */ ExpiredSessionKeyError),\n/* harmony export */   GeneralError: () => (/* binding */ GeneralError),\n/* harmony export */   InconsistentKeyServersError: () => (/* binding */ InconsistentKeyServersError),\n/* harmony export */   InternalError: () => (/* binding */ InternalError),\n/* harmony export */   InvalidCiphertextError: () => (/* binding */ InvalidCiphertextError),\n/* harmony export */   InvalidClientOptionsError: () => (/* binding */ InvalidClientOptionsError),\n/* harmony export */   InvalidGetObjectError: () => (/* binding */ InvalidGetObjectError),\n/* harmony export */   InvalidKeyServerError: () => (/* binding */ InvalidKeyServerError),\n/* harmony export */   InvalidKeyServerObjectIdError: () => (/* binding */ InvalidKeyServerObjectIdError),\n/* harmony export */   InvalidKeyServerVersionError: () => (/* binding */ InvalidKeyServerVersionError),\n/* harmony export */   InvalidMVRNameError: () => (/* binding */ InvalidMVRNameError),\n/* harmony export */   InvalidPTBError: () => (/* binding */ InvalidPTBError),\n/* harmony export */   InvalidPackageError: () => (/* binding */ InvalidPackageError),\n/* harmony export */   InvalidParameterError: () => (/* binding */ InvalidParameterError),\n/* harmony export */   InvalidPersonalMessageSignatureError: () => (/* binding */ InvalidPersonalMessageSignatureError),\n/* harmony export */   InvalidSDKVersionError: () => (/* binding */ InvalidSDKVersionError),\n/* harmony export */   InvalidSessionKeySignatureError: () => (/* binding */ InvalidSessionKeySignatureError),\n/* harmony export */   InvalidThresholdError: () => (/* binding */ InvalidThresholdError),\n/* harmony export */   InvalidUserSignatureError: () => (/* binding */ InvalidUserSignatureError),\n/* harmony export */   NoAccessError: () => (/* binding */ NoAccessError),\n/* harmony export */   SealAPIError: () => (/* binding */ SealAPIError),\n/* harmony export */   SealError: () => (/* binding */ SealError),\n/* harmony export */   TooManyFailedFetchKeyRequestsError: () => (/* binding */ TooManyFailedFetchKeyRequestsError),\n/* harmony export */   UnsupportedFeatureError: () => (/* binding */ UnsupportedFeatureError),\n/* harmony export */   UnsupportedNetworkError: () => (/* binding */ UnsupportedNetworkError),\n/* harmony export */   UnsupportedPackageIdError: () => (/* binding */ UnsupportedPackageIdError),\n/* harmony export */   UserError: () => (/* binding */ UserError),\n/* harmony export */   toMajorityError: () => (/* binding */ toMajorityError)\n/* harmony export */ });\nvar __typeError = (msg)=>{\n    throw TypeError(msg);\n};\nvar __accessCheck = (obj, member, msg)=>member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateAdd = (obj, member, value)=>member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateMethod = (obj, member, method)=>(__accessCheck(obj, member, \"access private method\"), method);\nvar _SealAPIError_static, generate_fn;\nclass SealError extends Error {\n}\nclass UserError extends SealError {\n}\nconst _SealAPIError = class _SealAPIError extends SealError {\n    constructor(message, requestId, status){\n        super(message);\n        this.requestId = requestId;\n        this.status = status;\n    }\n    static async assertResponse(response, requestId) {\n        var _a;\n        if (response.ok) {\n            return;\n        }\n        let errorInstance;\n        try {\n            const text = await response.text();\n            const error = JSON.parse(text)[\"error\"];\n            const message = JSON.parse(text)[\"message\"];\n            errorInstance = __privateMethod(_a = _SealAPIError, _SealAPIError_static, generate_fn).call(_a, error, message, requestId);\n        } catch (e) {\n            errorInstance = new GeneralError(response.statusText, requestId, response.status);\n        }\n        throw errorInstance;\n    }\n};\n_SealAPIError_static = new WeakSet();\ngenerate_fn = function(error, message, requestId, status) {\n    switch(error){\n        case \"InvalidPTB\":\n            return new InvalidPTBError(requestId, message);\n        case \"InvalidPackage\":\n            return new InvalidPackageError(requestId);\n        case \"NoAccess\":\n            return new NoAccessError(requestId);\n        case \"InvalidSignature\":\n            return new InvalidUserSignatureError(requestId);\n        case \"InvalidSessionSignature\":\n            return new InvalidSessionKeySignatureError(requestId);\n        case \"InvalidCertificate\":\n            return new ExpiredSessionKeyError(requestId);\n        case \"InvalidSDKVersion\":\n            return new InvalidSDKVersionError(requestId);\n        case \"DeprecatedSDKVersion\":\n            return new DeprecatedSDKVersionError(requestId);\n        case \"InvalidParameter\":\n            return new InvalidParameterError(requestId);\n        case \"InvalidMVRName\":\n            return new InvalidMVRNameError(requestId);\n        case \"InvalidServiceId\":\n            return new InvalidKeyServerObjectIdError(requestId);\n        case \"UnsupportedPackageId\":\n            return new UnsupportedPackageIdError(requestId);\n        case \"Failure\":\n            return new InternalError(requestId);\n        default:\n            return new GeneralError(message, requestId, status);\n    }\n};\n__privateAdd(_SealAPIError, _SealAPIError_static);\nlet SealAPIError = _SealAPIError;\nclass InvalidPTBError extends SealAPIError {\n    constructor(requestId, message){\n        super(\"PTB does not conform to the expected format \" + message, requestId);\n    }\n}\nclass InvalidPackageError extends SealAPIError {\n    constructor(requestId){\n        super(\"Package ID used in PTB is invalid\", requestId);\n    }\n}\nclass InvalidParameterError extends SealAPIError {\n    constructor(requestId){\n        super(\"PTB contains an invalid parameter, possibly a newly created object that the FN has not yet seen\", requestId);\n    }\n}\nclass InvalidUserSignatureError extends SealAPIError {\n    constructor(requestId){\n        super(\"User signature on the session key is invalid\", requestId);\n    }\n}\nclass InvalidSessionKeySignatureError extends SealAPIError {\n    constructor(requestId){\n        super(\"Session key signature is invalid\", requestId);\n    }\n}\nclass InvalidMVRNameError extends SealAPIError {\n    constructor(requestId){\n        super(\"MVR name is invalid or not consistent with the first version of the package\", requestId);\n    }\n}\nclass InvalidKeyServerObjectIdError extends SealAPIError {\n    constructor(requestId){\n        super(\"Key server object ID is invalid\", requestId);\n    }\n}\nclass UnsupportedPackageIdError extends SealAPIError {\n    constructor(requestId){\n        super(\"Requested package is not supported\", requestId);\n    }\n}\nclass InvalidSDKVersionError extends SealAPIError {\n    constructor(requestId){\n        super(\"SDK version is invalid\", requestId);\n    }\n}\nclass DeprecatedSDKVersionError extends SealAPIError {\n    constructor(requestId){\n        super(\"SDK version is deprecated\", requestId);\n    }\n}\nclass NoAccessError extends SealAPIError {\n    constructor(requestId){\n        super(\"User does not have access to one or more of the requested keys\", requestId);\n    }\n}\nclass ExpiredSessionKeyError extends SealAPIError {\n    constructor(requestId){\n        super(\"Session key has expired\", requestId);\n    }\n}\nclass InternalError extends SealAPIError {\n    constructor(requestId){\n        super(\"Internal server error, caller should retry\", requestId);\n    }\n}\nclass GeneralError extends SealAPIError {\n}\nclass InvalidPersonalMessageSignatureError extends UserError {\n}\nclass InvalidGetObjectError extends UserError {\n}\nclass UnsupportedFeatureError extends UserError {\n}\nclass UnsupportedNetworkError extends UserError {\n}\nclass InvalidKeyServerError extends UserError {\n}\nclass InvalidKeyServerVersionError extends UserError {\n}\nclass InvalidCiphertextError extends UserError {\n}\nclass InvalidThresholdError extends UserError {\n}\nclass InconsistentKeyServersError extends UserError {\n}\nclass DecryptionError extends UserError {\n}\nclass InvalidClientOptionsError extends UserError {\n}\nclass TooManyFailedFetchKeyRequestsError extends UserError {\n}\nfunction toMajorityError(errors) {\n    let maxCount = 0;\n    let majorityError = errors[0];\n    const counts = /* @__PURE__ */ new Map();\n    for (const error of errors){\n        const errorName = error.constructor.name;\n        const newCount = (counts.get(errorName) || 0) + 1;\n        counts.set(errorName, newCount);\n        if (newCount > maxCount) {\n            maxCount = newCount;\n            majorityError = error;\n        }\n    }\n    return majorityError;\n}\n //# sourceMappingURL=error.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG15c3RlbitzZWFsQDAuNi4wX3R5cGVzY3JpcHRANS45LjMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc2VhbC9kaXN0L2VzbS9lcnJvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxjQUFjLENBQUNDO0lBQ2pCLE1BQU1DLFVBQVVEO0FBQ2xCO0FBQ0EsSUFBSUUsZ0JBQWdCLENBQUNDLEtBQUtDLFFBQVFKLE1BQVFJLE9BQU9DLEdBQUcsQ0FBQ0YsUUFBUUosWUFBWSxZQUFZQztBQUNyRixJQUFJTSxlQUFlLENBQUNILEtBQUtDLFFBQVFHLFFBQVVILE9BQU9DLEdBQUcsQ0FBQ0YsT0FBT0osWUFBWSx1REFBdURLLGtCQUFrQkksVUFBVUosT0FBT0ssR0FBRyxDQUFDTixPQUFPQyxPQUFPTSxHQUFHLENBQUNQLEtBQUtJO0FBQzlMLElBQUlJLGtCQUFrQixDQUFDUixLQUFLQyxRQUFRUSxTQUFZVixDQUFBQSxjQUFjQyxLQUFLQyxRQUFRLDBCQUEwQlEsTUFBSztBQUMxRyxJQUFJQyxzQkFBc0JDO0FBQzFCLE1BQU1DLGtCQUFrQkM7QUFDeEI7QUFDQSxNQUFNQyxrQkFBa0JGO0FBQ3hCO0FBQ0EsTUFBTUcsZ0JBQWdCLE1BQU1BLHNCQUFzQkg7SUFDaERJLFlBQVlDLE9BQU8sRUFBRUMsU0FBUyxFQUFFQyxNQUFNLENBQUU7UUFDdEMsS0FBSyxDQUFDRjtRQUNOLElBQUksQ0FBQ0MsU0FBUyxHQUFHQTtRQUNqQixJQUFJLENBQUNDLE1BQU0sR0FBR0E7SUFDaEI7SUFDQSxhQUFhQyxlQUFlQyxRQUFRLEVBQUVILFNBQVMsRUFBRTtRQUMvQyxJQUFJSTtRQUNKLElBQUlELFNBQVNFLEVBQUUsRUFBRTtZQUNmO1FBQ0Y7UUFDQSxJQUFJQztRQUNKLElBQUk7WUFDRixNQUFNQyxPQUFPLE1BQU1KLFNBQVNJLElBQUk7WUFDaEMsTUFBTUMsUUFBUUMsS0FBS0MsS0FBSyxDQUFDSCxLQUFLLENBQUMsUUFBUTtZQUN2QyxNQUFNUixVQUFVVSxLQUFLQyxLQUFLLENBQUNILEtBQUssQ0FBQyxVQUFVO1lBQzNDRCxnQkFBZ0JoQixnQkFBZ0JjLEtBQUtQLGVBQWVMLHNCQUFzQkMsYUFBYWtCLElBQUksQ0FBQ1AsSUFBSUksT0FBT1QsU0FBU0M7UUFDbEgsRUFBRSxPQUFPWSxHQUFHO1lBQ1ZOLGdCQUFnQixJQUFJTyxhQUFhVixTQUFTVyxVQUFVLEVBQUVkLFdBQVdHLFNBQVNGLE1BQU07UUFDbEY7UUFDQSxNQUFNSztJQUNSO0FBQ0Y7QUFDQWQsdUJBQXVCLElBQUlMO0FBQzNCTSxjQUFjLFNBQVNlLEtBQUssRUFBRVQsT0FBTyxFQUFFQyxTQUFTLEVBQUVDLE1BQU07SUFDdEQsT0FBUU87UUFDTixLQUFLO1lBQ0gsT0FBTyxJQUFJTyxnQkFBZ0JmLFdBQVdEO1FBQ3hDLEtBQUs7WUFDSCxPQUFPLElBQUlpQixvQkFBb0JoQjtRQUNqQyxLQUFLO1lBQ0gsT0FBTyxJQUFJaUIsY0FBY2pCO1FBQzNCLEtBQUs7WUFDSCxPQUFPLElBQUlrQiwwQkFBMEJsQjtRQUN2QyxLQUFLO1lBQ0gsT0FBTyxJQUFJbUIsZ0NBQWdDbkI7UUFDN0MsS0FBSztZQUNILE9BQU8sSUFBSW9CLHVCQUF1QnBCO1FBQ3BDLEtBQUs7WUFDSCxPQUFPLElBQUlxQix1QkFBdUJyQjtRQUNwQyxLQUFLO1lBQ0gsT0FBTyxJQUFJc0IsMEJBQTBCdEI7UUFDdkMsS0FBSztZQUNILE9BQU8sSUFBSXVCLHNCQUFzQnZCO1FBQ25DLEtBQUs7WUFDSCxPQUFPLElBQUl3QixvQkFBb0J4QjtRQUNqQyxLQUFLO1lBQ0gsT0FBTyxJQUFJeUIsOEJBQThCekI7UUFDM0MsS0FBSztZQUNILE9BQU8sSUFBSTBCLDBCQUEwQjFCO1FBQ3ZDLEtBQUs7WUFDSCxPQUFPLElBQUkyQixjQUFjM0I7UUFDM0I7WUFDRSxPQUFPLElBQUlhLGFBQWFkLFNBQVNDLFdBQVdDO0lBQ2hEO0FBQ0Y7QUFDQWhCLGFBQWFZLGVBQWVMO0FBQzVCLElBQUlvQyxlQUFlL0I7QUFDbkIsTUFBTWtCLHdCQUF3QmE7SUFDNUI5QixZQUFZRSxTQUFTLEVBQUVELE9BQU8sQ0FBRTtRQUM5QixLQUFLLENBQUMsaURBQWlEQSxTQUFTQztJQUNsRTtBQUNGO0FBQ0EsTUFBTWdCLDRCQUE0Qlk7SUFDaEM5QixZQUFZRSxTQUFTLENBQUU7UUFDckIsS0FBSyxDQUFDLHFDQUFxQ0E7SUFDN0M7QUFDRjtBQUNBLE1BQU11Qiw4QkFBOEJLO0lBQ2xDOUIsWUFBWUUsU0FBUyxDQUFFO1FBQ3JCLEtBQUssQ0FDSCxtR0FDQUE7SUFFSjtBQUNGO0FBQ0EsTUFBTWtCLGtDQUFrQ1U7SUFDdEM5QixZQUFZRSxTQUFTLENBQUU7UUFDckIsS0FBSyxDQUFDLGdEQUFnREE7SUFDeEQ7QUFDRjtBQUNBLE1BQU1tQix3Q0FBd0NTO0lBQzVDOUIsWUFBWUUsU0FBUyxDQUFFO1FBQ3JCLEtBQUssQ0FBQyxvQ0FBb0NBO0lBQzVDO0FBQ0Y7QUFDQSxNQUFNd0IsNEJBQTRCSTtJQUNoQzlCLFlBQVlFLFNBQVMsQ0FBRTtRQUNyQixLQUFLLENBQUMsK0VBQStFQTtJQUN2RjtBQUNGO0FBQ0EsTUFBTXlCLHNDQUFzQ0c7SUFDMUM5QixZQUFZRSxTQUFTLENBQUU7UUFDckIsS0FBSyxDQUFDLG1DQUFtQ0E7SUFDM0M7QUFDRjtBQUNBLE1BQU0wQixrQ0FBa0NFO0lBQ3RDOUIsWUFBWUUsU0FBUyxDQUFFO1FBQ3JCLEtBQUssQ0FBQyxzQ0FBc0NBO0lBQzlDO0FBQ0Y7QUFDQSxNQUFNcUIsK0JBQStCTztJQUNuQzlCLFlBQVlFLFNBQVMsQ0FBRTtRQUNyQixLQUFLLENBQUMsMEJBQTBCQTtJQUNsQztBQUNGO0FBQ0EsTUFBTXNCLGtDQUFrQ007SUFDdEM5QixZQUFZRSxTQUFTLENBQUU7UUFDckIsS0FBSyxDQUFDLDZCQUE2QkE7SUFDckM7QUFDRjtBQUNBLE1BQU1pQixzQkFBc0JXO0lBQzFCOUIsWUFBWUUsU0FBUyxDQUFFO1FBQ3JCLEtBQUssQ0FBQyxrRUFBa0VBO0lBQzFFO0FBQ0Y7QUFDQSxNQUFNb0IsK0JBQStCUTtJQUNuQzlCLFlBQVlFLFNBQVMsQ0FBRTtRQUNyQixLQUFLLENBQUMsMkJBQTJCQTtJQUNuQztBQUNGO0FBQ0EsTUFBTTJCLHNCQUFzQkM7SUFDMUI5QixZQUFZRSxTQUFTLENBQUU7UUFDckIsS0FBSyxDQUFDLDhDQUE4Q0E7SUFDdEQ7QUFDRjtBQUNBLE1BQU1hLHFCQUFxQmU7QUFDM0I7QUFDQSxNQUFNQyw2Q0FBNkNqQztBQUNuRDtBQUNBLE1BQU1rQyw4QkFBOEJsQztBQUNwQztBQUNBLE1BQU1tQyxnQ0FBZ0NuQztBQUN0QztBQUNBLE1BQU1vQyxnQ0FBZ0NwQztBQUN0QztBQUNBLE1BQU1xQyw4QkFBOEJyQztBQUNwQztBQUNBLE1BQU1zQyxxQ0FBcUN0QztBQUMzQztBQUNBLE1BQU11QywrQkFBK0J2QztBQUNyQztBQUNBLE1BQU13Qyw4QkFBOEJ4QztBQUNwQztBQUNBLE1BQU15QyxvQ0FBb0N6QztBQUMxQztBQUNBLE1BQU0wQyx3QkFBd0IxQztBQUM5QjtBQUNBLE1BQU0yQyxrQ0FBa0MzQztBQUN4QztBQUNBLE1BQU00QywyQ0FBMkM1QztBQUNqRDtBQUNBLFNBQVM2QyxnQkFBZ0JDLE1BQU07SUFDN0IsSUFBSUMsV0FBVztJQUNmLElBQUlDLGdCQUFnQkYsTUFBTSxDQUFDLEVBQUU7SUFDN0IsTUFBTUcsU0FBUyxhQUFhLEdBQUcsSUFBSUM7SUFDbkMsS0FBSyxNQUFNdEMsU0FBU2tDLE9BQVE7UUFDMUIsTUFBTUssWUFBWXZDLE1BQU1WLFdBQVcsQ0FBQ2tELElBQUk7UUFDeEMsTUFBTUMsV0FBVyxDQUFDSixPQUFPSyxHQUFHLENBQUNILGNBQWMsS0FBSztRQUNoREYsT0FBT3hELEdBQUcsQ0FBQzBELFdBQVdFO1FBQ3RCLElBQUlBLFdBQVdOLFVBQVU7WUFDdkJBLFdBQVdNO1lBQ1hMLGdCQUFnQnBDO1FBQ2xCO0lBQ0Y7SUFDQSxPQUFPb0M7QUFDVDtBQWdDRSxDQUNGLGlDQUFpQyIsInNvdXJjZXMiOlsid2VicGFjazovL25vdGFzY2FtLXByb3RvY29sLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BteXN0ZW4rc2VhbEAwLjYuMF90eXBlc2NyaXB0QDUuOS4zL25vZGVfbW9kdWxlcy9AbXlzdGVuL3NlYWwvZGlzdC9lc20vZXJyb3IuanM/MGUxZSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX190eXBlRXJyb3IgPSAobXNnKSA9PiB7XG4gIHRocm93IFR5cGVFcnJvcihtc2cpO1xufTtcbnZhciBfX2FjY2Vzc0NoZWNrID0gKG9iaiwgbWVtYmVyLCBtc2cpID0+IG1lbWJlci5oYXMob2JqKSB8fCBfX3R5cGVFcnJvcihcIkNhbm5vdCBcIiArIG1zZyk7XG52YXIgX19wcml2YXRlQWRkID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4gbWVtYmVyLmhhcyhvYmopID8gX190eXBlRXJyb3IoXCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlXCIpIDogbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG52YXIgX19wcml2YXRlTWV0aG9kID0gKG9iaiwgbWVtYmVyLCBtZXRob2QpID0+IChfX2FjY2Vzc0NoZWNrKG9iaiwgbWVtYmVyLCBcImFjY2VzcyBwcml2YXRlIG1ldGhvZFwiKSwgbWV0aG9kKTtcbnZhciBfU2VhbEFQSUVycm9yX3N0YXRpYywgZ2VuZXJhdGVfZm47XG5jbGFzcyBTZWFsRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG59XG5jbGFzcyBVc2VyRXJyb3IgZXh0ZW5kcyBTZWFsRXJyb3Ige1xufVxuY29uc3QgX1NlYWxBUElFcnJvciA9IGNsYXNzIF9TZWFsQVBJRXJyb3IgZXh0ZW5kcyBTZWFsRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlLCByZXF1ZXN0SWQsIHN0YXR1cykge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMucmVxdWVzdElkID0gcmVxdWVzdElkO1xuICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICB9XG4gIHN0YXRpYyBhc3luYyBhc3NlcnRSZXNwb25zZShyZXNwb25zZSwgcmVxdWVzdElkKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgZXJyb3JJbnN0YW5jZTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgIGNvbnN0IGVycm9yID0gSlNPTi5wYXJzZSh0ZXh0KVtcImVycm9yXCJdO1xuICAgICAgY29uc3QgbWVzc2FnZSA9IEpTT04ucGFyc2UodGV4dClbXCJtZXNzYWdlXCJdO1xuICAgICAgZXJyb3JJbnN0YW5jZSA9IF9fcHJpdmF0ZU1ldGhvZChfYSA9IF9TZWFsQVBJRXJyb3IsIF9TZWFsQVBJRXJyb3Jfc3RhdGljLCBnZW5lcmF0ZV9mbikuY2FsbChfYSwgZXJyb3IsIG1lc3NhZ2UsIHJlcXVlc3RJZCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZXJyb3JJbnN0YW5jZSA9IG5ldyBHZW5lcmFsRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCwgcmVxdWVzdElkLCByZXNwb25zZS5zdGF0dXMpO1xuICAgIH1cbiAgICB0aHJvdyBlcnJvckluc3RhbmNlO1xuICB9XG59O1xuX1NlYWxBUElFcnJvcl9zdGF0aWMgPSBuZXcgV2Vha1NldCgpO1xuZ2VuZXJhdGVfZm4gPSBmdW5jdGlvbihlcnJvciwgbWVzc2FnZSwgcmVxdWVzdElkLCBzdGF0dXMpIHtcbiAgc3dpdGNoIChlcnJvcikge1xuICAgIGNhc2UgXCJJbnZhbGlkUFRCXCI6XG4gICAgICByZXR1cm4gbmV3IEludmFsaWRQVEJFcnJvcihyZXF1ZXN0SWQsIG1lc3NhZ2UpO1xuICAgIGNhc2UgXCJJbnZhbGlkUGFja2FnZVwiOlxuICAgICAgcmV0dXJuIG5ldyBJbnZhbGlkUGFja2FnZUVycm9yKHJlcXVlc3RJZCk7XG4gICAgY2FzZSBcIk5vQWNjZXNzXCI6XG4gICAgICByZXR1cm4gbmV3IE5vQWNjZXNzRXJyb3IocmVxdWVzdElkKTtcbiAgICBjYXNlIFwiSW52YWxpZFNpZ25hdHVyZVwiOlxuICAgICAgcmV0dXJuIG5ldyBJbnZhbGlkVXNlclNpZ25hdHVyZUVycm9yKHJlcXVlc3RJZCk7XG4gICAgY2FzZSBcIkludmFsaWRTZXNzaW9uU2lnbmF0dXJlXCI6XG4gICAgICByZXR1cm4gbmV3IEludmFsaWRTZXNzaW9uS2V5U2lnbmF0dXJlRXJyb3IocmVxdWVzdElkKTtcbiAgICBjYXNlIFwiSW52YWxpZENlcnRpZmljYXRlXCI6XG4gICAgICByZXR1cm4gbmV3IEV4cGlyZWRTZXNzaW9uS2V5RXJyb3IocmVxdWVzdElkKTtcbiAgICBjYXNlIFwiSW52YWxpZFNES1ZlcnNpb25cIjpcbiAgICAgIHJldHVybiBuZXcgSW52YWxpZFNES1ZlcnNpb25FcnJvcihyZXF1ZXN0SWQpO1xuICAgIGNhc2UgXCJEZXByZWNhdGVkU0RLVmVyc2lvblwiOlxuICAgICAgcmV0dXJuIG5ldyBEZXByZWNhdGVkU0RLVmVyc2lvbkVycm9yKHJlcXVlc3RJZCk7XG4gICAgY2FzZSBcIkludmFsaWRQYXJhbWV0ZXJcIjpcbiAgICAgIHJldHVybiBuZXcgSW52YWxpZFBhcmFtZXRlckVycm9yKHJlcXVlc3RJZCk7XG4gICAgY2FzZSBcIkludmFsaWRNVlJOYW1lXCI6XG4gICAgICByZXR1cm4gbmV3IEludmFsaWRNVlJOYW1lRXJyb3IocmVxdWVzdElkKTtcbiAgICBjYXNlIFwiSW52YWxpZFNlcnZpY2VJZFwiOlxuICAgICAgcmV0dXJuIG5ldyBJbnZhbGlkS2V5U2VydmVyT2JqZWN0SWRFcnJvcihyZXF1ZXN0SWQpO1xuICAgIGNhc2UgXCJVbnN1cHBvcnRlZFBhY2thZ2VJZFwiOlxuICAgICAgcmV0dXJuIG5ldyBVbnN1cHBvcnRlZFBhY2thZ2VJZEVycm9yKHJlcXVlc3RJZCk7XG4gICAgY2FzZSBcIkZhaWx1cmVcIjpcbiAgICAgIHJldHVybiBuZXcgSW50ZXJuYWxFcnJvcihyZXF1ZXN0SWQpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbmV3IEdlbmVyYWxFcnJvcihtZXNzYWdlLCByZXF1ZXN0SWQsIHN0YXR1cyk7XG4gIH1cbn07XG5fX3ByaXZhdGVBZGQoX1NlYWxBUElFcnJvciwgX1NlYWxBUElFcnJvcl9zdGF0aWMpO1xubGV0IFNlYWxBUElFcnJvciA9IF9TZWFsQVBJRXJyb3I7XG5jbGFzcyBJbnZhbGlkUFRCRXJyb3IgZXh0ZW5kcyBTZWFsQVBJRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihyZXF1ZXN0SWQsIG1lc3NhZ2UpIHtcbiAgICBzdXBlcihcIlBUQiBkb2VzIG5vdCBjb25mb3JtIHRvIHRoZSBleHBlY3RlZCBmb3JtYXQgXCIgKyBtZXNzYWdlLCByZXF1ZXN0SWQpO1xuICB9XG59XG5jbGFzcyBJbnZhbGlkUGFja2FnZUVycm9yIGV4dGVuZHMgU2VhbEFQSUVycm9yIHtcbiAgY29uc3RydWN0b3IocmVxdWVzdElkKSB7XG4gICAgc3VwZXIoXCJQYWNrYWdlIElEIHVzZWQgaW4gUFRCIGlzIGludmFsaWRcIiwgcmVxdWVzdElkKTtcbiAgfVxufVxuY2xhc3MgSW52YWxpZFBhcmFtZXRlckVycm9yIGV4dGVuZHMgU2VhbEFQSUVycm9yIHtcbiAgY29uc3RydWN0b3IocmVxdWVzdElkKSB7XG4gICAgc3VwZXIoXG4gICAgICBcIlBUQiBjb250YWlucyBhbiBpbnZhbGlkIHBhcmFtZXRlciwgcG9zc2libHkgYSBuZXdseSBjcmVhdGVkIG9iamVjdCB0aGF0IHRoZSBGTiBoYXMgbm90IHlldCBzZWVuXCIsXG4gICAgICByZXF1ZXN0SWRcbiAgICApO1xuICB9XG59XG5jbGFzcyBJbnZhbGlkVXNlclNpZ25hdHVyZUVycm9yIGV4dGVuZHMgU2VhbEFQSUVycm9yIHtcbiAgY29uc3RydWN0b3IocmVxdWVzdElkKSB7XG4gICAgc3VwZXIoXCJVc2VyIHNpZ25hdHVyZSBvbiB0aGUgc2Vzc2lvbiBrZXkgaXMgaW52YWxpZFwiLCByZXF1ZXN0SWQpO1xuICB9XG59XG5jbGFzcyBJbnZhbGlkU2Vzc2lvbktleVNpZ25hdHVyZUVycm9yIGV4dGVuZHMgU2VhbEFQSUVycm9yIHtcbiAgY29uc3RydWN0b3IocmVxdWVzdElkKSB7XG4gICAgc3VwZXIoXCJTZXNzaW9uIGtleSBzaWduYXR1cmUgaXMgaW52YWxpZFwiLCByZXF1ZXN0SWQpO1xuICB9XG59XG5jbGFzcyBJbnZhbGlkTVZSTmFtZUVycm9yIGV4dGVuZHMgU2VhbEFQSUVycm9yIHtcbiAgY29uc3RydWN0b3IocmVxdWVzdElkKSB7XG4gICAgc3VwZXIoXCJNVlIgbmFtZSBpcyBpbnZhbGlkIG9yIG5vdCBjb25zaXN0ZW50IHdpdGggdGhlIGZpcnN0IHZlcnNpb24gb2YgdGhlIHBhY2thZ2VcIiwgcmVxdWVzdElkKTtcbiAgfVxufVxuY2xhc3MgSW52YWxpZEtleVNlcnZlck9iamVjdElkRXJyb3IgZXh0ZW5kcyBTZWFsQVBJRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihyZXF1ZXN0SWQpIHtcbiAgICBzdXBlcihcIktleSBzZXJ2ZXIgb2JqZWN0IElEIGlzIGludmFsaWRcIiwgcmVxdWVzdElkKTtcbiAgfVxufVxuY2xhc3MgVW5zdXBwb3J0ZWRQYWNrYWdlSWRFcnJvciBleHRlbmRzIFNlYWxBUElFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHJlcXVlc3RJZCkge1xuICAgIHN1cGVyKFwiUmVxdWVzdGVkIHBhY2thZ2UgaXMgbm90IHN1cHBvcnRlZFwiLCByZXF1ZXN0SWQpO1xuICB9XG59XG5jbGFzcyBJbnZhbGlkU0RLVmVyc2lvbkVycm9yIGV4dGVuZHMgU2VhbEFQSUVycm9yIHtcbiAgY29uc3RydWN0b3IocmVxdWVzdElkKSB7XG4gICAgc3VwZXIoXCJTREsgdmVyc2lvbiBpcyBpbnZhbGlkXCIsIHJlcXVlc3RJZCk7XG4gIH1cbn1cbmNsYXNzIERlcHJlY2F0ZWRTREtWZXJzaW9uRXJyb3IgZXh0ZW5kcyBTZWFsQVBJRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihyZXF1ZXN0SWQpIHtcbiAgICBzdXBlcihcIlNESyB2ZXJzaW9uIGlzIGRlcHJlY2F0ZWRcIiwgcmVxdWVzdElkKTtcbiAgfVxufVxuY2xhc3MgTm9BY2Nlc3NFcnJvciBleHRlbmRzIFNlYWxBUElFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHJlcXVlc3RJZCkge1xuICAgIHN1cGVyKFwiVXNlciBkb2VzIG5vdCBoYXZlIGFjY2VzcyB0byBvbmUgb3IgbW9yZSBvZiB0aGUgcmVxdWVzdGVkIGtleXNcIiwgcmVxdWVzdElkKTtcbiAgfVxufVxuY2xhc3MgRXhwaXJlZFNlc3Npb25LZXlFcnJvciBleHRlbmRzIFNlYWxBUElFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHJlcXVlc3RJZCkge1xuICAgIHN1cGVyKFwiU2Vzc2lvbiBrZXkgaGFzIGV4cGlyZWRcIiwgcmVxdWVzdElkKTtcbiAgfVxufVxuY2xhc3MgSW50ZXJuYWxFcnJvciBleHRlbmRzIFNlYWxBUElFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHJlcXVlc3RJZCkge1xuICAgIHN1cGVyKFwiSW50ZXJuYWwgc2VydmVyIGVycm9yLCBjYWxsZXIgc2hvdWxkIHJldHJ5XCIsIHJlcXVlc3RJZCk7XG4gIH1cbn1cbmNsYXNzIEdlbmVyYWxFcnJvciBleHRlbmRzIFNlYWxBUElFcnJvciB7XG59XG5jbGFzcyBJbnZhbGlkUGVyc29uYWxNZXNzYWdlU2lnbmF0dXJlRXJyb3IgZXh0ZW5kcyBVc2VyRXJyb3Ige1xufVxuY2xhc3MgSW52YWxpZEdldE9iamVjdEVycm9yIGV4dGVuZHMgVXNlckVycm9yIHtcbn1cbmNsYXNzIFVuc3VwcG9ydGVkRmVhdHVyZUVycm9yIGV4dGVuZHMgVXNlckVycm9yIHtcbn1cbmNsYXNzIFVuc3VwcG9ydGVkTmV0d29ya0Vycm9yIGV4dGVuZHMgVXNlckVycm9yIHtcbn1cbmNsYXNzIEludmFsaWRLZXlTZXJ2ZXJFcnJvciBleHRlbmRzIFVzZXJFcnJvciB7XG59XG5jbGFzcyBJbnZhbGlkS2V5U2VydmVyVmVyc2lvbkVycm9yIGV4dGVuZHMgVXNlckVycm9yIHtcbn1cbmNsYXNzIEludmFsaWRDaXBoZXJ0ZXh0RXJyb3IgZXh0ZW5kcyBVc2VyRXJyb3Ige1xufVxuY2xhc3MgSW52YWxpZFRocmVzaG9sZEVycm9yIGV4dGVuZHMgVXNlckVycm9yIHtcbn1cbmNsYXNzIEluY29uc2lzdGVudEtleVNlcnZlcnNFcnJvciBleHRlbmRzIFVzZXJFcnJvciB7XG59XG5jbGFzcyBEZWNyeXB0aW9uRXJyb3IgZXh0ZW5kcyBVc2VyRXJyb3Ige1xufVxuY2xhc3MgSW52YWxpZENsaWVudE9wdGlvbnNFcnJvciBleHRlbmRzIFVzZXJFcnJvciB7XG59XG5jbGFzcyBUb29NYW55RmFpbGVkRmV0Y2hLZXlSZXF1ZXN0c0Vycm9yIGV4dGVuZHMgVXNlckVycm9yIHtcbn1cbmZ1bmN0aW9uIHRvTWFqb3JpdHlFcnJvcihlcnJvcnMpIHtcbiAgbGV0IG1heENvdW50ID0gMDtcbiAgbGV0IG1ham9yaXR5RXJyb3IgPSBlcnJvcnNbMF07XG4gIGNvbnN0IGNvdW50cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGZvciAoY29uc3QgZXJyb3Igb2YgZXJyb3JzKSB7XG4gICAgY29uc3QgZXJyb3JOYW1lID0gZXJyb3IuY29uc3RydWN0b3IubmFtZTtcbiAgICBjb25zdCBuZXdDb3VudCA9IChjb3VudHMuZ2V0KGVycm9yTmFtZSkgfHwgMCkgKyAxO1xuICAgIGNvdW50cy5zZXQoZXJyb3JOYW1lLCBuZXdDb3VudCk7XG4gICAgaWYgKG5ld0NvdW50ID4gbWF4Q291bnQpIHtcbiAgICAgIG1heENvdW50ID0gbmV3Q291bnQ7XG4gICAgICBtYWpvcml0eUVycm9yID0gZXJyb3I7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYWpvcml0eUVycm9yO1xufVxuZXhwb3J0IHtcbiAgRGVjcnlwdGlvbkVycm9yLFxuICBEZXByZWNhdGVkU0RLVmVyc2lvbkVycm9yLFxuICBFeHBpcmVkU2Vzc2lvbktleUVycm9yLFxuICBHZW5lcmFsRXJyb3IsXG4gIEluY29uc2lzdGVudEtleVNlcnZlcnNFcnJvcixcbiAgSW50ZXJuYWxFcnJvcixcbiAgSW52YWxpZENpcGhlcnRleHRFcnJvcixcbiAgSW52YWxpZENsaWVudE9wdGlvbnNFcnJvcixcbiAgSW52YWxpZEdldE9iamVjdEVycm9yLFxuICBJbnZhbGlkS2V5U2VydmVyRXJyb3IsXG4gIEludmFsaWRLZXlTZXJ2ZXJPYmplY3RJZEVycm9yLFxuICBJbnZhbGlkS2V5U2VydmVyVmVyc2lvbkVycm9yLFxuICBJbnZhbGlkTVZSTmFtZUVycm9yLFxuICBJbnZhbGlkUFRCRXJyb3IsXG4gIEludmFsaWRQYWNrYWdlRXJyb3IsXG4gIEludmFsaWRQYXJhbWV0ZXJFcnJvcixcbiAgSW52YWxpZFBlcnNvbmFsTWVzc2FnZVNpZ25hdHVyZUVycm9yLFxuICBJbnZhbGlkU0RLVmVyc2lvbkVycm9yLFxuICBJbnZhbGlkU2Vzc2lvbktleVNpZ25hdHVyZUVycm9yLFxuICBJbnZhbGlkVGhyZXNob2xkRXJyb3IsXG4gIEludmFsaWRVc2VyU2lnbmF0dXJlRXJyb3IsXG4gIE5vQWNjZXNzRXJyb3IsXG4gIFNlYWxBUElFcnJvcixcbiAgU2VhbEVycm9yLFxuICBUb29NYW55RmFpbGVkRmV0Y2hLZXlSZXF1ZXN0c0Vycm9yLFxuICBVbnN1cHBvcnRlZEZlYXR1cmVFcnJvcixcbiAgVW5zdXBwb3J0ZWROZXR3b3JrRXJyb3IsXG4gIFVuc3VwcG9ydGVkUGFja2FnZUlkRXJyb3IsXG4gIFVzZXJFcnJvcixcbiAgdG9NYWpvcml0eUVycm9yXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3IuanMubWFwXG4iXSwibmFtZXMiOlsiX190eXBlRXJyb3IiLCJtc2ciLCJUeXBlRXJyb3IiLCJfX2FjY2Vzc0NoZWNrIiwib2JqIiwibWVtYmVyIiwiaGFzIiwiX19wcml2YXRlQWRkIiwidmFsdWUiLCJXZWFrU2V0IiwiYWRkIiwic2V0IiwiX19wcml2YXRlTWV0aG9kIiwibWV0aG9kIiwiX1NlYWxBUElFcnJvcl9zdGF0aWMiLCJnZW5lcmF0ZV9mbiIsIlNlYWxFcnJvciIsIkVycm9yIiwiVXNlckVycm9yIiwiX1NlYWxBUElFcnJvciIsImNvbnN0cnVjdG9yIiwibWVzc2FnZSIsInJlcXVlc3RJZCIsInN0YXR1cyIsImFzc2VydFJlc3BvbnNlIiwicmVzcG9uc2UiLCJfYSIsIm9rIiwiZXJyb3JJbnN0YW5jZSIsInRleHQiLCJlcnJvciIsIkpTT04iLCJwYXJzZSIsImNhbGwiLCJlIiwiR2VuZXJhbEVycm9yIiwic3RhdHVzVGV4dCIsIkludmFsaWRQVEJFcnJvciIsIkludmFsaWRQYWNrYWdlRXJyb3IiLCJOb0FjY2Vzc0Vycm9yIiwiSW52YWxpZFVzZXJTaWduYXR1cmVFcnJvciIsIkludmFsaWRTZXNzaW9uS2V5U2lnbmF0dXJlRXJyb3IiLCJFeHBpcmVkU2Vzc2lvbktleUVycm9yIiwiSW52YWxpZFNES1ZlcnNpb25FcnJvciIsIkRlcHJlY2F0ZWRTREtWZXJzaW9uRXJyb3IiLCJJbnZhbGlkUGFyYW1ldGVyRXJyb3IiLCJJbnZhbGlkTVZSTmFtZUVycm9yIiwiSW52YWxpZEtleVNlcnZlck9iamVjdElkRXJyb3IiLCJVbnN1cHBvcnRlZFBhY2thZ2VJZEVycm9yIiwiSW50ZXJuYWxFcnJvciIsIlNlYWxBUElFcnJvciIsIkludmFsaWRQZXJzb25hbE1lc3NhZ2VTaWduYXR1cmVFcnJvciIsIkludmFsaWRHZXRPYmplY3RFcnJvciIsIlVuc3VwcG9ydGVkRmVhdHVyZUVycm9yIiwiVW5zdXBwb3J0ZWROZXR3b3JrRXJyb3IiLCJJbnZhbGlkS2V5U2VydmVyRXJyb3IiLCJJbnZhbGlkS2V5U2VydmVyVmVyc2lvbkVycm9yIiwiSW52YWxpZENpcGhlcnRleHRFcnJvciIsIkludmFsaWRUaHJlc2hvbGRFcnJvciIsIkluY29uc2lzdGVudEtleVNlcnZlcnNFcnJvciIsIkRlY3J5cHRpb25FcnJvciIsIkludmFsaWRDbGllbnRPcHRpb25zRXJyb3IiLCJUb29NYW55RmFpbGVkRmV0Y2hLZXlSZXF1ZXN0c0Vycm9yIiwidG9NYWpvcml0eUVycm9yIiwiZXJyb3JzIiwibWF4Q291bnQiLCJtYWpvcml0eUVycm9yIiwiY291bnRzIiwiTWFwIiwiZXJyb3JOYW1lIiwibmFtZSIsIm5ld0NvdW50IiwiZ2V0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/error.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/ibe.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/ibe.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BonehFranklinBLS12381Services: () => (/* binding */ BonehFranklinBLS12381Services),\n/* harmony export */   DST_POP: () => (/* binding */ DST_POP),\n/* harmony export */   IBEServers: () => (/* binding */ IBEServers),\n/* harmony export */   decryptRandomness: () => (/* binding */ decryptRandomness),\n/* harmony export */   verifyNonce: () => (/* binding */ verifyNonce)\n/* harmony export */ });\n/* harmony import */ var _mysten_bcs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mysten/bcs */ \"(ssr)/./node_modules/.pnpm/@mysten+utils@0.2.0/node_modules/@mysten/utils/dist/esm/hex.js\");\n/* harmony import */ var _bls12381_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bls12381.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/bls12381.js\");\n/* harmony import */ var _kdf_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./kdf.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/kdf.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/utils.js\");\n\n\n\n\nconst DST_POP = new TextEncoder().encode(\"SUI-SEAL-IBE-BLS12381-POP-00\");\nclass IBEServers {\n    constructor(objectIds){\n        this.objectIds = objectIds;\n    }\n}\nclass BonehFranklinBLS12381Services extends IBEServers {\n    constructor(services){\n        super(services.map((service)=>service.objectId));\n        this.publicKeys = services.map((service)=>_bls12381_js__WEBPACK_IMPORTED_MODULE_0__.G2Element.fromBytes(service.pk));\n    }\n    encryptBatched(id, shares, baseKey, threshold) {\n        if (this.publicKeys.length === 0 || this.publicKeys.length !== shares.length) {\n            throw new Error(\"Invalid public keys\");\n        }\n        const [r, nonce, keys] = encapBatched(this.publicKeys, id);\n        const encryptedShares = shares.map(({ share, index }, i)=>(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.xor)(share, (0,_kdf_js__WEBPACK_IMPORTED_MODULE_2__.kdf)(keys[i], nonce, id, this.objectIds[i], index)));\n        const randomnessKey = (0,_kdf_js__WEBPACK_IMPORTED_MODULE_2__.deriveKey)(_kdf_js__WEBPACK_IMPORTED_MODULE_2__.KeyPurpose.EncryptedRandomness, baseKey, encryptedShares, threshold, this.objectIds);\n        const encryptedRandomness = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.xor)(randomnessKey, r.toBytes());\n        return {\n            BonehFranklinBLS12381: {\n                nonce: nonce.toBytes(),\n                encryptedShares,\n                encryptedRandomness\n            },\n            $kind: \"BonehFranklinBLS12381\"\n        };\n    }\n    /**\n   * Returns true if the user secret key is valid for the given public key and id.\n   * @param user_secret_key - The user secret key.\n   * @param id - The identity.\n   * @param public_key - The public key.\n   * @returns True if the user secret key is valid for the given public key and id.\n   */ static verifyUserSecretKey(userSecretKey, id, publicKey) {\n        const lhs = userSecretKey.pairing(_bls12381_js__WEBPACK_IMPORTED_MODULE_0__.G2Element.generator());\n        const rhs = (0,_kdf_js__WEBPACK_IMPORTED_MODULE_2__.hashToG1)((0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_3__.fromHex)(id)).pairing(publicKey);\n        return lhs.equals(rhs);\n    }\n    /**\n   * Identity-based decryption.\n   *\n   * @param nonce The encryption nonce.\n   * @param sk The user secret key.\n   * @param ciphertext The encrypted message.\n   * @param info An info parameter also included in the KDF.\n   * @returns The decrypted message.\n   */ static decrypt(nonce, sk, ciphertext, id, [objectId, index]) {\n        return (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.xor)(ciphertext, (0,_kdf_js__WEBPACK_IMPORTED_MODULE_2__.kdf)(decap(nonce, sk), nonce, id, objectId, index));\n    }\n    /**\n   * Decrypt all shares and verify that the randomness was used to create the given nonce.\n   *\n   * @param randomness - The randomness.\n   * @param encryptedShares - The encrypted shares.\n   * @param services - The services.\n   * @param publicKeys - The public keys.\n   * @param nonce - The nonce.\n   * @param id - The id.\n   * @returns All decrypted shares.\n   */ static decryptAllSharesUsingRandomness(randomness, encryptedShares, services, publicKeys, nonce, id) {\n        if (publicKeys.length !== encryptedShares.length || publicKeys.length !== services.length) {\n            throw new Error(\"The number of public keys, encrypted shares and services must be the same\");\n        }\n        const gid_r = (0,_kdf_js__WEBPACK_IMPORTED_MODULE_2__.hashToG1)(id).multiply(randomness);\n        return services.map(([objectId, index], i)=>{\n            return {\n                index,\n                share: (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.xor)(encryptedShares[i], (0,_kdf_js__WEBPACK_IMPORTED_MODULE_2__.kdf)(gid_r.pairing(publicKeys[i]), nonce, id, objectId, index))\n            };\n        });\n    }\n}\nfunction encapBatched(publicKeys, id) {\n    if (publicKeys.length === 0) {\n        throw new Error(\"No public keys provided\");\n    }\n    const r = _bls12381_js__WEBPACK_IMPORTED_MODULE_0__.Scalar.random();\n    const nonce = _bls12381_js__WEBPACK_IMPORTED_MODULE_0__.G2Element.generator().multiply(r);\n    const gid_r = (0,_kdf_js__WEBPACK_IMPORTED_MODULE_2__.hashToG1)(id).multiply(r);\n    return [\n        r,\n        nonce,\n        publicKeys.map((public_key)=>gid_r.pairing(public_key))\n    ];\n}\nfunction decap(nonce, usk) {\n    return usk.pairing(nonce);\n}\nfunction verifyNonce(nonce, randomness) {\n    return _bls12381_js__WEBPACK_IMPORTED_MODULE_0__.G2Element.generator().multiply(randomness).equals(nonce);\n}\nfunction decryptRandomness(encryptedRandomness, randomnessKey) {\n    return _bls12381_js__WEBPACK_IMPORTED_MODULE_0__.Scalar.fromBytes((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.xor)(encryptedRandomness, randomnessKey));\n}\n //# sourceMappingURL=ibe.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG15c3RlbitzZWFsQDAuNi4wX3R5cGVzY3JpcHRANS45LjMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc2VhbC9kaXN0L2VzbS9pYmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXNDO0FBQ1k7QUFDYztBQUMvQjtBQUNqQyxNQUFNUSxVQUFVLElBQUlDLGNBQWNDLE1BQU0sQ0FBQztBQUN6QyxNQUFNQztJQUNKQyxZQUFZQyxTQUFTLENBQUU7UUFDckIsSUFBSSxDQUFDQSxTQUFTLEdBQUdBO0lBQ25CO0FBQ0Y7QUFDQSxNQUFNQyxzQ0FBc0NIO0lBQzFDQyxZQUFZRyxRQUFRLENBQUU7UUFDcEIsS0FBSyxDQUFDQSxTQUFTQyxHQUFHLENBQUMsQ0FBQ0MsVUFBWUEsUUFBUUMsUUFBUTtRQUNoRCxJQUFJLENBQUNDLFVBQVUsR0FBR0osU0FBU0MsR0FBRyxDQUFDLENBQUNDLFVBQVloQixtREFBU0EsQ0FBQ21CLFNBQVMsQ0FBQ0gsUUFBUUksRUFBRTtJQUM1RTtJQUNBQyxlQUFlQyxFQUFFLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFQyxTQUFTLEVBQUU7UUFDN0MsSUFBSSxJQUFJLENBQUNQLFVBQVUsQ0FBQ1EsTUFBTSxLQUFLLEtBQUssSUFBSSxDQUFDUixVQUFVLENBQUNRLE1BQU0sS0FBS0gsT0FBT0csTUFBTSxFQUFFO1lBQzVFLE1BQU0sSUFBSUMsTUFBTTtRQUNsQjtRQUNBLE1BQU0sQ0FBQ0MsR0FBR0MsT0FBT0MsS0FBSyxHQUFHQyxhQUFhLElBQUksQ0FBQ2IsVUFBVSxFQUFFSTtRQUN2RCxNQUFNVSxrQkFBa0JULE9BQU9SLEdBQUcsQ0FDaEMsQ0FBQyxFQUFFa0IsS0FBSyxFQUFFQyxLQUFLLEVBQUUsRUFBRUMsSUFBTTdCLDhDQUFHQSxDQUFDMkIsT0FBTzdCLDRDQUFHQSxDQUFDMEIsSUFBSSxDQUFDSyxFQUFFLEVBQUVOLE9BQU9QLElBQUksSUFBSSxDQUFDVixTQUFTLENBQUN1QixFQUFFLEVBQUVEO1FBRWpGLE1BQU1FLGdCQUFnQmxDLGtEQUFTQSxDQUM3QkcsK0NBQVVBLENBQUNnQyxtQkFBbUIsRUFDOUJiLFNBQ0FRLGlCQUNBUCxXQUNBLElBQUksQ0FBQ2IsU0FBUztRQUVoQixNQUFNMEIsc0JBQXNCaEMsOENBQUdBLENBQUM4QixlQUFlUixFQUFFVyxPQUFPO1FBQ3hELE9BQU87WUFDTEMsdUJBQXVCO2dCQUNyQlgsT0FBT0EsTUFBTVUsT0FBTztnQkFDcEJQO2dCQUNBTTtZQUNGO1lBQ0FHLE9BQU87UUFDVDtJQUNGO0lBQ0E7Ozs7OztHQU1DLEdBQ0QsT0FBT0Msb0JBQW9CQyxhQUFhLEVBQUVyQixFQUFFLEVBQUVzQixTQUFTLEVBQUU7UUFDdkQsTUFBTUMsTUFBTUYsY0FBY0csT0FBTyxDQUFDOUMsbURBQVNBLENBQUMrQyxTQUFTO1FBQ3JELE1BQU1DLE1BQU03QyxpREFBUUEsQ0FBQ0osb0RBQU9BLENBQUN1QixLQUFLd0IsT0FBTyxDQUFDRjtRQUMxQyxPQUFPQyxJQUFJSSxNQUFNLENBQUNEO0lBQ3BCO0lBQ0E7Ozs7Ozs7O0dBUUMsR0FDRCxPQUFPRSxRQUFRckIsS0FBSyxFQUFFc0IsRUFBRSxFQUFFQyxVQUFVLEVBQUU5QixFQUFFLEVBQUUsQ0FBQ0wsVUFBVWlCLE1BQU0sRUFBRTtRQUMzRCxPQUFPNUIsOENBQUdBLENBQUM4QyxZQUFZaEQsNENBQUdBLENBQUNpRCxNQUFNeEIsT0FBT3NCLEtBQUt0QixPQUFPUCxJQUFJTCxVQUFVaUI7SUFDcEU7SUFDQTs7Ozs7Ozs7OztHQVVDLEdBQ0QsT0FBT29CLGdDQUFnQ0MsVUFBVSxFQUFFdkIsZUFBZSxFQUFFbEIsUUFBUSxFQUFFSSxVQUFVLEVBQUVXLEtBQUssRUFBRVAsRUFBRSxFQUFFO1FBQ25HLElBQUlKLFdBQVdRLE1BQU0sS0FBS00sZ0JBQWdCTixNQUFNLElBQUlSLFdBQVdRLE1BQU0sS0FBS1osU0FBU1ksTUFBTSxFQUFFO1lBQ3pGLE1BQU0sSUFBSUMsTUFBTTtRQUNsQjtRQUNBLE1BQU02QixRQUFRckQsaURBQVFBLENBQUNtQixJQUFJbUMsUUFBUSxDQUFDRjtRQUNwQyxPQUFPekMsU0FBU0MsR0FBRyxDQUFDLENBQUMsQ0FBQ0UsVUFBVWlCLE1BQU0sRUFBRUM7WUFDdEMsT0FBTztnQkFDTEQ7Z0JBQ0FELE9BQU8zQiw4Q0FBR0EsQ0FDUjBCLGVBQWUsQ0FBQ0csRUFBRSxFQUNsQi9CLDRDQUFHQSxDQUFDb0QsTUFBTVYsT0FBTyxDQUFDNUIsVUFBVSxDQUFDaUIsRUFBRSxHQUFHTixPQUFPUCxJQUFJTCxVQUFVaUI7WUFFM0Q7UUFDRjtJQUNGO0FBQ0Y7QUFDQSxTQUFTSCxhQUFhYixVQUFVLEVBQUVJLEVBQUU7SUFDbEMsSUFBSUosV0FBV1EsTUFBTSxLQUFLLEdBQUc7UUFDM0IsTUFBTSxJQUFJQyxNQUFNO0lBQ2xCO0lBQ0EsTUFBTUMsSUFBSTNCLGdEQUFNQSxDQUFDeUQsTUFBTTtJQUN2QixNQUFNN0IsUUFBUTdCLG1EQUFTQSxDQUFDK0MsU0FBUyxHQUFHVSxRQUFRLENBQUM3QjtJQUM3QyxNQUFNNEIsUUFBUXJELGlEQUFRQSxDQUFDbUIsSUFBSW1DLFFBQVEsQ0FBQzdCO0lBQ3BDLE9BQU87UUFBQ0E7UUFBR0M7UUFBT1gsV0FBV0gsR0FBRyxDQUFDLENBQUM0QyxhQUFlSCxNQUFNVixPQUFPLENBQUNhO0tBQWE7QUFDOUU7QUFDQSxTQUFTTixNQUFNeEIsS0FBSyxFQUFFK0IsR0FBRztJQUN2QixPQUFPQSxJQUFJZCxPQUFPLENBQUNqQjtBQUNyQjtBQUNBLFNBQVNnQyxZQUFZaEMsS0FBSyxFQUFFMEIsVUFBVTtJQUNwQyxPQUFPdkQsbURBQVNBLENBQUMrQyxTQUFTLEdBQUdVLFFBQVEsQ0FBQ0YsWUFBWU4sTUFBTSxDQUFDcEI7QUFDM0Q7QUFDQSxTQUFTaUMsa0JBQWtCeEIsbUJBQW1CLEVBQUVGLGFBQWE7SUFDM0QsT0FBT25DLGdEQUFNQSxDQUFDa0IsU0FBUyxDQUFDYiw4Q0FBR0EsQ0FBQ2dDLHFCQUFxQkY7QUFDbkQ7QUFPRSxDQUNGLCtCQUErQiIsInNvdXJjZXMiOlsid2VicGFjazovL25vdGFzY2FtLXByb3RvY29sLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BteXN0ZW4rc2VhbEAwLjYuMF90eXBlc2NyaXB0QDUuOS4zL25vZGVfbW9kdWxlcy9AbXlzdGVuL3NlYWwvZGlzdC9lc20vaWJlLmpzPzE3NTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZnJvbUhleCB9IGZyb20gXCJAbXlzdGVuL2Jjc1wiO1xuaW1wb3J0IHsgRzJFbGVtZW50LCBTY2FsYXIgfSBmcm9tIFwiLi9ibHMxMjM4MS5qc1wiO1xuaW1wb3J0IHsgZGVyaXZlS2V5LCBoYXNoVG9HMSwga2RmLCBLZXlQdXJwb3NlIH0gZnJvbSBcIi4va2RmLmpzXCI7XG5pbXBvcnQgeyB4b3IgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuY29uc3QgRFNUX1BPUCA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShcIlNVSS1TRUFMLUlCRS1CTFMxMjM4MS1QT1AtMDBcIik7XG5jbGFzcyBJQkVTZXJ2ZXJzIHtcbiAgY29uc3RydWN0b3Iob2JqZWN0SWRzKSB7XG4gICAgdGhpcy5vYmplY3RJZHMgPSBvYmplY3RJZHM7XG4gIH1cbn1cbmNsYXNzIEJvbmVoRnJhbmtsaW5CTFMxMjM4MVNlcnZpY2VzIGV4dGVuZHMgSUJFU2VydmVycyB7XG4gIGNvbnN0cnVjdG9yKHNlcnZpY2VzKSB7XG4gICAgc3VwZXIoc2VydmljZXMubWFwKChzZXJ2aWNlKSA9PiBzZXJ2aWNlLm9iamVjdElkKSk7XG4gICAgdGhpcy5wdWJsaWNLZXlzID0gc2VydmljZXMubWFwKChzZXJ2aWNlKSA9PiBHMkVsZW1lbnQuZnJvbUJ5dGVzKHNlcnZpY2UucGspKTtcbiAgfVxuICBlbmNyeXB0QmF0Y2hlZChpZCwgc2hhcmVzLCBiYXNlS2V5LCB0aHJlc2hvbGQpIHtcbiAgICBpZiAodGhpcy5wdWJsaWNLZXlzLmxlbmd0aCA9PT0gMCB8fCB0aGlzLnB1YmxpY0tleXMubGVuZ3RoICE9PSBzaGFyZXMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHB1YmxpYyBrZXlzXCIpO1xuICAgIH1cbiAgICBjb25zdCBbciwgbm9uY2UsIGtleXNdID0gZW5jYXBCYXRjaGVkKHRoaXMucHVibGljS2V5cywgaWQpO1xuICAgIGNvbnN0IGVuY3J5cHRlZFNoYXJlcyA9IHNoYXJlcy5tYXAoXG4gICAgICAoeyBzaGFyZSwgaW5kZXggfSwgaSkgPT4geG9yKHNoYXJlLCBrZGYoa2V5c1tpXSwgbm9uY2UsIGlkLCB0aGlzLm9iamVjdElkc1tpXSwgaW5kZXgpKVxuICAgICk7XG4gICAgY29uc3QgcmFuZG9tbmVzc0tleSA9IGRlcml2ZUtleShcbiAgICAgIEtleVB1cnBvc2UuRW5jcnlwdGVkUmFuZG9tbmVzcyxcbiAgICAgIGJhc2VLZXksXG4gICAgICBlbmNyeXB0ZWRTaGFyZXMsXG4gICAgICB0aHJlc2hvbGQsXG4gICAgICB0aGlzLm9iamVjdElkc1xuICAgICk7XG4gICAgY29uc3QgZW5jcnlwdGVkUmFuZG9tbmVzcyA9IHhvcihyYW5kb21uZXNzS2V5LCByLnRvQnl0ZXMoKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIEJvbmVoRnJhbmtsaW5CTFMxMjM4MToge1xuICAgICAgICBub25jZTogbm9uY2UudG9CeXRlcygpLFxuICAgICAgICBlbmNyeXB0ZWRTaGFyZXMsXG4gICAgICAgIGVuY3J5cHRlZFJhbmRvbW5lc3NcbiAgICAgIH0sXG4gICAgICAka2luZDogXCJCb25laEZyYW5rbGluQkxTMTIzODFcIlxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdXNlciBzZWNyZXQga2V5IGlzIHZhbGlkIGZvciB0aGUgZ2l2ZW4gcHVibGljIGtleSBhbmQgaWQuXG4gICAqIEBwYXJhbSB1c2VyX3NlY3JldF9rZXkgLSBUaGUgdXNlciBzZWNyZXQga2V5LlxuICAgKiBAcGFyYW0gaWQgLSBUaGUgaWRlbnRpdHkuXG4gICAqIEBwYXJhbSBwdWJsaWNfa2V5IC0gVGhlIHB1YmxpYyBrZXkuXG4gICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHVzZXIgc2VjcmV0IGtleSBpcyB2YWxpZCBmb3IgdGhlIGdpdmVuIHB1YmxpYyBrZXkgYW5kIGlkLlxuICAgKi9cbiAgc3RhdGljIHZlcmlmeVVzZXJTZWNyZXRLZXkodXNlclNlY3JldEtleSwgaWQsIHB1YmxpY0tleSkge1xuICAgIGNvbnN0IGxocyA9IHVzZXJTZWNyZXRLZXkucGFpcmluZyhHMkVsZW1lbnQuZ2VuZXJhdG9yKCkpO1xuICAgIGNvbnN0IHJocyA9IGhhc2hUb0cxKGZyb21IZXgoaWQpKS5wYWlyaW5nKHB1YmxpY0tleSk7XG4gICAgcmV0dXJuIGxocy5lcXVhbHMocmhzKTtcbiAgfVxuICAvKipcbiAgICogSWRlbnRpdHktYmFzZWQgZGVjcnlwdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIG5vbmNlIFRoZSBlbmNyeXB0aW9uIG5vbmNlLlxuICAgKiBAcGFyYW0gc2sgVGhlIHVzZXIgc2VjcmV0IGtleS5cbiAgICogQHBhcmFtIGNpcGhlcnRleHQgVGhlIGVuY3J5cHRlZCBtZXNzYWdlLlxuICAgKiBAcGFyYW0gaW5mbyBBbiBpbmZvIHBhcmFtZXRlciBhbHNvIGluY2x1ZGVkIGluIHRoZSBLREYuXG4gICAqIEByZXR1cm5zIFRoZSBkZWNyeXB0ZWQgbWVzc2FnZS5cbiAgICovXG4gIHN0YXRpYyBkZWNyeXB0KG5vbmNlLCBzaywgY2lwaGVydGV4dCwgaWQsIFtvYmplY3RJZCwgaW5kZXhdKSB7XG4gICAgcmV0dXJuIHhvcihjaXBoZXJ0ZXh0LCBrZGYoZGVjYXAobm9uY2UsIHNrKSwgbm9uY2UsIGlkLCBvYmplY3RJZCwgaW5kZXgpKTtcbiAgfVxuICAvKipcbiAgICogRGVjcnlwdCBhbGwgc2hhcmVzIGFuZCB2ZXJpZnkgdGhhdCB0aGUgcmFuZG9tbmVzcyB3YXMgdXNlZCB0byBjcmVhdGUgdGhlIGdpdmVuIG5vbmNlLlxuICAgKlxuICAgKiBAcGFyYW0gcmFuZG9tbmVzcyAtIFRoZSByYW5kb21uZXNzLlxuICAgKiBAcGFyYW0gZW5jcnlwdGVkU2hhcmVzIC0gVGhlIGVuY3J5cHRlZCBzaGFyZXMuXG4gICAqIEBwYXJhbSBzZXJ2aWNlcyAtIFRoZSBzZXJ2aWNlcy5cbiAgICogQHBhcmFtIHB1YmxpY0tleXMgLSBUaGUgcHVibGljIGtleXMuXG4gICAqIEBwYXJhbSBub25jZSAtIFRoZSBub25jZS5cbiAgICogQHBhcmFtIGlkIC0gVGhlIGlkLlxuICAgKiBAcmV0dXJucyBBbGwgZGVjcnlwdGVkIHNoYXJlcy5cbiAgICovXG4gIHN0YXRpYyBkZWNyeXB0QWxsU2hhcmVzVXNpbmdSYW5kb21uZXNzKHJhbmRvbW5lc3MsIGVuY3J5cHRlZFNoYXJlcywgc2VydmljZXMsIHB1YmxpY0tleXMsIG5vbmNlLCBpZCkge1xuICAgIGlmIChwdWJsaWNLZXlzLmxlbmd0aCAhPT0gZW5jcnlwdGVkU2hhcmVzLmxlbmd0aCB8fCBwdWJsaWNLZXlzLmxlbmd0aCAhPT0gc2VydmljZXMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgbnVtYmVyIG9mIHB1YmxpYyBrZXlzLCBlbmNyeXB0ZWQgc2hhcmVzIGFuZCBzZXJ2aWNlcyBtdXN0IGJlIHRoZSBzYW1lXCIpO1xuICAgIH1cbiAgICBjb25zdCBnaWRfciA9IGhhc2hUb0cxKGlkKS5tdWx0aXBseShyYW5kb21uZXNzKTtcbiAgICByZXR1cm4gc2VydmljZXMubWFwKChbb2JqZWN0SWQsIGluZGV4XSwgaSkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIHNoYXJlOiB4b3IoXG4gICAgICAgICAgZW5jcnlwdGVkU2hhcmVzW2ldLFxuICAgICAgICAgIGtkZihnaWRfci5wYWlyaW5nKHB1YmxpY0tleXNbaV0pLCBub25jZSwgaWQsIG9iamVjdElkLCBpbmRleClcbiAgICAgICAgKVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gZW5jYXBCYXRjaGVkKHB1YmxpY0tleXMsIGlkKSB7XG4gIGlmIChwdWJsaWNLZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHB1YmxpYyBrZXlzIHByb3ZpZGVkXCIpO1xuICB9XG4gIGNvbnN0IHIgPSBTY2FsYXIucmFuZG9tKCk7XG4gIGNvbnN0IG5vbmNlID0gRzJFbGVtZW50LmdlbmVyYXRvcigpLm11bHRpcGx5KHIpO1xuICBjb25zdCBnaWRfciA9IGhhc2hUb0cxKGlkKS5tdWx0aXBseShyKTtcbiAgcmV0dXJuIFtyLCBub25jZSwgcHVibGljS2V5cy5tYXAoKHB1YmxpY19rZXkpID0+IGdpZF9yLnBhaXJpbmcocHVibGljX2tleSkpXTtcbn1cbmZ1bmN0aW9uIGRlY2FwKG5vbmNlLCB1c2spIHtcbiAgcmV0dXJuIHVzay5wYWlyaW5nKG5vbmNlKTtcbn1cbmZ1bmN0aW9uIHZlcmlmeU5vbmNlKG5vbmNlLCByYW5kb21uZXNzKSB7XG4gIHJldHVybiBHMkVsZW1lbnQuZ2VuZXJhdG9yKCkubXVsdGlwbHkocmFuZG9tbmVzcykuZXF1YWxzKG5vbmNlKTtcbn1cbmZ1bmN0aW9uIGRlY3J5cHRSYW5kb21uZXNzKGVuY3J5cHRlZFJhbmRvbW5lc3MsIHJhbmRvbW5lc3NLZXkpIHtcbiAgcmV0dXJuIFNjYWxhci5mcm9tQnl0ZXMoeG9yKGVuY3J5cHRlZFJhbmRvbW5lc3MsIHJhbmRvbW5lc3NLZXkpKTtcbn1cbmV4cG9ydCB7XG4gIEJvbmVoRnJhbmtsaW5CTFMxMjM4MVNlcnZpY2VzLFxuICBEU1RfUE9QLFxuICBJQkVTZXJ2ZXJzLFxuICBkZWNyeXB0UmFuZG9tbmVzcyxcbiAgdmVyaWZ5Tm9uY2Vcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pYmUuanMubWFwXG4iXSwibmFtZXMiOlsiZnJvbUhleCIsIkcyRWxlbWVudCIsIlNjYWxhciIsImRlcml2ZUtleSIsImhhc2hUb0cxIiwia2RmIiwiS2V5UHVycG9zZSIsInhvciIsIkRTVF9QT1AiLCJUZXh0RW5jb2RlciIsImVuY29kZSIsIklCRVNlcnZlcnMiLCJjb25zdHJ1Y3RvciIsIm9iamVjdElkcyIsIkJvbmVoRnJhbmtsaW5CTFMxMjM4MVNlcnZpY2VzIiwic2VydmljZXMiLCJtYXAiLCJzZXJ2aWNlIiwib2JqZWN0SWQiLCJwdWJsaWNLZXlzIiwiZnJvbUJ5dGVzIiwicGsiLCJlbmNyeXB0QmF0Y2hlZCIsImlkIiwic2hhcmVzIiwiYmFzZUtleSIsInRocmVzaG9sZCIsImxlbmd0aCIsIkVycm9yIiwiciIsIm5vbmNlIiwia2V5cyIsImVuY2FwQmF0Y2hlZCIsImVuY3J5cHRlZFNoYXJlcyIsInNoYXJlIiwiaW5kZXgiLCJpIiwicmFuZG9tbmVzc0tleSIsIkVuY3J5cHRlZFJhbmRvbW5lc3MiLCJlbmNyeXB0ZWRSYW5kb21uZXNzIiwidG9CeXRlcyIsIkJvbmVoRnJhbmtsaW5CTFMxMjM4MSIsIiRraW5kIiwidmVyaWZ5VXNlclNlY3JldEtleSIsInVzZXJTZWNyZXRLZXkiLCJwdWJsaWNLZXkiLCJsaHMiLCJwYWlyaW5nIiwiZ2VuZXJhdG9yIiwicmhzIiwiZXF1YWxzIiwiZGVjcnlwdCIsInNrIiwiY2lwaGVydGV4dCIsImRlY2FwIiwiZGVjcnlwdEFsbFNoYXJlc1VzaW5nUmFuZG9tbmVzcyIsInJhbmRvbW5lc3MiLCJnaWRfciIsIm11bHRpcGx5IiwicmFuZG9tIiwicHVibGljX2tleSIsInVzayIsInZlcmlmeU5vbmNlIiwiZGVjcnlwdFJhbmRvbW5lc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/ibe.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/kdf.js":
/*!**********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/kdf.js ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   KeyPurpose: () => (/* binding */ KeyPurpose),\n/* harmony export */   deriveKey: () => (/* binding */ deriveKey),\n/* harmony export */   hashToG1: () => (/* binding */ hashToG1),\n/* harmony export */   kdf: () => (/* binding */ kdf)\n/* harmony export */ });\n/* harmony import */ var _mysten_bcs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mysten/bcs */ \"(ssr)/./node_modules/.pnpm/@mysten+utils@0.2.0/node_modules/@mysten/utils/dist/esm/hex.js\");\n/* harmony import */ var _noble_hashes_sha3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @noble/hashes/sha3 */ \"(ssr)/./node_modules/.pnpm/@noble+hashes@1.8.0/node_modules/@noble/hashes/esm/sha3.js\");\n/* harmony import */ var _bls12381_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bls12381.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/bls12381.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/utils.js\");\n\n\n\n\nconst DST = new TextEncoder().encode(\"SUI-SEAL-IBE-BLS12381-00\");\nconst KDF_DST = new TextEncoder().encode(\"SUI-SEAL-IBE-BLS12381-H2-00\");\nconst DERIVE_KEY_DST = new TextEncoder().encode(\"SUI-SEAL-IBE-BLS12381-H3-00\");\nfunction hashToG1(id) {\n    return _bls12381_js__WEBPACK_IMPORTED_MODULE_0__.G1Element.hashToCurve((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.flatten)([\n        DST,\n        id\n    ]));\n}\nfunction kdf(element, nonce, id, objectId, index) {\n    if (index < 0 || index > _utils_js__WEBPACK_IMPORTED_MODULE_1__.MAX_U8) {\n        throw new Error(`Invalid index ${index}`);\n    }\n    const hash = _noble_hashes_sha3__WEBPACK_IMPORTED_MODULE_2__.sha3_256.create();\n    hash.update(KDF_DST);\n    hash.update(element.toBytes());\n    hash.update(nonce.toBytes());\n    hash.update(hashToG1(id).toBytes());\n    hash.update((0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_3__.fromHex)(objectId));\n    hash.update(new Uint8Array([\n        index\n    ]));\n    return hash.digest();\n}\nvar KeyPurpose = /* @__PURE__ */ ((KeyPurpose2)=>{\n    KeyPurpose2[KeyPurpose2[\"EncryptedRandomness\"] = 0] = \"EncryptedRandomness\";\n    KeyPurpose2[KeyPurpose2[\"DEM\"] = 1] = \"DEM\";\n    return KeyPurpose2;\n})(KeyPurpose || {});\nfunction tag(purpose) {\n    switch(purpose){\n        case 0 /* EncryptedRandomness */ :\n            return new Uint8Array([\n                0\n            ]);\n        case 1 /* DEM */ :\n            return new Uint8Array([\n                1\n            ]);\n        default:\n            throw new Error(`Invalid key purpose ${purpose}`);\n    }\n}\nfunction deriveKey(purpose, baseKey, encryptedShares, threshold, keyServers) {\n    if (threshold <= 0 || threshold > _utils_js__WEBPACK_IMPORTED_MODULE_1__.MAX_U8) {\n        throw new Error(`Invalid threshold ${threshold}`);\n    }\n    const hash = _noble_hashes_sha3__WEBPACK_IMPORTED_MODULE_2__.sha3_256.create();\n    hash.update(DERIVE_KEY_DST);\n    hash.update(baseKey);\n    hash.update(tag(purpose));\n    hash.update(new Uint8Array([\n        threshold\n    ]));\n    encryptedShares.forEach((share)=>hash.update(share));\n    keyServers.forEach((keyServer)=>hash.update((0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_3__.fromHex)(keyServer)));\n    return hash.digest();\n}\n //# sourceMappingURL=kdf.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG15c3RlbitzZWFsQDAuNi4wX3R5cGVzY3JpcHRANS45LjMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc2VhbC9kaXN0L2VzbS9rZGYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0M7QUFDUTtBQUNKO0FBQ0c7QUFDN0MsTUFBTUssTUFBTSxJQUFJQyxjQUFjQyxNQUFNLENBQUM7QUFDckMsTUFBTUMsVUFBVSxJQUFJRixjQUFjQyxNQUFNLENBQUM7QUFDekMsTUFBTUUsaUJBQWlCLElBQUlILGNBQWNDLE1BQU0sQ0FBQztBQUNoRCxTQUFTRyxTQUFTQyxFQUFFO0lBQ2xCLE9BQU9ULG1EQUFTQSxDQUFDVSxXQUFXLENBQUNULGtEQUFPQSxDQUFDO1FBQUNFO1FBQUtNO0tBQUc7QUFDaEQ7QUFDQSxTQUFTRSxJQUFJQyxPQUFPLEVBQUVDLEtBQUssRUFBRUosRUFBRSxFQUFFSyxRQUFRLEVBQUVDLEtBQUs7SUFDOUMsSUFBSUEsUUFBUSxLQUFLQSxRQUFRYiw2Q0FBTUEsRUFBRTtRQUMvQixNQUFNLElBQUljLE1BQU0sQ0FBQyxjQUFjLEVBQUVELE1BQU0sQ0FBQztJQUMxQztJQUNBLE1BQU1FLE9BQU9sQix3REFBUUEsQ0FBQ21CLE1BQU07SUFDNUJELEtBQUtFLE1BQU0sQ0FBQ2I7SUFDWlcsS0FBS0UsTUFBTSxDQUFDUCxRQUFRUSxPQUFPO0lBQzNCSCxLQUFLRSxNQUFNLENBQUNOLE1BQU1PLE9BQU87SUFDekJILEtBQUtFLE1BQU0sQ0FBQ1gsU0FBU0MsSUFBSVcsT0FBTztJQUNoQ0gsS0FBS0UsTUFBTSxDQUFDckIsb0RBQU9BLENBQUNnQjtJQUNwQkcsS0FBS0UsTUFBTSxDQUFDLElBQUlFLFdBQVc7UUFBQ047S0FBTTtJQUNsQyxPQUFPRSxLQUFLSyxNQUFNO0FBQ3BCO0FBQ0EsSUFBSUMsYUFBNkIsYUFBSCxHQUFJLEVBQUNDO0lBQ2pDQSxXQUFXLENBQUNBLFdBQVcsQ0FBQyxzQkFBc0IsR0FBRyxFQUFFLEdBQUc7SUFDdERBLFdBQVcsQ0FBQ0EsV0FBVyxDQUFDLE1BQU0sR0FBRyxFQUFFLEdBQUc7SUFDdEMsT0FBT0E7QUFDVCxHQUFHRCxjQUFjLENBQUM7QUFDbEIsU0FBU0UsSUFBSUMsT0FBTztJQUNsQixPQUFRQTtRQUNOLEtBQUssRUFBRSx1QkFBdUI7WUFDNUIsT0FBTyxJQUFJTCxXQUFXO2dCQUFDO2FBQUU7UUFDM0IsS0FBSyxFQUFFLE9BQU87WUFDWixPQUFPLElBQUlBLFdBQVc7Z0JBQUM7YUFBRTtRQUMzQjtZQUNFLE1BQU0sSUFBSUwsTUFBTSxDQUFDLG9CQUFvQixFQUFFVSxRQUFRLENBQUM7SUFDcEQ7QUFDRjtBQUNBLFNBQVNDLFVBQVVELE9BQU8sRUFBRUUsT0FBTyxFQUFFQyxlQUFlLEVBQUVDLFNBQVMsRUFBRUMsVUFBVTtJQUN6RSxJQUFJRCxhQUFhLEtBQUtBLFlBQVk1Qiw2Q0FBTUEsRUFBRTtRQUN4QyxNQUFNLElBQUljLE1BQU0sQ0FBQyxrQkFBa0IsRUFBRWMsVUFBVSxDQUFDO0lBQ2xEO0lBQ0EsTUFBTWIsT0FBT2xCLHdEQUFRQSxDQUFDbUIsTUFBTTtJQUM1QkQsS0FBS0UsTUFBTSxDQUFDWjtJQUNaVSxLQUFLRSxNQUFNLENBQUNTO0lBQ1pYLEtBQUtFLE1BQU0sQ0FBQ00sSUFBSUM7SUFDaEJULEtBQUtFLE1BQU0sQ0FBQyxJQUFJRSxXQUFXO1FBQUNTO0tBQVU7SUFDdENELGdCQUFnQkcsT0FBTyxDQUFDLENBQUNDLFFBQVVoQixLQUFLRSxNQUFNLENBQUNjO0lBQy9DRixXQUFXQyxPQUFPLENBQUMsQ0FBQ0UsWUFBY2pCLEtBQUtFLE1BQU0sQ0FBQ3JCLG9EQUFPQSxDQUFDb0M7SUFDdEQsT0FBT2pCLEtBQUtLLE1BQU07QUFDcEI7QUFNRSxDQUNGLCtCQUErQiIsInNvdXJjZXMiOlsid2VicGFjazovL25vdGFzY2FtLXByb3RvY29sLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BteXN0ZW4rc2VhbEAwLjYuMF90eXBlc2NyaXB0QDUuOS4zL25vZGVfbW9kdWxlcy9AbXlzdGVuL3NlYWwvZGlzdC9lc20va2RmLmpzP2M0NWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZnJvbUhleCB9IGZyb20gXCJAbXlzdGVuL2Jjc1wiO1xuaW1wb3J0IHsgc2hhM18yNTYgfSBmcm9tIFwiQG5vYmxlL2hhc2hlcy9zaGEzXCI7XG5pbXBvcnQgeyBHMUVsZW1lbnQgfSBmcm9tIFwiLi9ibHMxMjM4MS5qc1wiO1xuaW1wb3J0IHsgZmxhdHRlbiwgTUFYX1U4IH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcbmNvbnN0IERTVCA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShcIlNVSS1TRUFMLUlCRS1CTFMxMjM4MS0wMFwiKTtcbmNvbnN0IEtERl9EU1QgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoXCJTVUktU0VBTC1JQkUtQkxTMTIzODEtSDItMDBcIik7XG5jb25zdCBERVJJVkVfS0VZX0RTVCA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShcIlNVSS1TRUFMLUlCRS1CTFMxMjM4MS1IMy0wMFwiKTtcbmZ1bmN0aW9uIGhhc2hUb0cxKGlkKSB7XG4gIHJldHVybiBHMUVsZW1lbnQuaGFzaFRvQ3VydmUoZmxhdHRlbihbRFNULCBpZF0pKTtcbn1cbmZ1bmN0aW9uIGtkZihlbGVtZW50LCBub25jZSwgaWQsIG9iamVjdElkLCBpbmRleCkge1xuICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gTUFYX1U4KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGluZGV4ICR7aW5kZXh9YCk7XG4gIH1cbiAgY29uc3QgaGFzaCA9IHNoYTNfMjU2LmNyZWF0ZSgpO1xuICBoYXNoLnVwZGF0ZShLREZfRFNUKTtcbiAgaGFzaC51cGRhdGUoZWxlbWVudC50b0J5dGVzKCkpO1xuICBoYXNoLnVwZGF0ZShub25jZS50b0J5dGVzKCkpO1xuICBoYXNoLnVwZGF0ZShoYXNoVG9HMShpZCkudG9CeXRlcygpKTtcbiAgaGFzaC51cGRhdGUoZnJvbUhleChvYmplY3RJZCkpO1xuICBoYXNoLnVwZGF0ZShuZXcgVWludDhBcnJheShbaW5kZXhdKSk7XG4gIHJldHVybiBoYXNoLmRpZ2VzdCgpO1xufVxudmFyIEtleVB1cnBvc2UgPSAvKiBAX19QVVJFX18gKi8gKChLZXlQdXJwb3NlMikgPT4ge1xuICBLZXlQdXJwb3NlMltLZXlQdXJwb3NlMltcIkVuY3J5cHRlZFJhbmRvbW5lc3NcIl0gPSAwXSA9IFwiRW5jcnlwdGVkUmFuZG9tbmVzc1wiO1xuICBLZXlQdXJwb3NlMltLZXlQdXJwb3NlMltcIkRFTVwiXSA9IDFdID0gXCJERU1cIjtcbiAgcmV0dXJuIEtleVB1cnBvc2UyO1xufSkoS2V5UHVycG9zZSB8fCB7fSk7XG5mdW5jdGlvbiB0YWcocHVycG9zZSkge1xuICBzd2l0Y2ggKHB1cnBvc2UpIHtcbiAgICBjYXNlIDAgLyogRW5jcnlwdGVkUmFuZG9tbmVzcyAqLzpcbiAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMF0pO1xuICAgIGNhc2UgMSAvKiBERU0gKi86XG4gICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzFdKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGtleSBwdXJwb3NlICR7cHVycG9zZX1gKTtcbiAgfVxufVxuZnVuY3Rpb24gZGVyaXZlS2V5KHB1cnBvc2UsIGJhc2VLZXksIGVuY3J5cHRlZFNoYXJlcywgdGhyZXNob2xkLCBrZXlTZXJ2ZXJzKSB7XG4gIGlmICh0aHJlc2hvbGQgPD0gMCB8fCB0aHJlc2hvbGQgPiBNQVhfVTgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdGhyZXNob2xkICR7dGhyZXNob2xkfWApO1xuICB9XG4gIGNvbnN0IGhhc2ggPSBzaGEzXzI1Ni5jcmVhdGUoKTtcbiAgaGFzaC51cGRhdGUoREVSSVZFX0tFWV9EU1QpO1xuICBoYXNoLnVwZGF0ZShiYXNlS2V5KTtcbiAgaGFzaC51cGRhdGUodGFnKHB1cnBvc2UpKTtcbiAgaGFzaC51cGRhdGUobmV3IFVpbnQ4QXJyYXkoW3RocmVzaG9sZF0pKTtcbiAgZW5jcnlwdGVkU2hhcmVzLmZvckVhY2goKHNoYXJlKSA9PiBoYXNoLnVwZGF0ZShzaGFyZSkpO1xuICBrZXlTZXJ2ZXJzLmZvckVhY2goKGtleVNlcnZlcikgPT4gaGFzaC51cGRhdGUoZnJvbUhleChrZXlTZXJ2ZXIpKSk7XG4gIHJldHVybiBoYXNoLmRpZ2VzdCgpO1xufVxuZXhwb3J0IHtcbiAgS2V5UHVycG9zZSxcbiAgZGVyaXZlS2V5LFxuICBoYXNoVG9HMSxcbiAga2RmXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9a2RmLmpzLm1hcFxuIl0sIm5hbWVzIjpbImZyb21IZXgiLCJzaGEzXzI1NiIsIkcxRWxlbWVudCIsImZsYXR0ZW4iLCJNQVhfVTgiLCJEU1QiLCJUZXh0RW5jb2RlciIsImVuY29kZSIsIktERl9EU1QiLCJERVJJVkVfS0VZX0RTVCIsImhhc2hUb0cxIiwiaWQiLCJoYXNoVG9DdXJ2ZSIsImtkZiIsImVsZW1lbnQiLCJub25jZSIsIm9iamVjdElkIiwiaW5kZXgiLCJFcnJvciIsImhhc2giLCJjcmVhdGUiLCJ1cGRhdGUiLCJ0b0J5dGVzIiwiVWludDhBcnJheSIsImRpZ2VzdCIsIktleVB1cnBvc2UiLCJLZXlQdXJwb3NlMiIsInRhZyIsInB1cnBvc2UiLCJkZXJpdmVLZXkiLCJiYXNlS2V5IiwiZW5jcnlwdGVkU2hhcmVzIiwidGhyZXNob2xkIiwia2V5U2VydmVycyIsImZvckVhY2giLCJzaGFyZSIsImtleVNlcnZlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/kdf.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/key-server.js":
/*!*****************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/key-server.js ***!
  \*****************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BonehFranklinBLS12381DerivedKey: () => (/* binding */ BonehFranklinBLS12381DerivedKey),\n/* harmony export */   KeyServerType: () => (/* binding */ KeyServerType),\n/* harmony export */   SERVER_VERSION_REQUIREMENT: () => (/* binding */ SERVER_VERSION_REQUIREMENT),\n/* harmony export */   fetchKeysForAllIds: () => (/* binding */ fetchKeysForAllIds),\n/* harmony export */   retrieveKeyServers: () => (/* binding */ retrieveKeyServers),\n/* harmony export */   verifyKeyServer: () => (/* binding */ verifyKeyServer),\n/* harmony export */   verifyKeyServerVersion: () => (/* binding */ verifyKeyServerVersion)\n/* harmony export */ });\n/* harmony import */ var _mysten_bcs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mysten/bcs */ \"(ssr)/./node_modules/.pnpm/@mysten+bcs@1.8.0/node_modules/@mysten/bcs/dist/esm/bcs.js\");\n/* harmony import */ var _mysten_bcs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mysten/bcs */ \"(ssr)/./node_modules/.pnpm/@mysten+utils@0.2.0/node_modules/@mysten/utils/dist/esm/hex.js\");\n/* harmony import */ var _mysten_bcs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @mysten/bcs */ \"(ssr)/./node_modules/.pnpm/@mysten+utils@0.2.0/node_modules/@mysten/utils/dist/esm/b64.js\");\n/* harmony import */ var _noble_curves_bls12_381__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @noble/curves/bls12-381 */ \"(ssr)/./node_modules/.pnpm/@noble+curves@1.9.7/node_modules/@noble/curves/esm/bls12-381.js\");\n/* harmony import */ var _bcs_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bcs.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/bcs.js\");\n/* harmony import */ var _error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./error.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/error.js\");\n/* harmony import */ var _ibe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ibe.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/ibe.js\");\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./version.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/version.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/utils.js\");\n/* harmony import */ var _elgamal_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./elgamal.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/elgamal.js\");\n\n\n\n\n\n\n\n\nconst EXPECTED_SERVER_VERSION = 1;\nvar KeyServerType = /* @__PURE__ */ ((KeyServerType2)=>{\n    KeyServerType2[KeyServerType2[\"BonehFranklinBLS12381\"] = 0] = \"BonehFranklinBLS12381\";\n    return KeyServerType2;\n})(KeyServerType || {});\nconst SERVER_VERSION_REQUIREMENT = new _utils_js__WEBPACK_IMPORTED_MODULE_0__.Version(\"0.4.1\");\nasync function retrieveKeyServers({ objectIds, client }) {\n    return await Promise.all(objectIds.map(async (objectId)=>{\n        const res = await client.core.getObject({\n            objectId\n        });\n        const ks = _bcs_js__WEBPACK_IMPORTED_MODULE_1__.KeyServerMove.parse(await res.object.content);\n        if (EXPECTED_SERVER_VERSION < Number(ks.firstVersion) || EXPECTED_SERVER_VERSION > Number(ks.lastVersion)) {\n            throw new _error_js__WEBPACK_IMPORTED_MODULE_2__.InvalidKeyServerVersionError(`Key server ${objectId} supports versions between ${ks.firstVersion} and ${ks.lastVersion} (inclusive), but SDK expects version ${EXPECTED_SERVER_VERSION}`);\n        }\n        const resVersionedKs = await client.core.getDynamicField({\n            parentId: objectId,\n            name: {\n                type: \"u64\",\n                bcs: _mysten_bcs__WEBPACK_IMPORTED_MODULE_3__.bcs.u64().serialize(EXPECTED_SERVER_VERSION).toBytes()\n            }\n        });\n        const ksVersioned = _bcs_js__WEBPACK_IMPORTED_MODULE_1__.KeyServerMoveV1.parse(resVersionedKs.dynamicField.value.bcs);\n        if (ksVersioned.keyType !== 0 /* BonehFranklinBLS12381 */ ) {\n            throw new _error_js__WEBPACK_IMPORTED_MODULE_2__.InvalidKeyServerError(`Server ${objectId} has invalid key type: ${ksVersioned.keyType}`);\n        }\n        return {\n            objectId,\n            name: ksVersioned.name,\n            url: ksVersioned.url,\n            keyType: ksVersioned.keyType,\n            pk: new Uint8Array(ksVersioned.pk)\n        };\n    }));\n}\nasync function verifyKeyServer(server, timeout, apiKeyName, apiKey) {\n    const requestId = crypto.randomUUID();\n    const response = await fetch(server.url + \"/v1/service?service_id=\" + server.objectId, {\n        method: \"GET\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Request-Id\": requestId,\n            \"Client-Sdk-Type\": \"typescript\",\n            \"Client-Sdk-Version\": _version_js__WEBPACK_IMPORTED_MODULE_4__.PACKAGE_VERSION,\n            ...apiKeyName && apiKey ? {\n                [apiKeyName]: apiKey\n            } : {}\n        },\n        signal: AbortSignal.timeout(timeout)\n    });\n    await _error_js__WEBPACK_IMPORTED_MODULE_2__.SealAPIError.assertResponse(response, requestId);\n    verifyKeyServerVersion(response);\n    const serviceResponse = await response.json();\n    if (serviceResponse.service_id !== server.objectId) {\n        return false;\n    }\n    const fullMsg = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.flatten)([\n        _ibe_js__WEBPACK_IMPORTED_MODULE_5__.DST_POP,\n        server.pk,\n        (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_6__.fromHex)(server.objectId)\n    ]);\n    return _noble_curves_bls12_381__WEBPACK_IMPORTED_MODULE_7__.bls12_381.verifyShortSignature((0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_8__.fromBase64)(serviceResponse.pop), fullMsg, server.pk);\n}\nfunction verifyKeyServerVersion(response) {\n    const keyServerVersion = response.headers.get(\"X-KeyServer-Version\");\n    if (keyServerVersion == null) {\n        throw new _error_js__WEBPACK_IMPORTED_MODULE_2__.InvalidKeyServerVersionError(\"Key server version not found\");\n    }\n    if (new _utils_js__WEBPACK_IMPORTED_MODULE_0__.Version(keyServerVersion).older_than(SERVER_VERSION_REQUIREMENT)) {\n        throw new _error_js__WEBPACK_IMPORTED_MODULE_2__.InvalidKeyServerVersionError(`Key server version ${keyServerVersion} is not supported`);\n    }\n}\nclass BonehFranklinBLS12381DerivedKey {\n    constructor(key){\n        this.key = key;\n        this.representation = (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_6__.toHex)(key.toBytes());\n    }\n    toString() {\n        return this.representation;\n    }\n}\nasync function fetchKeysForAllIds({ url, requestSignature, transactionBytes, encKey, encKeyPk, encVerificationKey, certificate, timeout, apiKeyName, apiKey, signal }) {\n    const body = {\n        ptb: (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_8__.toBase64)(transactionBytes.slice(1)),\n        // removes the byte of the transaction type version\n        enc_key: (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_8__.toBase64)(encKeyPk),\n        enc_verification_key: (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_8__.toBase64)(encVerificationKey),\n        request_signature: requestSignature,\n        // already b64\n        certificate\n    };\n    const timeoutSignal = AbortSignal.timeout(timeout);\n    const combinedSignal = signal ? AbortSignal.any([\n        signal,\n        timeoutSignal\n    ]) : timeoutSignal;\n    const requestId = crypto.randomUUID();\n    const response = await fetch(url + \"/v1/fetch_key\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Request-Id\": requestId,\n            \"Client-Sdk-Type\": \"typescript\",\n            \"Client-Sdk-Version\": _version_js__WEBPACK_IMPORTED_MODULE_4__.PACKAGE_VERSION,\n            ...apiKeyName && apiKey ? {\n                [apiKeyName]: apiKey\n            } : {}\n        },\n        body: JSON.stringify(body),\n        signal: combinedSignal\n    });\n    await _error_js__WEBPACK_IMPORTED_MODULE_2__.SealAPIError.assertResponse(response, requestId);\n    const resp = await response.json();\n    verifyKeyServerVersion(response);\n    return resp.decryption_keys.map((dk)=>({\n            fullId: (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_6__.toHex)(dk.id),\n            key: (0,_elgamal_js__WEBPACK_IMPORTED_MODULE_9__.elgamalDecrypt)(encKey, dk.encrypted_key.map(_mysten_bcs__WEBPACK_IMPORTED_MODULE_8__.fromBase64))\n        }));\n}\n //# sourceMappingURL=key-server.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG15c3RlbitzZWFsQDAuNi4wX3R5cGVzY3JpcHRANS45LjMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc2VhbC9kaXN0L2VzbS9rZXktc2VydmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdFO0FBQ3BCO0FBQ007QUFDcUM7QUFDNUQ7QUFDWTtBQUNEO0FBQ0E7QUFDOUMsTUFBTWdCLDBCQUEwQjtBQUNoQyxJQUFJQyxnQkFBZ0MsYUFBSCxHQUFJLEVBQUNDO0lBQ3BDQSxjQUFjLENBQUNBLGNBQWMsQ0FBQyx3QkFBd0IsR0FBRyxFQUFFLEdBQUc7SUFDOUQsT0FBT0E7QUFDVCxHQUFHRCxpQkFBaUIsQ0FBQztBQUNyQixNQUFNRSw2QkFBNkIsSUFBSUwsOENBQU9BLENBQUM7QUFDL0MsZUFBZU0sbUJBQW1CLEVBQ2hDQyxTQUFTLEVBQ1RDLE1BQU0sRUFDUDtJQUNDLE9BQU8sTUFBTUMsUUFBUUMsR0FBRyxDQUN0QkgsVUFBVUksR0FBRyxDQUFDLE9BQU9DO1FBQ25CLE1BQU1DLE1BQU0sTUFBTUwsT0FBT00sSUFBSSxDQUFDQyxTQUFTLENBQUM7WUFDdENIO1FBQ0Y7UUFDQSxNQUFNSSxLQUFLeEIsa0RBQWFBLENBQUN5QixLQUFLLENBQUMsTUFBTUosSUFBSUssTUFBTSxDQUFDQyxPQUFPO1FBQ3ZELElBQUlqQiwwQkFBMEJrQixPQUFPSixHQUFHSyxZQUFZLEtBQUtuQiwwQkFBMEJrQixPQUFPSixHQUFHTSxXQUFXLEdBQUc7WUFDekcsTUFBTSxJQUFJM0IsbUVBQTRCQSxDQUNwQyxDQUFDLFdBQVcsRUFBRWlCLFNBQVMsMkJBQTJCLEVBQUVJLEdBQUdLLFlBQVksQ0FBQyxLQUFLLEVBQUVMLEdBQUdNLFdBQVcsQ0FBQyxzQ0FBc0MsRUFBRXBCLHdCQUF3QixDQUFDO1FBRS9KO1FBQ0EsTUFBTXFCLGlCQUFpQixNQUFNZixPQUFPTSxJQUFJLENBQUNVLGVBQWUsQ0FBQztZQUN2REMs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QUNpRixpQkFBaUJPLEtBQUssQ0FBQztRQUNyQyxtREFBbUQ7UUFDbkRDLFNBQVN6RixxREFBUUEsQ0FBQ21GO1FBQ2xCTyxzQkFBc0IxRixxREFBUUEsQ0FBQ29GO1FBQy9CTyxtQkFBbUJYO1FBQ25CLGNBQWM7UUFDZEs7SUFDRjtJQUNBLE1BQU1PLGdCQUFnQjlCLFlBQVlYLE9BQU8sQ0FBQ0E7SUFDMUMsTUFBTTBDLGlCQUFpQmhDLFNBQVNDLFlBQVlnQyxHQUFHLENBQUM7UUFBQ2pDO1FBQVErQjtLQUFjLElBQUlBO0lBQzNFLE1BQU10QyxZQUFZQyxPQUFPQyxVQUFVO0lBQ25DLE1BQU1DLFdBQVcsTUFBTUMsTUFBTVosTUFBTSxpQkFBaUI7UUFDbERhLFFBQVE7UUFDUkMsU0FBUztZQUNQLGdCQUFnQjtZQUNoQixjQUFjTjtZQUNkLG1CQUFtQjtZQUNuQixzQkFBc0I3Qyx3REFBZUE7WUFDckMsR0FBRzJDLGNBQWNDLFNBQVM7Z0JBQUUsQ0FBQ0QsV0FBVyxFQUFFQztZQUFPLElBQUksQ0FBQyxDQUFDO1FBQ3pEO1FBQ0FpQyxNQUFNUyxLQUFLQyxTQUFTLENBQUNWO1FBQ3JCekIsUUFBUWdDO0lBQ1Y7SUFDQSxNQUFNdEYsbURBQVlBLENBQUN3RCxjQUFjLENBQUNOLFVBQVVIO0lBQzVDLE1BQU0yQyxPQUFPLE1BQU14QyxTQUFTUyxJQUFJO0lBQ2hDRix1QkFBdUJQO0lBQ3ZCLE9BQU93QyxLQUFLQyxlQUFlLENBQUM1RSxHQUFHLENBQzdCLENBQUM2RSxLQUFRO1lBQ1BDLFFBQVFuRyxrREFBS0EsQ0FBQ2tHLEdBQUdFLEVBQUU7WUFDbkJ6QixLQUFLaEUsMkRBQWNBLENBQUNzRSxRQUFRaUIsR0FBR0csYUFBYSxDQUFDaEYsR0FBRyxDQUFDeEIsbURBQVVBO1FBQzdEO0FBRUo7QUFTRSxDQUNGLHNDQUFzQyIsInNvdXJjZXMiOlsid2VicGFjazovL25vdGFzY2FtLXByb3RvY29sLy4vbm9kZV9tb2R1bGVzLy5wbnBtL0BteXN0ZW4rc2VhbEAwLjYuMF90eXBlc2NyaXB0QDUuOS4zL25vZGVfbW9kdWxlcy9AbXlzdGVuL3NlYWwvZGlzdC9lc20va2V5LXNlcnZlci5qcz81NjAyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGJjcywgZnJvbUJhc2U2NCwgZnJvbUhleCwgdG9CYXNlNjQsIHRvSGV4IH0gZnJvbSBcIkBteXN0ZW4vYmNzXCI7XG5pbXBvcnQgeyBibHMxMl8zODEgfSBmcm9tIFwiQG5vYmxlL2N1cnZlcy9ibHMxMi0zODFcIjtcbmltcG9ydCB7IEtleVNlcnZlck1vdmUsIEtleVNlcnZlck1vdmVWMSB9IGZyb20gXCIuL2Jjcy5qc1wiO1xuaW1wb3J0IHsgSW52YWxpZEtleVNlcnZlckVycm9yLCBJbnZhbGlkS2V5U2VydmVyVmVyc2lvbkVycm9yLCBTZWFsQVBJRXJyb3IgfSBmcm9tIFwiLi9lcnJvci5qc1wiO1xuaW1wb3J0IHsgRFNUX1BPUCB9IGZyb20gXCIuL2liZS5qc1wiO1xuaW1wb3J0IHsgUEFDS0FHRV9WRVJTSU9OIH0gZnJvbSBcIi4vdmVyc2lvbi5qc1wiO1xuaW1wb3J0IHsgZmxhdHRlbiwgVmVyc2lvbiB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBlbGdhbWFsRGVjcnlwdCB9IGZyb20gXCIuL2VsZ2FtYWwuanNcIjtcbmNvbnN0IEVYUEVDVEVEX1NFUlZFUl9WRVJTSU9OID0gMTtcbnZhciBLZXlTZXJ2ZXJUeXBlID0gLyogQF9fUFVSRV9fICovICgoS2V5U2VydmVyVHlwZTIpID0+IHtcbiAgS2V5U2VydmVyVHlwZTJbS2V5U2VydmVyVHlwZTJbXCJCb25laEZyYW5rbGluQkxTMTIzODFcIl0gPSAwXSA9IFwiQm9uZWhGcmFua2xpbkJMUzEyMzgxXCI7XG4gIHJldHVybiBLZXlTZXJ2ZXJUeXBlMjtcbn0pKEtleVNlcnZlclR5cGUgfHwge30pO1xuY29uc3QgU0VSVkVSX1ZFUlNJT05fUkVRVUlSRU1FTlQgPSBuZXcgVmVyc2lvbihcIjAuNC4xXCIpO1xuYXN5bmMgZnVuY3Rpb24gcmV0cmlldmVLZXlTZXJ2ZXJzKHtcbiAgb2JqZWN0SWRzLFxuICBjbGllbnRcbn0pIHtcbiAgcmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKFxuICAgIG9iamVjdElkcy5tYXAoYXN5bmMgKG9iamVjdElkKSA9PiB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBjbGllbnQuY29yZS5nZXRPYmplY3Qoe1xuICAgICAgICBvYmplY3RJZFxuICAgICAgfSk7XG4gICAgICBjb25zdCBrcyA9IEtleVNlcnZlck1vdmUucGFyc2UoYXdhaXQgcmVzLm9iamVjdC5jb250ZW50KTtcbiAgICAgIGlmIChFWFBFQ1RFRF9TRVJWRVJfVkVSU0lPTiA8IE51bWJlcihrcy5maXJzdFZlcnNpb24pIHx8IEVYUEVDVEVEX1NFUlZFUl9WRVJTSU9OID4gTnVtYmVyKGtzLmxhc3RWZXJzaW9uKSkge1xuICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEtleVNlcnZlclZlcnNpb25FcnJvcihcbiAgICAgICAgICBgS2V5IHNlcnZlciAke29iamVjdElkfSBzdXBwb3J0cyB2ZXJzaW9ucyBiZXR3ZWVuICR7a3MuZmlyc3RWZXJzaW9ufSBhbmQgJHtrcy5sYXN0VmVyc2lvbn0gKGluY2x1c2l2ZSksIGJ1dCBTREsgZXhwZWN0cyB2ZXJzaW9uICR7RVhQRUNURURfU0VSVkVSX1ZFUlNJT059YFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzVmVyc2lvbmVkS3MgPSBhd2FpdCBjbGllbnQuY29yZS5nZXREeW5hbWljRmllbGQoe1xuICAgICAgICBwYXJlbnRJZDogb2JqZWN0SWQsXG4gICAgICAgIG5hbWU6IHtcbiAgICAgICAgICB0eXBlOiBcInU2NFwiLFxuICAgICAgICAgIGJjczogYmNzLnU2NCgpLnNlcmlhbGl6ZShFWFBFQ1RFRF9TRVJWRVJfVkVSU0lPTikudG9CeXRlcygpXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3Qga3NWZXJzaW9uZWQgPSBLZXlTZXJ2ZXJNb3ZlVjEucGFyc2UocmVzVmVyc2lvbmVkS3MuZHluYW1pY0ZpZWxkLnZhbHVlLmJjcyk7XG4gICAgICBpZiAoa3NWZXJzaW9uZWQua2V5VHlwZSAhPT0gMCAvKiBCb25laEZyYW5rbGluQkxTMTIzODEgKi8pIHtcbiAgICAgICAgdGhyb3cgbmV3IEludmFsaWRLZXlTZXJ2ZXJFcnJvcihcbiAgICAgICAgICBgU2VydmVyICR7b2JqZWN0SWR9IGhhcyBpbnZhbGlkIGtleSB0eXBlOiAke2tzVmVyc2lvbmVkLmtleVR5cGV9YFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgb2JqZWN0SWQsXG4gICAgICAgIG5hbWU6IGtzVmVyc2lvbmVkLm5hbWUsXG4gICAgICAgIHVybDoga3NWZXJzaW9uZWQudXJsLFxuICAgICAgICBrZXlUeXBlOiBrc1ZlcnNpb25lZC5rZXlUeXBlLFxuICAgICAgICBwazogbmV3IFVpbnQ4QXJyYXkoa3NWZXJzaW9uZWQucGspXG4gICAgICB9O1xuICAgIH0pXG4gICk7XG59XG5hc3luYyBmdW5jdGlvbiB2ZXJpZnlLZXlTZXJ2ZXIoc2VydmVyLCB0aW1lb3V0LCBhcGlLZXlOYW1lLCBhcGlLZXkpIHtcbiAgY29uc3QgcmVxdWVzdElkID0gY3J5cHRvLnJhbmRvbVVVSUQoKTtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChzZXJ2ZXIudXJsICsgXCIvdjEvc2VydmljZT9zZXJ2aWNlX2lkPVwiICsgc2VydmVyLm9iamVjdElkLCB7XG4gICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgXCJSZXF1ZXN0LUlkXCI6IHJlcXVlc3RJZCxcbiAgICAgIFwiQ2xpZW50LVNkay1UeXBlXCI6IFwidHlwZXNjcmlwdFwiLFxuICAgICAgXCJDbGllbnQtU2RrLVZlcnNpb25cIjogUEFDS0FHRV9WRVJTSU9OLFxuICAgICAgLi4uYXBpS2V5TmFtZSAmJiBhcGlLZXkgPyB7IFthcGlLZXlOYW1lXTogYXBpS2V5IH0gOiB7fVxuICAgIH0sXG4gICAgc2lnbmFsOiBBYm9ydFNpZ25hbC50aW1lb3V0KHRpbWVvdXQpXG4gIH0pO1xuICBhd2FpdCBTZWFsQVBJRXJyb3IuYXNzZXJ0UmVzcG9uc2UocmVzcG9uc2UsIHJlcXVlc3RJZCk7XG4gIHZlcmlmeUtleVNlcnZlclZlcnNpb24ocmVzcG9uc2UpO1xuICBjb25zdCBzZXJ2aWNlUmVzcG9uc2UgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIGlmIChzZXJ2aWNlUmVzcG9uc2Uuc2VydmljZV9pZCAhPT0gc2VydmVyLm9iamVjdElkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGZ1bGxNc2cgPSBmbGF0dGVuKFtEU1RfUE9QLCBzZXJ2ZXIucGssIGZyb21IZXgoc2VydmVyLm9iamVjdElkKV0pO1xuICByZXR1cm4gYmxzMTJfMzgxLnZlcmlmeVNob3J0U2lnbmF0dXJlKGZyb21CYXNlNjQoc2VydmljZVJlc3BvbnNlLnBvcCksIGZ1bGxNc2csIHNlcnZlci5wayk7XG59XG5mdW5jdGlvbiB2ZXJpZnlLZXlTZXJ2ZXJWZXJzaW9uKHJlc3BvbnNlKSB7XG4gIGNvbnN0IGtleVNlcnZlclZlcnNpb24gPSByZXNwb25zZS5oZWFkZXJzLmdldChcIlgtS2V5U2VydmVyLVZlcnNpb25cIik7XG4gIGlmIChrZXlTZXJ2ZXJWZXJzaW9uID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZEtleVNlcnZlclZlcnNpb25FcnJvcihcIktleSBzZXJ2ZXIgdmVyc2lvbiBub3QgZm91bmRcIik7XG4gIH1cbiAgaWYgKG5ldyBWZXJzaW9uKGtleVNlcnZlclZlcnNpb24pLm9sZGVyX3RoYW4oU0VSVkVSX1ZFUlNJT05fUkVRVUlSRU1FTlQpKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRLZXlTZXJ2ZXJWZXJzaW9uRXJyb3IoXG4gICAgICBgS2V5IHNlcnZlciB2ZXJzaW9uICR7a2V5U2VydmVyVmVyc2lvbn0gaXMgbm90IHN1cHBvcnRlZGBcbiAgICApO1xuICB9XG59XG5jbGFzcyBCb25laEZyYW5rbGluQkxTMTIzODFEZXJpdmVkS2V5IHtcbiAgY29uc3RydWN0b3Ioa2V5KSB7XG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgdGhpcy5yZXByZXNlbnRhdGlvbiA9IHRvSGV4KGtleS50b0J5dGVzKCkpO1xuICB9XG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLnJlcHJlc2VudGF0aW9uO1xuICB9XG59XG5hc3luYyBmdW5jdGlvbiBmZXRjaEtleXNGb3JBbGxJZHMoe1xuICB1cmwsXG4gIHJlcXVlc3RTaWduYXR1cmUsXG4gIHRyYW5zYWN0aW9uQnl0ZXMsXG4gIGVuY0tleSxcbiAgZW5jS2V5UGssXG4gIGVuY1ZlcmlmaWNhdGlvbktleSxcbiAgY2VydGlmaWNhdGUsXG4gIHRpbWVvdXQsXG4gIGFwaUtleU5hbWUsXG4gIGFwaUtleSxcbiAgc2lnbmFsXG59KSB7XG4gIGNvbnN0IGJvZHkgPSB7XG4gICAgcHRiOiB0b0Jhc2U2NCh0cmFuc2FjdGlvbkJ5dGVzLnNsaWNlKDEpKSxcbiAgICAvLyByZW1vdmVzIHRoZSBieXRlIG9mIHRoZSB0cmFuc2FjdGlvbiB0eXBlIHZlcnNpb25cbiAgICBlbmNfa2V5OiB0b0Jhc2U2NChlbmNLZXlQayksXG4gICAgZW5jX3ZlcmlmaWNhdGlvbl9rZXk6IHRvQmFzZTY0KGVuY1ZlcmlmaWNhdGlvbktleSksXG4gICAgcmVxdWVzdF9zaWduYXR1cmU6IHJlcXVlc3RTaWduYXR1cmUsXG4gICAgLy8gYWxyZWFkeSBiNjRcbiAgICBjZXJ0aWZpY2F0ZVxuICB9O1xuICBjb25zdCB0aW1lb3V0U2lnbmFsID0gQWJvcnRTaWduYWwudGltZW91dCh0aW1lb3V0KTtcbiAgY29uc3QgY29tYmluZWRTaWduYWwgPSBzaWduYWwgPyBBYm9ydFNpZ25hbC5hbnkoW3NpZ25hbCwgdGltZW91dFNpZ25hbF0pIDogdGltZW91dFNpZ25hbDtcbiAgY29uc3QgcmVxdWVzdElkID0gY3J5cHRvLnJhbmRvbVVVSUQoKTtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwgKyBcIi92MS9mZXRjaF9rZXlcIiwge1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgaGVhZGVyczoge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICBcIlJlcXVlc3QtSWRcIjogcmVxdWVzdElkLFxuICAgICAgXCJDbGllbnQtU2RrLVR5cGVcIjogXCJ0eXBlc2NyaXB0XCIsXG4gICAgICBcIkNsaWVudC1TZGstVmVyc2lvblwiOiBQQUNLQUdFX1ZFUlNJT04sXG4gICAgICAuLi5hcGlLZXlOYW1lICYmIGFwaUtleSA/IHsgW2FwaUtleU5hbWVdOiBhcGlLZXkgfSA6IHt9XG4gICAgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICBzaWduYWw6IGNvbWJpbmVkU2lnbmFsXG4gIH0pO1xuICBhd2FpdCBTZWFsQVBJRXJyb3IuYXNzZXJ0UmVzcG9uc2UocmVzcG9uc2UsIHJlcXVlc3RJZCk7XG4gIGNvbnN0IHJlc3AgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIHZlcmlmeUtleVNlcnZlclZlcnNpb24ocmVzcG9uc2UpO1xuICByZXR1cm4gcmVzcC5kZWNyeXB0aW9uX2tleXMubWFwKFxuICAgIChkaykgPT4gKHtcbiAgICAgIGZ1bGxJZDogdG9IZXgoZGsuaWQpLFxuICAgICAga2V5OiBlbGdhbWFsRGVjcnlwdChlbmNLZXksIGRrLmVuY3J5cHRlZF9rZXkubWFwKGZyb21CYXNlNjQpKVxuICAgIH0pXG4gICk7XG59XG5leHBvcnQge1xuICBCb25laEZyYW5rbGluQkxTMTIzODFEZXJpdmVkS2V5LFxuICBLZXlTZXJ2ZXJUeXBlLFxuICBTRVJWRVJfVkVSU0lPTl9SRVFVSVJFTUVOVCxcbiAgZmV0Y2hLZXlzRm9yQWxsSWRzLFxuICByZXRyaWV2ZUtleVNlcnZlcnMsXG4gIHZlcmlmeUtleVNlcnZlcixcbiAgdmVyaWZ5S2V5U2VydmVyVmVyc2lvblxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtleS1zZXJ2ZXIuanMubWFwXG4iXSwibmFtZXMiOlsiYmNzIiwiZnJvbUJhc2U2NCIsImZyb21IZXgiLCJ0b0Jhc2U2NCIsInRvSGV4IiwiYmxzMTJfMzgxIiwiS2V5U2VydmVyTW92ZSIsIktleVNlcnZlck1vdmVWMSIsIkludmFsaWRLZXlTZXJ2ZXJFcnJvciIsIkludmFsaWRLZXlTZXJ2ZXJWZXJzaW9uRXJyb3IiLCJTZWFsQVBJRXJyb3IiLCJEU1RfUE9QIiwiUEFDS0FHRV9WRVJTSU9OIiwiZmxhdHRlbiIsIlZlcnNpb24iLCJlbGdhbWFsRGVjcnlwdCIsIkVYUEVDVEVEX1NFUlZFUl9WRVJTSU9OIiwiS2V5U2VydmVyVHlwZSIsIktleVNlcnZlclR5cGUyIiwiU0VSVkVSX1ZFUlNJT05fUkVRVUlSRU1FTlQiLCJyZXRyaWV2ZUtleVNlcnZlcnMiLCJvYmplY3RJZHMiLCJjbGllbnQiLCJQcm9taXNlIiwiYWxsIiwibWFwIiwib2JqZWN0SWQiLCJyZXMiLCJjb3JlIiwiZ2V0T2JqZWN0Iiwia3MiLCJwYXJzZSIsIm9iamVjdCIsImNvbnRlbnQiLCJOdW1iZXIiLCJmaXJzdFZlcnNpb24iLCJsYXN0VmVyc2lvbiIsInJlc1ZlcnNpb25lZEtzIiwiZ2V0RHluYW1pY0ZpZWxkIiwicGFyZW50SWQiLCJuYW1lIiwidHlwZSIsInU2NCIsInNlcmlhbGl6ZSIsInRvQnl0ZXMiLCJrc1ZlcnNpb25lZCIsImR5bmFtaWNGaWVsZCIsInZhbHVlIiwia2V5VHlwZSIsInVybCIsInBrIiwiVWludDhBcnJheSIsInZlcmlmeUtleVNlcnZlciIsInNlcnZlciIsInRpbWVvdXQiLCJhcGlLZXlOYW1lIiwiYXBpS2V5IiwicmVxdWVzdElkIiwiY3J5cHRvIiwicmFuZG9tVVVJRCIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwic2lnbmFsIiwiQWJvcnRTaWduYWwiLCJhc3NlcnRSZXNwb25zZSIsInZlcmlmeUtleVNlcnZlclZlcnNpb24iLCJzZXJ2aWNlUmVzcG9uc2UiLCJqc29uIiwic2VydmljZV9pZCIsImZ1bGxNc2ciLCJ2ZXJpZnlTaG9ydFNpZ25hdHVyZSIsInBvcCIsImtleVNlcnZlclZlcnNpb24iLCJnZXQiLCJvbGRlcl90aGFuIiwiQm9uZWhGcmFua2xpbkJMUzEyMzgxRGVyaXZlZEtleSIsImNvbnN0cnVjdG9yIiwia2V5IiwicmVwcmVzZW50YXRpb24iLCJ0b1N0cmluZyIsImZldGNoS2V5c0ZvckFsbElkcyIsInJlcXVlc3RTaWduYXR1cmUiLCJ0cmFuc2FjdGlvbkJ5dGVzIiwiZW5jS2V5IiwiZW5jS2V5UGsiLCJlbmNWZXJpZmljYXRpb25LZXkiLCJjZXJ0aWZpY2F0ZSIsImJvZHkiLCJwdGIiLCJzbGljZSIsImVuY19rZXkiLCJlbmNfdmVyaWZpY2F0aW9uX2tleSIsInJlcXVlc3Rfc2lnbmF0dXJlIiwidGltZW91dFNpZ25hbCIsImNvbWJpbmVkU2lnbmFsIiwiYW55IiwiSlNPTiIsInN0cmluZ2lmeSIsInJlc3AiLCJkZWNyeXB0aW9uX2tleXMiLCJkayIsImZ1bGxJZCIsImlkIiwiZW5jcnlwdGVkX2tleSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/key-server.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/session-key.js":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/session-key.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RequestFormat: () => (/* binding */ RequestFormat),\n/* harmony export */   SessionKey: () => (/* binding */ SessionKey)\n/* harmony export */ });\n/* harmony import */ var _mysten_bcs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mysten/bcs */ \"(ssr)/./node_modules/.pnpm/@mysten+utils@0.2.0/node_modules/@mysten/utils/dist/esm/b64.js\");\n/* harmony import */ var _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @mysten/sui/bcs */ \"(ssr)/./node_modules/.pnpm/@mysten+sui@1.38.0_typescript@5.9.3/node_modules/@mysten/sui/dist/esm/bcs/index.js\");\n/* harmony import */ var _mysten_sui_keypairs_ed25519__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mysten/sui/keypairs/ed25519 */ \"(ssr)/./node_modules/.pnpm/@mysten+sui@1.38.0_typescript@5.9.3/node_modules/@mysten/sui/dist/esm/keypairs/ed25519/keypair.js\");\n/* harmony import */ var _mysten_sui_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @mysten/sui/utils */ \"(ssr)/./node_modules/.pnpm/@mysten+sui@1.38.0_typescript@5.9.3/node_modules/@mysten/sui/dist/esm/utils/move-registry.js\");\n/* harmony import */ var _mysten_sui_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mysten/sui/utils */ \"(ssr)/./node_modules/.pnpm/@mysten+sui@1.38.0_typescript@5.9.3/node_modules/@mysten/sui/dist/esm/utils/sui-types.js\");\n/* harmony import */ var _mysten_sui_verify__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @mysten/sui/verify */ \"(ssr)/./node_modules/.pnpm/@mysten+sui@1.38.0_typescript@5.9.3/node_modules/@mysten/sui/dist/esm/verify/verify.js\");\n/* harmony import */ var _elgamal_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./elgamal.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/elgamal.js\");\n/* harmony import */ var _error_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./error.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/error.js\");\nvar __typeError = (msg)=>{\n    throw TypeError(msg);\n};\nvar __accessCheck = (obj, member, msg)=>member.has(obj) || __typeError(\"Cannot \" + msg);\nvar __privateGet = (obj, member, getter)=>(__accessCheck(obj, member, \"read from private field\"), getter ? getter.call(obj) : member.get(obj));\nvar __privateAdd = (obj, member, value)=>member.has(obj) ? __typeError(\"Cannot add the same private member more than once\") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\nvar __privateSet = (obj, member, value, setter)=>(__accessCheck(obj, member, \"write to private field\"), setter ? setter.call(obj, value) : member.set(obj, value), value);\nvar _address, _packageId, _mvrName, _creationTimeMs, _ttlMin, _sessionKey, _personalMessageSignature, _signer, _suiClient;\n\n\n\n\n\n\n\nconst RequestFormat = _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.struct(\"RequestFormat\", {\n    ptb: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(_mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8()),\n    encKey: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(_mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8()),\n    encVerificationKey: _mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.vector(_mysten_sui_bcs__WEBPACK_IMPORTED_MODULE_0__.bcs.u8())\n});\nconst _SessionKey = class _SessionKey {\n    constructor({ address, packageId, mvrName, ttlMin, signer, suiClient }){\n        __privateAdd(this, _address);\n        __privateAdd(this, _packageId);\n        __privateAdd(this, _mvrName);\n        __privateAdd(this, _creationTimeMs);\n        __privateAdd(this, _ttlMin);\n        __privateAdd(this, _sessionKey);\n        __privateAdd(this, _personalMessageSignature);\n        __privateAdd(this, _signer);\n        __privateAdd(this, _suiClient);\n        if (mvrName && !(0,_mysten_sui_utils__WEBPACK_IMPORTED_MODULE_1__.isValidNamedPackage)(mvrName)) {\n            throw new _error_js__WEBPACK_IMPORTED_MODULE_2__.UserError(`Invalid package name ${mvrName}`);\n        }\n        if (!(0,_mysten_sui_utils__WEBPACK_IMPORTED_MODULE_3__.isValidSuiObjectId)(packageId) || !(0,_mysten_sui_utils__WEBPACK_IMPORTED_MODULE_3__.isValidSuiAddress)(address)) {\n            throw new _error_js__WEBPACK_IMPORTED_MODULE_2__.UserError(`Invalid package ID ${packageId} or address ${address}`);\n        }\n        if (ttlMin > 30 || ttlMin < 1) {\n            throw new _error_js__WEBPACK_IMPORTED_MODULE_2__.UserError(`Invalid TTL ${ttlMin}, must be between 1 and 30`);\n        }\n        if (signer && signer.getPublicKey().toSuiAddress() !== address) {\n            throw new _error_js__WEBPACK_IMPORTED_MODULE_2__.UserError(\"Signer address does not match session key address\");\n        }\n        __privateSet(this, _address, address);\n        __privateSet(this, _packageId, packageId);\n        __privateSet(this, _mvrName, mvrName);\n        __privateSet(this, _creationTimeMs, Date.now());\n        __privateSet(this, _ttlMin, ttlMin);\n        __privateSet(this, _sessionKey, _mysten_sui_keypairs_ed25519__WEBPACK_IMPORTED_MODULE_4__.Ed25519Keypair.generate());\n        __privateSet(this, _signer, signer);\n        __privateSet(this, _suiClient, suiClient);\n    }\n    /**\n   * Create a new SessionKey instance.\n   * @param address - The address of the user.\n   * @param packageId - The ID of the package.\n   * @param mvrName - Optional. The name of the MVR, if there is one.\n   * @param ttlMin - The TTL in minutes.\n   * @param signer - Optional. The signer instance, e.g. EnokiSigner.\n   * @param suiClient - The Sui client.\n   * @returns A new SessionKey instance.\n   */ static async create({ address, packageId, mvrName, ttlMin, signer, suiClient }) {\n        const packageObj = await suiClient.core.getObject({\n            objectId: packageId\n        });\n        if (String(packageObj.object.version) !== \"1\") {\n            throw new _error_js__WEBPACK_IMPORTED_MODULE_2__.InvalidPackageError(`Package ${packageId} is not the first version`);\n        }\n        return new _SessionKey({\n            address,\n            packageId,\n            mvrName,\n            ttlMin,\n            signer,\n            suiClient\n        });\n    }\n    isExpired() {\n        return __privateGet(this, _creationTimeMs) + __privateGet(this, _ttlMin) * 60 * 1e3 - 1e4 < Date.now();\n    }\n    getAddress() {\n        return __privateGet(this, _address);\n    }\n    getPackageName() {\n        if (__privateGet(this, _mvrName)) {\n            return __privateGet(this, _mvrName);\n        }\n        return __privateGet(this, _packageId);\n    }\n    getPackageId() {\n        return __privateGet(this, _packageId);\n    }\n    getPersonalMessage() {\n        const creationTimeUtc = new Date(__privateGet(this, _creationTimeMs)).toISOString().slice(0, 19).replace(\"T\", \" \") + \" UTC\";\n        const message = `Accessing keys of package ${this.getPackageName()} for ${__privateGet(this, _ttlMin)} mins from ${creationTimeUtc}, session key ${(0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_5__.toBase64)(__privateGet(this, _sessionKey).getPublicKey().toRawBytes())}`;\n        return new TextEncoder().encode(message);\n    }\n    async setPersonalMessageSignature(personalMessageSignature) {\n        if (!__privateGet(this, _personalMessageSignature)) {\n            try {\n                await (0,_mysten_sui_verify__WEBPACK_IMPORTED_MODULE_6__.verifyPersonalMessageSignature)(this.getPersonalMessage(), personalMessageSignature, {\n                    address: __privateGet(this, _address),\n                    client: __privateGet(this, _suiClient)\n                });\n                __privateSet(this, _personalMessageSignature, personalMessageSignature);\n            } catch (e) {\n                throw new _error_js__WEBPACK_IMPORTED_MODULE_2__.InvalidPersonalMessageSignatureError(\"Not valid\");\n            }\n        }\n    }\n    async getCertificate() {\n        if (!__privateGet(this, _personalMessageSignature)) {\n            if (__privateGet(this, _signer)) {\n                const { signature } = await __privateGet(this, _signer).signPersonalMessage(this.getPersonalMessage());\n                __privateSet(this, _personalMessageSignature, signature);\n            } else {\n                throw new _error_js__WEBPACK_IMPORTED_MODULE_2__.InvalidPersonalMessageSignatureError(\"Personal message signature is not set\");\n            }\n        }\n        return {\n            user: __privateGet(this, _address),\n            session_vk: (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_5__.toBase64)(__privateGet(this, _sessionKey).getPublicKey().toRawBytes()),\n            creation_time: __privateGet(this, _creationTimeMs),\n            ttl_min: __privateGet(this, _ttlMin),\n            signature: __privateGet(this, _personalMessageSignature),\n            mvr_name: __privateGet(this, _mvrName)\n        };\n    }\n    /**\n   * Create request params for the given transaction bytes.\n   * @param txBytes - The transaction bytes.\n   * @returns The request params containing the ephemeral secret key,\n   * its public key and its verification key.\n   */ async createRequestParams(txBytes) {\n        if (this.isExpired()) {\n            throw new _error_js__WEBPACK_IMPORTED_MODULE_2__.ExpiredSessionKeyError();\n        }\n        const encKey = (0,_elgamal_js__WEBPACK_IMPORTED_MODULE_7__.generateSecretKey)();\n        const encKeyPk = (0,_elgamal_js__WEBPACK_IMPORTED_MODULE_7__.toPublicKey)(encKey);\n        const encVerificationKey = (0,_elgamal_js__WEBPACK_IMPORTED_MODULE_7__.toVerificationKey)(encKey);\n        const msgToSign = RequestFormat.serialize({\n            ptb: txBytes.slice(1),\n            encKey: encKeyPk,\n            encVerificationKey\n        }).toBytes();\n        return {\n            encKey,\n            encKeyPk,\n            encVerificationKey,\n            requestSignature: (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_5__.toBase64)(await __privateGet(this, _sessionKey).sign(msgToSign))\n        };\n    }\n    /**\n   * Export the Session Key object from the instance. Store the object in IndexedDB to persist.\n   */ export() {\n        const obj = {\n            address: __privateGet(this, _address),\n            packageId: __privateGet(this, _packageId),\n            mvrName: __privateGet(this, _mvrName),\n            creationTimeMs: __privateGet(this, _creationTimeMs),\n            ttlMin: __privateGet(this, _ttlMin),\n            personalMessageSignature: __privateGet(this, _personalMessageSignature),\n            sessionKey: __privateGet(this, _sessionKey).getSecretKey()\n        };\n        Object.defineProperty(obj, \"toJSON\", {\n            enumerable: false,\n            value: ()=>{\n                throw new Error(\"This object is not serializable\");\n            }\n        });\n        return obj;\n    }\n    /**\n   * Restore a SessionKey instance for the given object.\n   * @returns A new SessionKey instance with restored state\n   */ static import(data, suiClient, signer) {\n        const instance = new _SessionKey({\n            address: data.address,\n            packageId: data.packageId,\n            mvrName: data.mvrName,\n            ttlMin: data.ttlMin,\n            signer,\n            suiClient\n        });\n        __privateSet(instance, _creationTimeMs, data.creationTimeMs);\n        __privateSet(instance, _sessionKey, _mysten_sui_keypairs_ed25519__WEBPACK_IMPORTED_MODULE_4__.Ed25519Keypair.fromSecretKey(data.sessionKey));\n        __privateSet(instance, _personalMessageSignature, data.personalMessageSignature);\n        if (instance.isExpired()) {\n            throw new _error_js__WEBPACK_IMPORTED_MODULE_2__.ExpiredSessionKeyError();\n        }\n        return instance;\n    }\n};\n_address = new WeakMap();\n_packageId = new WeakMap();\n_mvrName = new WeakMap();\n_creationTimeMs = new WeakMap();\n_ttlMin = new WeakMap();\n_sessionKey = new WeakMap();\n_personalMessageSignature = new WeakMap();\n_signer = new WeakMap();\n_suiClient = new WeakMap();\nlet SessionKey = _SessionKey;\n //# sourceMappingURL=session-key.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG15c3RlbitzZWFsQDAuNi4wX3R5cGVzY3JpcHRANS45LjMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc2VhbC9kaXN0L2VzbS9zZXNzaW9uLWtleS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsY0FBYyxDQUFDQztJQUNqQixNQUFNQyxVQUFVRDtBQUNsQjtBQUNBLElBQUlFLGdCQUFnQixDQUFDQyxLQUFLQyxRQUFRSixNQUFRSSxPQUFPQyxHQUFHLENBQUNGLFFBQVFKLFlBQVksWUFBWUM7QUFDckYsSUFBSU0sZUFBZSxDQUFDSCxLQUFLQyxRQUFRRyxTQUFZTCxDQUFBQSxjQUFjQyxLQUFLQyxRQUFRLDRCQUE0QkcsU0FBU0EsT0FBT0MsSUFBSSxDQUFDTCxPQUFPQyxPQUFPSyxHQUFHLENBQUNOLElBQUc7QUFDOUksSUFBSU8sZUFBZSxDQUFDUCxLQUFLQyxRQUFRTyxRQUFVUCxPQUFPQyxHQUFHLENBQUNGLE9BQU9KLFlBQVksdURBQXVESyxrQkFBa0JRLFVBQVVSLE9BQU9TLEdBQUcsQ0FBQ1YsT0FBT0MsT0FBT1UsR0FBRyxDQUFDWCxLQUFLUTtBQUM5TCxJQUFJSSxlQUFlLENBQUNaLEtBQUtDLFFBQVFPLE9BQU9LLFNBQVlkLENBQUFBLGNBQWNDLEtBQUtDLFFBQVEsMkJBQTJCWSxTQUFTQSxPQUFPUixJQUFJLENBQUNMLEtBQUtRLFNBQVNQLE9BQU9VLEdBQUcsQ0FBQ1gsS0FBS1EsUUFBUUEsS0FBSTtBQUN6SyxJQUFJTSxVQUFVQyxZQUFZQyxVQUFVQyxpQkFBaUJDLFNBQVNDLGFBQWFDLDJCQUEyQkMsU0FBU0M7QUFDeEU7QUFDRDtBQUN3QjtBQUNpQztBQUMzQjtBQUNhO0FBTTdEO0FBQ3BCLE1BQU1lLGdCQUFnQmIsZ0RBQUdBLENBQUNjLE1BQU0sQ0FBQyxpQkFBaUI7SUFDaERDLEtBQUtmLGdEQUFHQSxDQUFDZ0IsTUFBTSxDQUFDaEIsZ0RBQUdBLENBQUNpQixFQUFF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cmNlcyI6WyJ3ZWJwYWNrOi8vbm90YXNjYW0tcHJvdG9jb2wvLi9ub2RlX21vZHVsZXMvLnBucG0vQG15c3RlbitzZWFsQDAuNi4wX3R5cGVzY3JpcHRANS45LjMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc2VhbC9kaXN0L2VzbS9zZXNzaW9uLWtleS5qcz85OTAyIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX3R5cGVFcnJvciA9IChtc2cpID0+IHtcbiAgdGhyb3cgVHlwZUVycm9yKG1zZyk7XG59O1xudmFyIF9fYWNjZXNzQ2hlY2sgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4gbWVtYmVyLmhhcyhvYmopIHx8IF9fdHlwZUVycm9yKFwiQ2Fubm90IFwiICsgbXNnKTtcbnZhciBfX3ByaXZhdGVHZXQgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4gKF9fYWNjZXNzQ2hlY2sob2JqLCBtZW1iZXIsIFwicmVhZCBmcm9tIHByaXZhdGUgZmllbGRcIiksIGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiBtZW1iZXIuZ2V0KG9iaikpO1xudmFyIF9fcHJpdmF0ZUFkZCA9IChvYmosIG1lbWJlciwgdmFsdWUpID0+IG1lbWJlci5oYXMob2JqKSA/IF9fdHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKSA6IG1lbWJlciBpbnN0YW5jZW9mIFdlYWtTZXQgPyBtZW1iZXIuYWRkKG9iaikgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xudmFyIF9fcHJpdmF0ZVNldCA9IChvYmosIG1lbWJlciwgdmFsdWUsIHNldHRlcikgPT4gKF9fYWNjZXNzQ2hlY2sob2JqLCBtZW1iZXIsIFwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZFwiKSwgc2V0dGVyID8gc2V0dGVyLmNhbGwob2JqLCB2YWx1ZSkgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpLCB2YWx1ZSk7XG52YXIgX2FkZHJlc3MsIF9wYWNrYWdlSWQsIF9tdnJOYW1lLCBfY3JlYXRpb25UaW1lTXMsIF90dGxNaW4sIF9zZXNzaW9uS2V5LCBfcGVyc29uYWxNZXNzYWdlU2lnbmF0dXJlLCBfc2lnbmVyLCBfc3VpQ2xpZW50O1xuaW1wb3J0IHsgdG9CYXNlNjQgfSBmcm9tIFwiQG15c3Rlbi9iY3NcIjtcbmltcG9ydCB7IGJjcyB9IGZyb20gXCJAbXlzdGVuL3N1aS9iY3NcIjtcbmltcG9ydCB7IEVkMjU1MTlLZXlwYWlyIH0gZnJvbSBcIkBteXN0ZW4vc3VpL2tleXBhaXJzL2VkMjU1MTlcIjtcbmltcG9ydCB7IGlzVmFsaWROYW1lZFBhY2thZ2UsIGlzVmFsaWRTdWlBZGRyZXNzLCBpc1ZhbGlkU3VpT2JqZWN0SWQgfSBmcm9tIFwiQG15c3Rlbi9zdWkvdXRpbHNcIjtcbmltcG9ydCB7IHZlcmlmeVBlcnNvbmFsTWVzc2FnZVNpZ25hdHVyZSB9IGZyb20gXCJAbXlzdGVuL3N1aS92ZXJpZnlcIjtcbmltcG9ydCB7IGdlbmVyYXRlU2VjcmV0S2V5LCB0b1B1YmxpY0tleSwgdG9WZXJpZmljYXRpb25LZXkgfSBmcm9tIFwiLi9lbGdhbWFsLmpzXCI7XG5pbXBvcnQge1xuICBFeHBpcmVkU2Vzc2lvbktleUVycm9yLFxuICBJbnZhbGlkUGFja2FnZUVycm9yLFxuICBJbnZhbGlkUGVyc29uYWxNZXNzYWdlU2lnbmF0dXJlRXJyb3IsXG4gIFVzZXJFcnJvclxufSBmcm9tIFwiLi9lcnJvci5qc1wiO1xuY29uc3QgUmVxdWVzdEZvcm1hdCA9IGJjcy5zdHJ1Y3QoXCJSZXF1ZXN0Rm9ybWF0XCIsIHtcbiAgcHRiOiBiY3MudmVjdG9yKGJjcy51OCgpKSxcbiAgZW5jS2V5OiBiY3MudmVjdG9yKGJjcy51OCgpKSxcbiAgZW5jVmVyaWZpY2F0aW9uS2V5OiBiY3MudmVjdG9yKGJjcy51OCgpKVxufSk7XG5jb25zdCBfU2Vzc2lvbktleSA9IGNsYXNzIF9TZXNzaW9uS2V5IHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIGFkZHJlc3MsXG4gICAgcGFja2FnZUlkLFxuICAgIG12ck5hbWUsXG4gICAgdHRsTWluLFxuICAgIHNpZ25lcixcbiAgICBzdWlDbGllbnRcbiAgfSkge1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfYWRkcmVzcyk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9wYWNrYWdlSWQpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfbXZyTmFtZSk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9jcmVhdGlvblRpbWVNcyk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF90dGxNaW4pO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfc2Vzc2lvbktleSk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9wZXJzb25hbE1lc3NhZ2VTaWduYXR1cmUpO1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfc2lnbmVyKTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX3N1aUNsaWVudCk7XG4gICAgaWYgKG12ck5hbWUgJiYgIWlzVmFsaWROYW1lZFBhY2thZ2UobXZyTmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoYEludmFsaWQgcGFja2FnZSBuYW1lICR7bXZyTmFtZX1gKTtcbiAgICB9XG4gICAgaWYgKCFpc1ZhbGlkU3VpT2JqZWN0SWQocGFja2FnZUlkKSB8fCAhaXNWYWxpZFN1aUFkZHJlc3MoYWRkcmVzcykpIHtcbiAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoYEludmFsaWQgcGFja2FnZSBJRCAke3BhY2thZ2VJZH0gb3IgYWRkcmVzcyAke2FkZHJlc3N9YCk7XG4gICAgfVxuICAgIGlmICh0dGxNaW4gPiAzMCB8fCB0dGxNaW4gPCAxKSB7XG4gICAgICB0aHJvdyBuZXcgVXNlckVycm9yKGBJbnZhbGlkIFRUTCAke3R0bE1pbn0sIG11c3QgYmUgYmV0d2VlbiAxIGFuZCAzMGApO1xuICAgIH1cbiAgICBpZiAoc2lnbmVyICYmIHNpZ25lci5nZXRQdWJsaWNLZXkoKS50b1N1aUFkZHJlc3MoKSAhPT0gYWRkcmVzcykge1xuICAgICAgdGhyb3cgbmV3IFVzZXJFcnJvcihcIlNpZ25lciBhZGRyZXNzIGRvZXMgbm90IG1hdGNoIHNlc3Npb24ga2V5IGFkZHJlc3NcIik7XG4gICAgfVxuICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfYWRkcmVzcywgYWRkcmVzcyk7XG4gICAgX19wcml2YXRlU2V0KHRoaXMsIF9wYWNrYWdlSWQsIHBhY2thZ2VJZCk7XG4gICAgX19wcml2YXRlU2V0KHRoaXMsIF9tdnJOYW1lLCBtdnJOYW1lKTtcbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX2NyZWF0aW9uVGltZU1zLCBEYXRlLm5vdygpKTtcbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX3R0bE1pbiwgdHRsTWluKTtcbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX3Nlc3Npb25LZXksIEVkMjU1MTlLZXlwYWlyLmdlbmVyYXRlKCkpO1xuICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfc2lnbmVyLCBzaWduZXIpO1xuICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfc3VpQ2xpZW50LCBzdWlDbGllbnQpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgU2Vzc2lvbktleSBpbnN0YW5jZS5cbiAgICogQHBhcmFtIGFkZHJlc3MgLSBUaGUgYWRkcmVzcyBvZiB0aGUgdXNlci5cbiAgICogQHBhcmFtIHBhY2thZ2VJZCAtIFRoZSBJRCBvZiB0aGUgcGFja2FnZS5cbiAgICogQHBhcmFtIG12ck5hbWUgLSBPcHRpb25hbC4gVGhlIG5hbWUgb2YgdGhlIE1WUiwgaWYgdGhlcmUgaXMgb25lLlxuICAgKiBAcGFyYW0gdHRsTWluIC0gVGhlIFRUTCBpbiBtaW51dGVzLlxuICAgKiBAcGFyYW0gc2lnbmVyIC0gT3B0aW9uYWwuIFRoZSBzaWduZXIgaW5zdGFuY2UsIGUuZy4gRW5va2lTaWduZXIuXG4gICAqIEBwYXJhbSBzdWlDbGllbnQgLSBUaGUgU3VpIGNsaWVudC5cbiAgICogQHJldHVybnMgQSBuZXcgU2Vzc2lvbktleSBpbnN0YW5jZS5cbiAgICovXG4gIHN0YXRpYyBhc3luYyBjcmVhdGUoe1xuICAgIGFkZHJlc3MsXG4gICAgcGFja2FnZUlkLFxuICAgIG12ck5hbWUsXG4gICAgdHRsTWluLFxuICAgIHNpZ25lcixcbiAgICBzdWlDbGllbnRcbiAgfSkge1xuICAgIGNvbnN0IHBhY2thZ2VPYmogPSBhd2FpdCBzdWlDbGllbnQuY29yZS5nZXRPYmplY3QoeyBvYmplY3RJZDogcGFja2FnZUlkIH0pO1xuICAgIGlmIChTdHJpbmcocGFja2FnZU9iai5vYmplY3QudmVyc2lvbikgIT09IFwiMVwiKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZFBhY2thZ2VFcnJvcihgUGFja2FnZSAke3BhY2thZ2VJZH0gaXMgbm90IHRoZSBmaXJzdCB2ZXJzaW9uYCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgX1Nlc3Npb25LZXkoe1xuICAgICAgYWRkcmVzcyxcbiAgICAgIHBhY2thZ2VJZCxcbiAgICAgIG12ck5hbWUsXG4gICAgICB0dGxNaW4sXG4gICAgICBzaWduZXIsXG4gICAgICBzdWlDbGllbnRcbiAgICB9KTtcbiAgfVxuICBpc0V4cGlyZWQoKSB7XG4gICAgcmV0dXJuIF9fcHJpdmF0ZUdldCh0aGlzLCBfY3JlYXRpb25UaW1lTXMpICsgX19wcml2YXRlR2V0KHRoaXMsIF90dGxNaW4pICogNjAgKiAxZTMgLSAxZTQgPCBEYXRlLm5vdygpO1xuICB9XG4gIGdldEFkZHJlc3MoKSB7XG4gICAgcmV0dXJuIF9fcHJpdmF0ZUdldCh0aGlzLCBfYWRkcmVzcyk7XG4gIH1cbiAgZ2V0UGFja2FnZU5hbWUoKSB7XG4gICAgaWYgKF9fcHJpdmF0ZUdldCh0aGlzLCBfbXZyTmFtZSkpIHtcbiAgICAgIHJldHVybiBfX3ByaXZhdGVHZXQodGhpcywgX212ck5hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gX19wcml2YXRlR2V0KHRoaXMsIF9wYWNrYWdlSWQpO1xuICB9XG4gIGdldFBhY2thZ2VJZCgpIHtcbiAgICByZXR1cm4gX19wcml2YXRlR2V0KHRoaXMsIF9wYWNrYWdlSWQpO1xuICB9XG4gIGdldFBlcnNvbmFsTWVzc2FnZSgpIHtcbiAgICBjb25zdCBjcmVhdGlvblRpbWVVdGMgPSBuZXcgRGF0ZShfX3ByaXZhdGVHZXQodGhpcywgX2NyZWF0aW9uVGltZU1zKSkudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxOSkucmVwbGFjZShcIlRcIiwgXCIgXCIpICsgXCIgVVRDXCI7XG4gICAgY29uc3QgbWVzc2FnZSA9IGBBY2Nlc3Npbmcga2V5cyBvZiBwYWNrYWdlICR7dGhpcy5nZXRQYWNrYWdlTmFtZSgpfSBmb3IgJHtfX3ByaXZhdGVHZXQodGhpcywgX3R0bE1pbil9IG1pbnMgZnJvbSAke2NyZWF0aW9uVGltZVV0Y30sIHNlc3Npb24ga2V5ICR7dG9CYXNlNjQoX19wcml2YXRlR2V0KHRoaXMsIF9zZXNzaW9uS2V5KS5nZXRQdWJsaWNLZXkoKS50b1Jhd0J5dGVzKCkpfWA7XG4gICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShtZXNzYWdlKTtcbiAgfVxuICBhc3luYyBzZXRQZXJzb25hbE1lc3NhZ2VTaWduYXR1cmUocGVyc29uYWxNZXNzYWdlU2lnbmF0dXJlKSB7XG4gICAgaWYgKCFfX3ByaXZhdGVHZXQodGhpcywgX3BlcnNvbmFsTWVzc2FnZVNpZ25hdHVyZSkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHZlcmlmeVBlcnNvbmFsTWVzc2FnZVNpZ25hdHVyZSh0aGlzLmdldFBlcnNvbmFsTWVzc2FnZSgpLCBwZXJzb25hbE1lc3NhZ2VTaWduYXR1cmUsIHtcbiAgICAgICAgICBhZGRyZXNzOiBfX3ByaXZhdGVHZXQodGhpcywgX2FkZHJlc3MpLFxuICAgICAgICAgIGNsaWVudDogX19wcml2YXRlR2V0KHRoaXMsIF9zdWlDbGllbnQpXG4gICAgICAgIH0pO1xuICAgICAgICBfX3ByaXZhdGVTZXQodGhpcywgX3BlcnNvbmFsTWVzc2FnZVNpZ25hdHVyZSwgcGVyc29uYWxNZXNzYWdlU2lnbmF0dXJlKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEludmFsaWRQZXJzb25hbE1lc3NhZ2VTaWduYXR1cmVFcnJvcihcIk5vdCB2YWxpZFwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgYXN5bmMgZ2V0Q2VydGlmaWNhdGUoKSB7XG4gICAgaWYgKCFfX3ByaXZhdGVHZXQodGhpcywgX3BlcnNvbmFsTWVzc2FnZVNpZ25hdHVyZSkpIHtcbiAgICAgIGlmIChfX3ByaXZhdGVHZXQodGhpcywgX3NpZ25lcikpIHtcbiAgICAgICAgY29uc3QgeyBzaWduYXR1cmUgfSA9IGF3YWl0IF9fcHJpdmF0ZUdldCh0aGlzLCBfc2lnbmVyKS5zaWduUGVyc29uYWxNZXNzYWdlKHRoaXMuZ2V0UGVyc29uYWxNZXNzYWdlKCkpO1xuICAgICAgICBfX3ByaXZhdGVTZXQodGhpcywgX3BlcnNvbmFsTWVzc2FnZVNpZ25hdHVyZSwgc2lnbmF0dXJlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBJbnZhbGlkUGVyc29uYWxNZXNzYWdlU2lnbmF0dXJlRXJyb3IoXCJQZXJzb25hbCBtZXNzYWdlIHNpZ25hdHVyZSBpcyBub3Qgc2V0XCIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdXNlcjogX19wcml2YXRlR2V0KHRoaXMsIF9hZGRyZXNzKSxcbiAgICAgIHNlc3Npb25fdms6IHRvQmFzZTY0KF9fcHJpdmF0ZUdldCh0aGlzLCBfc2Vzc2lvbktleSkuZ2V0UHVibGljS2V5KCkudG9SYXdCeXRlcygpKSxcbiAgICAgIGNyZWF0aW9uX3RpbWU6IF9fcHJpdmF0ZUdldCh0aGlzLCBfY3JlYXRpb25UaW1lTXMpLFxuICAgICAgdHRsX21pbjogX19wcml2YXRlR2V0KHRoaXMsIF90dGxNaW4pLFxuICAgICAgc2lnbmF0dXJlOiBfX3ByaXZhdGVHZXQodGhpcywgX3BlcnNvbmFsTWVzc2FnZVNpZ25hdHVyZSksXG4gICAgICBtdnJfbmFtZTogX19wcml2YXRlR2V0KHRoaXMsIF9tdnJOYW1lKVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSByZXF1ZXN0IHBhcmFtcyBmb3IgdGhlIGdpdmVuIHRyYW5zYWN0aW9uIGJ5dGVzLlxuICAgKiBAcGFyYW0gdHhCeXRlcyAtIFRoZSB0cmFuc2FjdGlvbiBieXRlcy5cbiAgICogQHJldHVybnMgVGhlIHJlcXVlc3QgcGFyYW1zIGNvbnRhaW5pbmcgdGhlIGVwaGVtZXJhbCBzZWNyZXQga2V5LFxuICAgKiBpdHMgcHVibGljIGtleSBhbmQgaXRzIHZlcmlmaWNhdGlvbiBrZXkuXG4gICAqL1xuICBhc3luYyBjcmVhdGVSZXF1ZXN0UGFyYW1zKHR4Qnl0ZXMpIHtcbiAgICBpZiAodGhpcy5pc0V4cGlyZWQoKSkge1xuICAgICAgdGhyb3cgbmV3IEV4cGlyZWRTZXNzaW9uS2V5RXJyb3IoKTtcbiAgICB9XG4gICAgY29uc3QgZW5jS2V5ID0gZ2VuZXJhdGVTZWNyZXRLZXkoKTtcbiAgICBjb25zdCBlbmNLZXlQayA9IHRvUHVibGljS2V5KGVuY0tleSk7XG4gICAgY29uc3QgZW5jVmVyaWZpY2F0aW9uS2V5ID0gdG9WZXJpZmljYXRpb25LZXkoZW5jS2V5KTtcbiAgICBjb25zdCBtc2dUb1NpZ24gPSBSZXF1ZXN0Rm9ybWF0LnNlcmlhbGl6ZSh7XG4gICAgICBwdGI6IHR4Qnl0ZXMuc2xpY2UoMSksXG4gICAgICBlbmNLZXk6IGVuY0tleVBrLFxuICAgICAgZW5jVmVyaWZpY2F0aW9uS2V5XG4gICAgfSkudG9CeXRlcygpO1xuICAgIHJldHVybiB7XG4gICAgICBlbmNLZXksXG4gICAgICBlbmNLZXlQayxcbiAgICAgIGVuY1ZlcmlmaWNhdGlvbktleSxcbiAgICAgIHJlcXVlc3RTaWduYXR1cmU6IHRvQmFzZTY0KGF3YWl0IF9fcHJpdmF0ZUdldCh0aGlzLCBfc2Vzc2lvbktleSkuc2lnbihtc2dUb1NpZ24pKVxuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEV4cG9ydCB0aGUgU2Vzc2lvbiBLZXkgb2JqZWN0IGZyb20gdGhlIGluc3RhbmNlLiBTdG9yZSB0aGUgb2JqZWN0IGluIEluZGV4ZWREQiB0byBwZXJzaXN0LlxuICAgKi9cbiAgZXhwb3J0KCkge1xuICAgIGNvbnN0IG9iaiA9IHtcbiAgICAgIGFkZHJlc3M6IF9fcHJpdmF0ZUdldCh0aGlzLCBfYWRkcmVzcyksXG4gICAgICBwYWNrYWdlSWQ6IF9fcHJpdmF0ZUdldCh0aGlzLCBfcGFja2FnZUlkKSxcbiAgICAgIG12ck5hbWU6IF9fcHJpdmF0ZUdldCh0aGlzLCBfbXZyTmFtZSksXG4gICAgICBjcmVhdGlvblRpbWVNczogX19wcml2YXRlR2V0KHRoaXMsIF9jcmVhdGlvblRpbWVNcyksXG4gICAgICB0dGxNaW46IF9fcHJpdmF0ZUdldCh0aGlzLCBfdHRsTWluKSxcbiAgICAgIHBlcnNvbmFsTWVzc2FnZVNpZ25hdHVyZTogX19wcml2YXRlR2V0KHRoaXMsIF9wZXJzb25hbE1lc3NhZ2VTaWduYXR1cmUpLFxuICAgICAgc2Vzc2lvbktleTogX19wcml2YXRlR2V0KHRoaXMsIF9zZXNzaW9uS2V5KS5nZXRTZWNyZXRLZXkoKVxuICAgICAgLy8gYmVjaDMyIGVuY29kZWQgc3RyaW5nXG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBcInRvSlNPTlwiLCB7XG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHZhbHVlOiAoKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoaXMgb2JqZWN0IGlzIG5vdCBzZXJpYWxpemFibGVcIik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuICAvKipcbiAgICogUmVzdG9yZSBhIFNlc3Npb25LZXkgaW5zdGFuY2UgZm9yIHRoZSBnaXZlbiBvYmplY3QuXG4gICAqIEByZXR1cm5zIEEgbmV3IFNlc3Npb25LZXkgaW5zdGFuY2Ugd2l0aCByZXN0b3JlZCBzdGF0ZVxuICAgKi9cbiAgc3RhdGljIGltcG9ydChkYXRhLCBzdWlDbGllbnQsIHNpZ25lcikge1xuICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IF9TZXNzaW9uS2V5KHtcbiAgICAgIGFkZHJlc3M6IGRhdGEuYWRkcmVzcyxcbiAgICAgIHBhY2thZ2VJZDogZGF0YS5wYWNrYWdlSWQsXG4gICAgICBtdnJOYW1lOiBkYXRhLm12ck5hbWUsXG4gICAgICB0dGxNaW46IGRhdGEudHRsTWluLFxuICAgICAgc2lnbmVyLFxuICAgICAgc3VpQ2xpZW50XG4gICAgfSk7XG4gICAgX19wcml2YXRlU2V0KGluc3RhbmNlLCBfY3JlYXRpb25UaW1lTXMsIGRhdGEuY3JlYXRpb25UaW1lTXMpO1xuICAgIF9fcHJpdmF0ZVNldChpbnN0YW5jZSwgX3Nlc3Npb25LZXksIEVkMjU1MTlLZXlwYWlyLmZyb21TZWNyZXRLZXkoZGF0YS5zZXNzaW9uS2V5KSk7XG4gICAgX19wcml2YXRlU2V0KGluc3RhbmNlLCBfcGVyc29uYWxNZXNzYWdlU2lnbmF0dXJlLCBkYXRhLnBlcnNvbmFsTWVzc2FnZVNpZ25hdHVyZSk7XG4gICAgaWYgKGluc3RhbmNlLmlzRXhwaXJlZCgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXhwaXJlZFNlc3Npb25LZXlFcnJvcigpO1xuICAgIH1cbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH1cbn07XG5fYWRkcmVzcyA9IG5ldyBXZWFrTWFwKCk7XG5fcGFja2FnZUlkID0gbmV3IFdlYWtNYXAoKTtcbl9tdnJOYW1lID0gbmV3IFdlYWtNYXAoKTtcbl9jcmVhdGlvblRpbWVNcyA9IG5ldyBXZWFrTWFwKCk7XG5fdHRsTWluID0gbmV3IFdlYWtNYXAoKTtcbl9zZXNzaW9uS2V5ID0gbmV3IFdlYWtNYXAoKTtcbl9wZXJzb25hbE1lc3NhZ2VTaWduYXR1cmUgPSBuZXcgV2Vha01hcCgpO1xuX3NpZ25lciA9IG5ldyBXZWFrTWFwKCk7XG5fc3VpQ2xpZW50ID0gbmV3IFdlYWtNYXAoKTtcbmxldCBTZXNzaW9uS2V5ID0gX1Nlc3Npb25LZXk7XG5leHBvcnQge1xuICBSZXF1ZXN0Rm9ybWF0LFxuICBTZXNzaW9uS2V5XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2Vzc2lvbi1rZXkuanMubWFwXG4iXSwibmFtZXMiOlsiX190eXBlRXJyb3IiLCJtc2ciLCJUeXBlRXJyb3IiLCJfX2FjY2Vzc0NoZWNrIiwib2JqIiwibWVtYmVyIiwiaGFzIiwiX19wcml2YXRlR2V0IiwiZ2V0dGVyIiwiY2FsbCIsImdldCIsIl9fcHJpdmF0ZUFkZCIsInZhbHVlIiwiV2Vha1NldCIsImFkZCIsInNldCIsIl9fcHJpdmF0ZVNldCIsInNldHRlciIsIl9hZGRyZXNzIiwiX3BhY2thZ2VJZCIsIl9tdnJOYW1lIiwiX2NyZWF0aW9uVGltZU1zIiwiX3R0bE1pbiIsIl9zZXNzaW9uS2V5IiwiX3BlcnNvbmFsTWVzc2FnZVNpZ25hdHVyZSIsIl9zaWduZXIiLCJfc3VpQ2xpZW50IiwidG9CYXNlNjQiLCJiY3MiLCJFZDI1NTE5S2V5cGFpciIsImlzVmFsaWROYW1lZFBhY2thZ2UiLCJpc1ZhbGlkU3VpQWRkcmVzcyIsImlzVmFsaWRTdWlPYmplY3RJZCIsInZlcmlmeVBlcnNvbmFsTWVzc2FnZVNpZ25hdHVyZSIsImdlbmVyYXRlU2VjcmV0S2V5IiwidG9QdWJsaWNLZXkiLCJ0b1ZlcmlmaWNhdGlvbktleSIsIkV4cGlyZWRTZXNzaW9uS2V5RXJyb3IiLCJJbnZhbGlkUGFja2FnZUVycm9yIiwiSW52YWxpZFBlcnNvbmFsTWVzc2FnZVNpZ25hdHVyZUVycm9yIiwiVXNlckVycm9yIiwiUmVxdWVzdEZvcm1hdCIsInN0cnVjdCIsInB0YiIsInZlY3RvciIsInU4IiwiZW5jS2V5IiwiZW5jVmVyaWZpY2F0aW9uS2V5IiwiX1Nlc3Npb25LZXkiLCJjb25zdHJ1Y3RvciIsImFkZHJlc3MiLCJwYWNrYWdlSWQiLCJtdnJOYW1lIiwidHRsTWluIiwic2lnbmVyIiwic3VpQ2xpZW50IiwiZ2V0UHVibGljS2V5IiwidG9TdWlBZGRyZXNzIiwiRGF0ZSIsIm5vdyIsImdlbmVyYXRlIiwiY3JlYXRlIiwicGFja2FnZU9iaiIsImNvcmUiLCJnZXRPYmplY3QiLCJvYmplY3RJZCIsIlN0cmluZyIsIm9iamVjdCIsInZlcnNpb24iLCJpc0V4cGlyZWQiLCJnZXRBZGRyZXNzIiwiZ2V0UGFja2FnZU5hbWUiLCJnZXRQYWNrYWdlSWQiLCJnZXRQZXJzb25hbE1lc3NhZ2UiLCJjcmVhdGlvblRpbWVVdGMiLCJ0b0lTT1N0cmluZyIsInNsaWNlIiwicmVwbGFjZSIsIm1lc3NhZ2UiLCJ0b1Jhd0J5dGVzIiwiVGV4dEVuY29kZXIiLCJlbmNvZGUiLCJzZXRQZXJzb25hbE1lc3NhZ2VTaWduYXR1cmUiLCJwZXJzb25hbE1lc3NhZ2VTaWduYXR1cmUiLCJjbGllbnQiLCJlIiwiZ2V0Q2VydGlmaWNhdGUiLCJzaWduYXR1cmUiLCJzaWduUGVyc29uYWxNZXNzYWdlIiwidXNlciIsInNlc3Npb25fdmsiLCJjcmVhdGlvbl90aW1lIiwidHRsX21pbiIsIm12cl9uYW1lIiwiY3JlYXRlUmVxdWVzdFBhcmFtcyIsInR4Qnl0ZXMiLCJlbmNLZXlQayIsIm1zZ1RvU2lnbiIsInNlcmlhbGl6ZSIsInRvQnl0ZXMiLCJyZXF1ZXN0U2lnbmF0dXJlIiwic2lnbiIsImV4cG9ydCIsImNyZWF0aW9uVGltZU1zIiwic2Vzc2lvbktleSIsImdldFNlY3JldEtleSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsIkVycm9yIiwiaW1wb3J0IiwiZGF0YSIsImluc3RhbmNlIiwiZnJvbVNlY3JldEtleSIsIldlYWtNYXAiLCJTZXNzaW9uS2V5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/session-key.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/shamir.js":
/*!*************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/shamir.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GF256: () => (/* binding */ GF256),\n/* harmony export */   Polynomial: () => (/* binding */ Polynomial),\n/* harmony export */   combine: () => (/* binding */ combine),\n/* harmony export */   interpolate: () => (/* binding */ interpolate),\n/* harmony export */   split: () => (/* binding */ split)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/utils.js\");\n\nconst GF256_SIZE = 256;\nclass GF256 {\n    constructor(value){\n        if (value < 0 || value >= GF256_SIZE) {\n            throw new Error(`Invalid value ${value} for GF256`);\n        }\n        this.value = value;\n    }\n    log() {\n        if (this.value === 0) {\n            throw new Error(\"Invalid value\");\n        }\n        return LOG[this.value - 1];\n    }\n    static exp(x) {\n        return new GF256(EXP[x % (GF256_SIZE - 1)]);\n    }\n    add(other) {\n        return new GF256(this.value ^ other.value);\n    }\n    sub(other) {\n        return this.add(other);\n    }\n    neg() {\n        return this;\n    }\n    mul(other) {\n        if (this.value === 0 || other.value === 0) {\n            return new GF256(0);\n        }\n        return GF256.exp(this.log() + other.log());\n    }\n    div(other) {\n        return this.mul(GF256.exp(GF256_SIZE - other.log() - 1));\n    }\n    equals(other) {\n        return this.value === other.value;\n    }\n    static zero() {\n        return new GF256(0);\n    }\n    static one() {\n        return new GF256(1);\n    }\n}\nconst EXP = [\n    1,\n    3,\n    5,\n    15,\n    17,\n    51,\n    85,\n    255,\n    26,\n    46,\n    114,\n    150,\n    161,\n    248,\n    19,\n    53,\n    95,\n    225,\n    56,\n    72,\n    216,\n    115,\n    149,\n    164,\n    247,\n    2,\n    6,\n    10,\n    30,\n    34,\n    102,\n    170,\n    229,\n    52,\n    92,\n    228,\n    55,\n    89,\n    235,\n    38,\n    106,\n    190,\n    217,\n    112,\n    144,\n    171,\n    230,\n    49,\n    83,\n    245,\n    4,\n    12,\n    20,\n    60,\n    68,\n    204,\n    79,\n    209,\n    104,\n    184,\n    211,\n    110,\n    178,\n    205,\n    76,\n    212,\n    103,\n    169,\n    224,\n    59,\n    77,\n    215,\n    98,\n    166,\n    241,\n    8,\n    24,\n    40,\n    120,\n    136,\n    131,\n    158,\n    185,\n    208,\n    107,\n    189,\n    220,\n    127,\n    129,\n    152,\n    179,\n    206,\n    73,\n    219,\n    118,\n    154,\n    181,\n    196,\n    87,\n    249,\n    16,\n    48,\n    80,\n    240,\n    11,\n    29,\n    39,\n    105,\n    187,\n    214,\n    97,\n    163,\n    254,\n    25,\n    43,\n    125,\n    135,\n    146,\n    173,\n    236,\n    47,\n    113,\n    147,\n    174,\n    233,\n    32,\n    96,\n    160,\n    251,\n    22,\n    58,\n    78,\n    210,\n    109,\n    183,\n    194,\n    93,\n    231,\n    50,\n    86,\n    250,\n    21,\n    63,\n    65,\n    195,\n    94,\n    226,\n    61,\n    71,\n    201,\n    64,\n    192,\n    91,\n    237,\n    44,\n    116,\n    156,\n    191,\n    218,\n    117,\n    159,\n    186,\n    213,\n    100,\n    172,\n    239,\n    42,\n    126,\n    130,\n    157,\n    188,\n    223,\n    122,\n    142,\n    137,\n    128,\n    155,\n    182,\n    193,\n    88,\n    232,\n    35,\n    101,\n    175,\n    234,\n    37,\n    111,\n    177,\n    200,\n    67,\n    197,\n    84,\n    252,\n    31,\n    33,\n    99,\n    165,\n    244,\n    7,\n    9,\n    27,\n    45,\n    119,\n    153,\n    176,\n    203,\n    70,\n    202,\n    69,\n    207,\n    74,\n    222,\n    121,\n    139,\n    134,\n    145,\n    168,\n    227,\n    62,\n    66,\n    198,\n    81,\n    243,\n    14,\n    18,\n    54,\n    90,\n    238,\n    41,\n    123,\n    141,\n    140,\n    143,\n    138,\n    133,\n    148,\n    167,\n    242,\n    13,\n    23,\n    57,\n    75,\n    221,\n    124,\n    132,\n    151,\n    162,\n    253,\n    28,\n    36,\n    108,\n    180,\n    199,\n    82,\n    246\n];\nconst LOG = [\n    0,\n    25,\n    1,\n    50,\n    2,\n    26,\n    198,\n    75,\n    199,\n    27,\n    104,\n    51,\n    238,\n    223,\n    3,\n    100,\n    4,\n    224,\n    14,\n    52,\n    141,\n    129,\n    239,\n    76,\n    113,\n    8,\n    200,\n    248,\n    105,\n    28,\n    193,\n    125,\n    194,\n    29,\n    181,\n    249,\n    185,\n    39,\n    106,\n    77,\n    228,\n    166,\n    114,\n    154,\n    201,\n    9,\n    120,\n    101,\n    47,\n    138,\n    5,\n    33,\n    15,\n    225,\n    36,\n    18,\n    240,\n    130,\n    69,\n    53,\n    147,\n    218,\n    142,\n    150,\n    143,\n    219,\n    189,\n    54,\n    208,\n    206,\n    148,\n    19,\n    92,\n    210,\n    241,\n    64,\n    70,\n    131,\n    56,\n    102,\n    221,\n    253,\n    48,\n    191,\n    6,\n    139,\n    98,\n    179,\n    37,\n    226,\n    152,\n    34,\n    136,\n    145,\n    16,\n    126,\n    110,\n    72,\n    195,\n    163,\n    182,\n    30,\n    66,\n    58,\n    107,\n    40,\n    84,\n    250,\n    133,\n    61,\n    186,\n    43,\n    121,\n    10,\n    21,\n    155,\n    159,\n    94,\n    202,\n    78,\n    212,\n    172,\n    229,\n    243,\n    115,\n    167,\n    87,\n    175,\n    88,\n    168,\n    80,\n    244,\n    234,\n    214,\n    116,\n    79,\n    174,\n    233,\n    213,\n    231,\n    230,\n    173,\n    232,\n    44,\n    215,\n    117,\n    122,\n    235,\n    22,\n    11,\n    245,\n    89,\n    203,\n    95,\n    176,\n    156,\n    169,\n    81,\n    160,\n    127,\n    12,\n    246,\n    111,\n    23,\n    196,\n    73,\n    236,\n    216,\n    67,\n    31,\n    45,\n    164,\n    118,\n    123,\n    183,\n    204,\n    187,\n    62,\n    90,\n    251,\n    96,\n    177,\n    134,\n    59,\n    82,\n    161,\n    108,\n    170,\n    85,\n    41,\n    157,\n    151,\n    178,\n    135,\n    144,\n    97,\n    190,\n    220,\n    252,\n    188,\n    149,\n    207,\n    205,\n    55,\n    63,\n    91,\n    209,\n    83,\n    57,\n    132,\n    60,\n    65,\n    162,\n    109,\n    71,\n    20,\n    42,\n    158,\n    93,\n    86,\n    242,\n    211,\n    171,\n    68,\n    17,\n    146,\n    217,\n    35,\n    32,\n    46,\n    137,\n    180,\n    124,\n    184,\n    38,\n    119,\n    153,\n    227,\n    165,\n    103,\n    74,\n    237,\n    222,\n    197,\n    49,\n    254,\n    24,\n    13,\n    99,\n    140,\n    128,\n    192,\n    247,\n    112,\n    7\n];\nclass Polynomial {\n    /**\n   * Construct a new Polynomial over [GF256] from the given coefficients.\n   * The first coefficient is the constant term.\n   */ constructor(coefficients){\n        this.coefficients = coefficients.slice();\n        while(this.coefficients.length > 0 && this.coefficients[this.coefficients.length - 1].value === 0){\n            this.coefficients.pop();\n        }\n    }\n    static fromBytes(bytes) {\n        return new Polynomial(Array.from(bytes, (b)=>new GF256(b)));\n    }\n    degree() {\n        if (this.coefficients.length === 0) {\n            return 0;\n        }\n        return this.coefficients.length - 1;\n    }\n    getCoefficient(index) {\n        if (index >= this.coefficients.length) {\n            return GF256.zero();\n        }\n        return this.coefficients[index];\n    }\n    add(other) {\n        const degree = Math.max(this.degree(), other.degree());\n        return new Polynomial(Array.from({\n            length: degree + 1\n        }, (_, i)=>this.getCoefficient(i).add(other.getCoefficient(i))));\n    }\n    mul(other) {\n        const degree = this.degree() + other.degree();\n        return new Polynomial(Array.from({\n            length: degree + 1\n        }, (_, i)=>{\n            let sum = GF256.zero();\n            for(let j = 0; j <= i; j++){\n                if (j <= this.degree() && i - j <= other.degree()) {\n                    sum = sum.add(this.getCoefficient(j).mul(other.getCoefficient(i - j)));\n                }\n            }\n            return sum;\n        }));\n    }\n    /** The polynomial s * this. */ scale(s) {\n        return new Polynomial(this.coefficients.map((c)=>c.mul(s)));\n    }\n    div(s) {\n        return this.scale(new GF256(1).div(s));\n    }\n    /** The polynomial x + c. */ static monic_linear(c) {\n        return new Polynomial([\n            c,\n            GF256.one()\n        ]);\n    }\n    static zero() {\n        return new Polynomial([]);\n    }\n    static one() {\n        return new Polynomial([\n            GF256.one()\n        ]);\n    }\n    /** Given a set of coordinates, interpolate a polynomial. */ static interpolate(coordinates) {\n        if (coordinates.length < 1) {\n            throw new Error(\"At least one coefficient is required\");\n        }\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hasDuplicates)(coordinates.map(({ x })=>x.value))) {\n            throw new Error(\"Coefficients must have unique x values\");\n        }\n        return coordinates.reduce((sum, { x: x_j, y: y_j }, j)=>sum.add(coordinates.filter((_, i)=>i !== j).reduce((product, { x: x_i })=>product.mul(Polynomial.monic_linear(x_i.neg()).div(x_j.sub(x_i))), Polynomial.one()).scale(y_j)), Polynomial.zero());\n    }\n    /** Given a set of coordinates, interpolate a polynomial and evaluate it at x = 0. */ static combine(coordinates) {\n        if (coordinates.length < 1) {\n            throw new Error(\"At least one coefficient is required\");\n        }\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hasDuplicates)(coordinates.map(({ x })=>x.value))) {\n            throw new Error(\"Coefficients must have unique x values\");\n        }\n        const quotient = coordinates.reduce((sum, { x: x_j, y: y_j }, j)=>{\n            const denominator = x_j.mul(coordinates.filter((_, i)=>i !== j).reduce((product, { x: x_i })=>product.mul(x_i.sub(x_j)), GF256.one()));\n            return sum.add(y_j.div(denominator));\n        }, GF256.zero());\n        const xProduct = coordinates.reduce((product, { x })=>product.mul(x), GF256.one());\n        return xProduct.mul(quotient);\n    }\n    /** Evaluate the polynomial at x. */ evaluate(x) {\n        return this.coefficients.toReversed().reduce((sum, coefficient)=>sum.mul(x).add(coefficient), GF256.zero());\n    }\n    equals(other) {\n        if (this.coefficients.length !== other.coefficients.length) {\n            return false;\n        }\n        return this.coefficients.every((c, i)=>c.equals(other.getCoefficient(i)));\n    }\n}\nfunction toInternalShare(share) {\n    return {\n        index: new GF256(share.index),\n        share: Array.from(share.share, (byte)=>new GF256(byte))\n    };\n}\nfunction toShare(internalShare) {\n    return {\n        index: internalShare.index.value,\n        share: new Uint8Array(internalShare.share.map((byte)=>byte.value))\n    };\n}\nfunction samplePolynomial(constant, degree) {\n    const randomCoefficients = new Uint8Array(degree);\n    crypto.getRandomValues(randomCoefficients);\n    return Polynomial.fromBytes(new Uint8Array([\n        constant.value,\n        ...randomCoefficients\n    ]));\n}\nfunction split(secret, threshold, total) {\n    if (threshold > total || threshold < 1 || total >= GF256_SIZE) {\n        throw new Error(`Invalid threshold ${threshold} or total ${total}`);\n    }\n    const polynomials = Array.from(secret, (s)=>samplePolynomial(new GF256(s), threshold - 1));\n    return Array.from({\n        length: total\n    }, (_, i)=>{\n        const index = new GF256(i + 1);\n        const share = polynomials.map((p)=>p.evaluate(index));\n        return toShare({\n            index,\n            share\n        });\n    });\n}\nfunction validateShares(shares) {\n    if (shares.length < 1) {\n        throw new Error(\"At least one share is required\");\n    }\n    if (!(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.allEqual)(shares.map(({ share })=>share.length))) {\n        throw new Error(\"All shares must have the same length\");\n    }\n    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.hasDuplicates)(shares.map(({ index })=>index))) {\n        throw new Error(\"Shares must have unique indices\");\n    }\n    const internalShares = shares.map(toInternalShare);\n    const length = internalShares[0].share.length;\n    return {\n        internalShares,\n        length\n    };\n}\nfunction combine(shares) {\n    const { internalShares, length } = validateShares(shares);\n    return new Uint8Array(Array.from({\n        length\n    }, (_, i)=>Polynomial.combine(internalShares.map(({ index, share })=>({\n                x: index,\n                y: share[i]\n            }))).value));\n}\nfunction interpolate(shares) {\n    const { internalShares, length } = validateShares(shares);\n    const polynomials = Array.from({\n        length\n    }, (_, i)=>Polynomial.interpolate(internalShares.map(({ index, share })=>({\n                x: index,\n                y: share[i]\n            }))));\n    return (x)=>{\n        return new Uint8Array(polynomials.map((p)=>p.evaluate(new GF256(x)).value));\n    };\n}\n //# sourceMappingURL=shamir.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG15c3RlbitzZWFsQDAuNi4wX3R5cGVzY3JpcHRANS45LjMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc2VhbC9kaXN0L2VzbS9zaGFtaXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXFEO0FBQ3JELE1BQU1FLGFBQWE7QUFDbkIsTUFBTUM7SUFDSkMsWUFBWUMsS0FBSyxDQUFFO1FBQ2pCLElBQUlBLFFBQVEsS0FBS0EsU0FBU0gsWUFBWTtZQUNwQyxNQUFNLElBQUlJLE1BQU0sQ0FBQyxjQUFjLEVBQUVELE1BQU0sVUFBVSxDQUFDO1FBQ3BEO1FBQ0EsSUFBSSxDQUFDQSxLQUFLLEdBQUdBO0lBQ2Y7SUFDQUUsTUFBTTtRQUNKLElBQUksSUFBSSxDQUFDRixLQUFLLEtBQUssR0FBRztZQUNwQixNQUFNLElBQUlDLE1BQU07UUFDbEI7UUFDQSxPQUFPRSxHQUFHLENBQUMsSUFBSSxDQUFDSCxLQUFLLEdBQUcsRUFBRTtJQUM1QjtJQUNBLE9BQU9JLElBQUlDLENBQUMsRUFBRTtRQUNaLE9BQU8sSUFBSVAsTUFBTVEsR0FBRyxDQUFDRCxJQUFLUixDQUFBQSxhQUFhLEdBQUc7SUFDNUM7SUFDQVUsSUFBSUMsS0FBSyxFQUFFO1FBQ1QsT0FBTyxJQUFJVixNQUFNLElBQUksQ0FBQ0UsS0FBSyxHQUFHUSxNQUFNUixLQUFLO0lBQzNDO0lBQ0FTLElBQUlELEtBQUssRUFBRTtRQUNULE9BQU8sSUFBSSxDQUFDRCxHQUFHLENBQUNDO0lBQ2xCO0lBQ0FFLE1BQU07UUFDSixPQUFPLElBQUk7SUFDYjtJQUNBQyxJQUFJSCxLQUFLLEVBQUU7UUFDVCxJQUFJLElBQUksQ0FBQ1IsS0FBSyxLQUFLLEtBQUtRLE1BQU1SLEtBQUssS0FBSyxHQUFHO1lBQ3pDLE9BQU8sSUFBSUYsTUFBTTtRQUNuQjtRQUNBLE9BQU9BLE1BQU1NLEdBQUcsQ0FBQyxJQUFJLENBQUNGLEdBQUcsS0FBS00sTUFBTU4sR0FBRztJQUN6QztJQUNBVSxJQUFJSixLQUFLLEVBQUU7UUFDVCxPQUFPLElBQUksQ0FBQ0csR0FBRyxDQUFDYixNQUFNTSxHQUFHLENBQUNQLGFBQWFXLE1BQU1OLEdBQUcsS0FBSztJQUN2RDtJQUNBVyxPQUFPTCxLQUFLLEVBQUU7UUFDWixPQUFPLElBQUksQ0FBQ1IsS0FBSyxLQUFLUSxNQUFNUixLQUFLO0lBQ25DO0lBQ0EsT0FBT2MsT0FBTztRQUNaLE9BQU8sSUFBSWhCLE1BQU07SUFDbkI7SUFDQSxPQUFPaUIsTUFBTTtRQUNYLE9BQU8sSUFBSWpCLE1BQU07SUFDbkI7QUFDRjtBQUNBLE1BQU1RLE1BQU07SUFDVjtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7Q0FDRDtBQUNELE1BQU1ILE1BQU07SUFDVjtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFD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WSxHQUFHQyxJQUFNaEIsV0FBV3dCLFdBQVcsQ0FBQ29DLGVBQWV2QyxHQUFHLENBQUMsQ0FBQyxFQUFFVCxLQUFLLEVBQUU4QixLQUFLLEVBQUUsR0FBTTtnQkFBRXJELEdBQUd1QjtnQkFBT2dCLEdBQUdjLEtBQUssQ0FBQzFCLEVBQUU7WUFBQztJQUVyRyxPQUFPLENBQUMzQjtRQUNOLE9BQU8sSUFBSXlELFdBQVdVLFlBQVluQyxHQUFHLENBQUMsQ0FBQ29DLElBQU1BLEVBQUVwQixRQUFRLENBQUMsSUFBSXZELE1BQU1PLElBQUlMLEtBQUs7SUFDN0U7QUFDRjtBQU9FLENBQ0Ysa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm90YXNjYW0tcHJvdG9jb2wvLi9ub2RlX21vZHVsZXMvLnBucG0vQG15c3RlbitzZWFsQDAuNi4wX3R5cGVzY3JpcHRANS45LjMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc2VhbC9kaXN0L2VzbS9zaGFtaXIuanM/ZGM5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhbGxFcXVhbCwgaGFzRHVwbGljYXRlcyB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG5jb25zdCBHRjI1Nl9TSVpFID0gMjU2O1xuY2xhc3MgR0YyNTYge1xuICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA8IDAgfHwgdmFsdWUgPj0gR0YyNTZfU0laRSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHZhbHVlICR7dmFsdWV9IGZvciBHRjI1NmApO1xuICAgIH1cbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cbiAgbG9nKCkge1xuICAgIGlmICh0aGlzLnZhbHVlID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZhbHVlXCIpO1xuICAgIH1cbiAgICByZXR1cm4gTE9HW3RoaXMudmFsdWUgLSAxXTtcbiAgfVxuICBzdGF0aWMgZXhwKHgpIHtcbiAgICByZXR1cm4gbmV3IEdGMjU2KEVYUFt4ICUgKEdGMjU2X1NJWkUgLSAxKV0pO1xuICB9XG4gIGFkZChvdGhlcikge1xuICAgIHJldHVybiBuZXcgR0YyNTYodGhpcy52YWx1ZSBeIG90aGVyLnZhbHVlKTtcbiAgfVxuICBzdWIob3RoZXIpIHtcbiAgICByZXR1cm4gdGhpcy5hZGQob3RoZXIpO1xuICB9XG4gIG5lZygpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBtdWwob3RoZXIpIHtcbiAgICBpZiAodGhpcy52YWx1ZSA9PT0gMCB8fCBvdGhlci52YWx1ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIG5ldyBHRjI1NigwKTtcbiAgICB9XG4gICAgcmV0dXJuIEdGMjU2LmV4cCh0aGlzLmxvZygpICsgb3RoZXIubG9nKCkpO1xuICB9XG4gIGRpdihvdGhlcikge1xuICAgIHJldHVybiB0aGlzLm11bChHRjI1Ni5leHAoR0YyNTZfU0laRSAtIG90aGVyLmxvZygpIC0gMSkpO1xuICB9XG4gIGVxdWFscyhvdGhlcikge1xuICAgIHJldHVybiB0aGlzLnZhbHVlID09PSBvdGhlci52YWx1ZTtcbiAgfVxuICBzdGF0aWMgemVybygpIHtcbiAgICByZXR1cm4gbmV3IEdGMjU2KDApO1xuICB9XG4gIHN0YXRpYyBvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBHRjI1NigxKTtcbiAgfVxufVxuY29uc3QgRVhQID0gW1xuICAxLFxuICAzLFxuICA1LFxuICAxNSxcbiAgMTcsXG4gIDUxLFxuICA4NSxcbiAgMjU1LFxuICAyNixcbiAgNDYsXG4gIDExNCxcbiAgMTUwLFxuICAxNjEsXG4gIDI0OCxcbiAgMTksXG4gIDUzLFxuICA5NSxcbiAgMjI1LFxuICA1NixcbiAgNzIsXG4gIDIxNixcbiAgMTE1LFxuICAxNDksXG4gIDE2NCxcbiAgMjQ3LFxuICAyLFxuICA2LFxuICAxMCxcbiAgMzAsXG4gIDM0LFxuICAxMDIsXG4gIDE3MCxcbiAgMjI5LFxuICA1MixcbiAgOTIsXG4gIDIyOCxcbiAgNTUsXG4gIDg5LFxuICAyMzUsXG4gIDM4LFxuICAxMDYsXG4gIDE5MCxcbiAgMjE3LFxuICAxMTIsXG4gIDE0NCxcbiAgMTcxLFxuICAyMzAsXG4gIDQ5LFxuICA4MyxcbiAgMjQ1LFxuICA0LFxuICAxMixcbiAgMjAsXG4gIDYwLFxuICA2OCxcbiAgMjA0LFxuICA3OSxcbiAgMjA5LFxuICAxMDQsXG4gIDE4NCxcbiAgMjExLFxuICAxMTAsXG4gIDE3OCxcbiAgMjA1LFxuICA3NixcbiAgMjEyLFxuICAxMDMsXG4gIDE2OSxcbiAgMjI0LFxuICA1OSxcbiAgNzcsXG4gIDIxNSxcbiAgOTgsXG4gIDE2NixcbiAgMjQxLFxuICA4LFxuICAyNCxcbiAgNDAsXG4gIDEyMCxcbiAgMTM2LFxuICAxMzEsXG4gIDE1OCxcbiAgMTg1LFxuICAyMDgsXG4gIDEwNyxcbiAgMTg5LFxuICAyMjAsXG4gIDEyNyxcbiAgMTI5LFxuICAxNTIsXG4gIDE3OSxcbiAgMjA2LFxuICA3MyxcbiAgMjE5LFxuICAxMTgsXG4gIDE1NCxcbiAgMTgxLFxuICAxOTYsXG4gIDg3LFxuICAyNDksXG4gIDE2LFxuICA0OCxcbiAgODAsXG4gIDI0MCxcbiAgMTEsXG4gIDI5LFxuICAzOSxcbiAgMTA1LFxuICAxODcsXG4gIDIxNCxcbiAgOTcsXG4gIDE2MyxcbiAgMjU0LFxuICAyNSxcbiAgNDMsXG4gIDEyNSxcbiAgMTM1LFxuICAxNDYsXG4gIDE3MyxcbiAgMjM2LFxuICA0NyxcbiAgMTEzLFxuICAxNDcsXG4gIDE3NCxcbiAgMjMzLFxuICAzMixcbiAgOTYsXG4gIDE2MCxcbiAgMjUxLFxuICAyMixcbiAgNTgsXG4gIDc4LFxuICAyMTAsXG4gIDEwOSxcbiAgMTgzLFxuICAxOTQsXG4gIDkzLFxuICAyMzEsXG4gIDUwLFxuICA4NixcbiAgMjUwLFxuICAyMSxcbiAgNjMsXG4gIDY1LFxuICAxOTUsXG4gIDk0LFxuICAyMjYsXG4gIDYxLFxuICA3MSxcbiAgMjAxLFxuICA2NCxcbiAgMTkyLFxuICA5MSxcbiAgMjM3LFxuICA0NCxcbiAgMTE2LFxuICAxNTYsXG4gIDE5MSxcbiAgMjE4LFxuICAxMTcsXG4gIDE1OSxcbiAgMTg2LFxuICAyMTMsXG4gIDEwMCxcbiAgMTcyLFxuICAyMzksXG4gIDQyLFxuICAxMjYsXG4gIDEzMCxcbiAgMTU3LFxuICAxODgsXG4gIDIyMyxcbiAgMTIyLFxuICAxNDIsXG4gIDEzNyxcbiAgMTI4LFxuICAxNTUsXG4gIDE4MixcbiAgMTkzLFxuICA4OCxcbiAgMjMyLFxuICAzNSxcbiAgMTAxLFxuICAxNzUsXG4gIDIzNCxcbiAgMzcsXG4gIDExMSxcbiAgMTc3LFxuICAyMDAsXG4gIDY3LFxuICAxOTcsXG4gIDg0LFxuICAyNTIsXG4gIDMxLFxuICAzMyxcbiAgOTksXG4gIDE2NSxcbiAgMjQ0LFxuICA3LFxuICA5LFxuICAyNyxcbiAgNDUsXG4gIDExOSxcbiAgMTUzLFxuICAxNzYsXG4gIDIwMyxcbiAgNzAsXG4gIDIwMixcbiAgNjksXG4gIDIwNyxcbiAgNzQsXG4gIDIyMixcbiAgMTIxLFxuICAxMzksXG4gIDEzNCxcbiAgMTQ1LFxuICAxNjgsXG4gIDIyNyxcbiAgNjIsXG4gIDY2LFxuICAxOTgsXG4gIDgxLFxuICAyNDMsXG4gIDE0LFxuICAxOCxcbiAgNTQsXG4gIDkwLFxuICAyMzgsXG4gIDQxLFxuICAxMjMsXG4gIDE0MSxcbiAgMTQwLFxuICAxNDMsXG4gIDEzOCxcbiAgMTMzLFxuICAxNDgsXG4gIDE2NyxcbiAgMjQyLFxuICAxMyxcbiAgMjMsXG4gIDU3LFxuICA3NSxcbiAgMjIxLFxuICAxMjQsXG4gIDEzMixcbiAgMTUxLFxuICAxNjIsXG4gIDI1MyxcbiAgMjgsXG4gIDM2LFxuICAxMDgsXG4gIDE4MCxcbiAgMTk5LFxuICA4MixcbiAgMjQ2XG5dO1xuY29uc3QgTE9HID0gW1xuICAwLFxuICAyNSxcbiAgMSxcbiAgNTAsXG4gIDIsXG4gIDI2LFxuICAxOTgsXG4gIDc1LFxuICAxOTksXG4gIDI3LFxuICAxMDQsXG4gIDUxLFxuICAyMzgsXG4gIDIyMyxcbiAgMyxcbiAgMTAwLFxuICA0LFxuICAyMjQsXG4gIDE0LFxuICA1MixcbiAgMTQxLFxuICAxMjksXG4gIDIzOSxcbiAgNzYsXG4gIDExMyxcbiAgOCxcbiAgMjAwLFxuICAyNDgsXG4gIDEwNSxcbiAgMjgsXG4gIDE5MyxcbiAgMTI1LFxuICAxOTQsXG4gIDI5LFxuICAxODEsXG4gIDI0OSxcbiAgMTg1LFxuICAzOSxcbiAgMTA2LFxuICA3NyxcbiAgMjI4LFxuICAxNjYsXG4gIDExNCxcbiAgMTU0LFxuICAyMDEsXG4gIDksXG4gIDEyMCxcbiAgMTAxLFxuICA0NyxcbiAgMTM4LFxuICA1LFxuICAzMyxcbiAgMTUsXG4gIDIyNSxcbiAgMzYsXG4gIDE4LFxuICAyNDAsXG4gIDEzMCxcbiAgNjksXG4gIDUzLFxuICAxNDcsXG4gIDIxOCxcbiAgMTQyLFxuICAxNTAsXG4gIDE0MyxcbiAgMjE5LFxuICAxODksXG4gIDU0LFxuICAyMDgsXG4gIDIwNixcbiAgMTQ4LFxuICAxOSxcbiAgOTIsXG4gIDIxMCxcbiAgMjQxLFxuICA2NCxcbiAgNzAsXG4gIDEzMSxcbiAgNTYsXG4gIDEwMixcbiAgMjIxLFxuICAyNTMsXG4gIDQ4LFxuICAxOTEsXG4gIDYsXG4gIDEzOSxcbiAgOTgsXG4gIDE3OSxcbiAgMzcsXG4gIDIyNixcbiAgMTUyLFxuICAzNCxcbiAgMTM2LFxuICAxNDUsXG4gIDE2LFxuICAxMjYsXG4gIDExMCxcbiAgNzIsXG4gIDE5NSxcbiAgMTYzLFxuICAxODIsXG4gIDMwLFxuICA2NixcbiAgNTgsXG4gIDEwNyxcbiAgNDAsXG4gIDg0LFxuICAyNTAsXG4gIDEzMyxcbiAgNjEsXG4gIDE4NixcbiAgNDMsXG4gIDEyMSxcbiAgMTAsXG4gIDIxLFxuICAxNTUsXG4gIDE1OSxcbiAgOTQsXG4gIDIwMixcbiAgNzgsXG4gIDIxMixcbiAgMTcyLFxuICAyMjksXG4gIDI0MyxcbiAgMTE1LFxuICAxNjcsXG4gIDg3LFxuICAxNzUsXG4gIDg4LFxuICAxNjgsXG4gIDgwLFxuICAyNDQsXG4gIDIzNCxcbiAgMjE0LFxuICAxMTYsXG4gIDc5LFxuICAxNzQsXG4gIDIzMyxcbiAgMjEzLFxuICAyMzEsXG4gIDIzMCxcbiAgMTczLFxuICAyMzIsXG4gIDQ0LFxuICAyMTUsXG4gIDExNyxcbiAgMTIyLFxuICAyMzUsXG4gIDIyLFxuICAxMSxcbiAgMjQ1LFxuICA4OSxcbiAgMjAzLFxuICA5NSxcbiAgMTc2LFxuICAxNTYsXG4gIDE2OSxcbiAgODEsXG4gIDE2MCxcbiAgMTI3LFxuICAxMixcbiAgMjQ2LFxuICAxMTEsXG4gIDIzLFxuICAxOTYsXG4gIDczLFxuICAyMzYsXG4gIDIxNixcbiAgNjcsXG4gIDMxLFxuICA0NSxcbiAgMTY0LFxuICAxMTgsXG4gIDEyMyxcbiAgMTgzLFxuICAyMDQsXG4gIDE4NyxcbiAgNjIsXG4gIDkwLFxuICAyNTEsXG4gIDk2LFxuICAxNzcsXG4gIDEzNCxcbiAgNTksXG4gIDgyLFxuICAxNjEsXG4gIDEwOCxcbiAgMTcwLFxuICA4NSxcbiAgNDEsXG4gIDE1NyxcbiAgMTUxLFxuICAxNzgsXG4gIDEzNSxcbiAgMTQ0LFxuICA5NyxcbiAgMTkwLFxuICAyMjAsXG4gIDI1MixcbiAgMTg4LFxuICAxNDksXG4gIDIwNyxcbiAgMjA1LFxuICA1NSxcbiAgNjMsXG4gIDkxLFxuICAyMDksXG4gIDgzLFxuICA1NyxcbiAgMTMyLFxuICA2MCxcbiAgNjUsXG4gIDE2MixcbiAgMTA5LFxuICA3MSxcbiAgMjAsXG4gIDQyLFxuICAxNTgsXG4gIDkzLFxuICA4NixcbiAgMjQyLFxuICAyMTEsXG4gIDE3MSxcbiAgNjgsXG4gIDE3LFxuICAxNDYsXG4gIDIxNyxcbiAgMzUsXG4gIDMyLFxuICA0NixcbiAgMTM3LFxuICAxODAsXG4gIDEyNCxcbiAgMTg0LFxuICAzOCxcbiAgMTE5LFxuICAxNTMsXG4gIDIyNyxcbiAgMTY1LFxuICAxMDMsXG4gIDc0LFxuICAyMzcsXG4gIDIyMixcbiAgMTk3LFxuICA0OSxcbiAgMjU0LFxuICAyNCxcbiAgMTMsXG4gIDk5LFxuICAxNDAsXG4gIDEyOCxcbiAgMTkyLFxuICAyNDcsXG4gIDExMixcbiAgN1xuXTtcbmNsYXNzIFBvbHlub21pYWwge1xuICAvKipcbiAgICogQ29uc3RydWN0IGEgbmV3IFBvbHlub21pYWwgb3ZlciBbR0YyNTZdIGZyb20gdGhlIGdpdmVuIGNvZWZmaWNpZW50cy5cbiAgICogVGhlIGZpcnN0IGNvZWZmaWNpZW50IGlzIHRoZSBjb25zdGFudCB0ZXJtLlxuICAgKi9cbiAgY29uc3RydWN0b3IoY29lZmZpY2llbnRzKSB7XG4gICAgdGhpcy5jb2VmZmljaWVudHMgPSBjb2VmZmljaWVudHMuc2xpY2UoKTtcbiAgICB3aGlsZSAodGhpcy5jb2VmZmljaWVudHMubGVuZ3RoID4gMCAmJiB0aGlzLmNvZWZmaWNpZW50c1t0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxXS52YWx1ZSA9PT0gMCkge1xuICAgICAgdGhpcy5jb2VmZmljaWVudHMucG9wKCk7XG4gICAgfVxuICB9XG4gIHN0YXRpYyBmcm9tQnl0ZXMoYnl0ZXMpIHtcbiAgICByZXR1cm4gbmV3IFBvbHlub21pYWwoQXJyYXkuZnJvbShieXRlcywgKGIpID0+IG5ldyBHRjI1NihiKSkpO1xuICB9XG4gIGRlZ3JlZSgpIHtcbiAgICBpZiAodGhpcy5jb2VmZmljaWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY29lZmZpY2llbnRzLmxlbmd0aCAtIDE7XG4gIH1cbiAgZ2V0Q29lZmZpY2llbnQoaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggPj0gdGhpcy5jb2VmZmljaWVudHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gR0YyNTYuemVybygpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jb2VmZmljaWVudHNbaW5kZXhdO1xuICB9XG4gIGFkZChvdGhlcikge1xuICAgIGNvbnN0IGRlZ3JlZSA9IE1hdGgubWF4KHRoaXMuZGVncmVlKCksIG90aGVyLmRlZ3JlZSgpKTtcbiAgICByZXR1cm4gbmV3IFBvbHlub21pYWwoXG4gICAgICBBcnJheS5mcm9tKFxuICAgICAgICB7IGxlbmd0aDogZGVncmVlICsgMSB9LFxuICAgICAgICAoXywgaSkgPT4gdGhpcy5nZXRDb2VmZmljaWVudChpKS5hZGQob3RoZXIuZ2V0Q29lZmZpY2llbnQoaSkpXG4gICAgICApXG4gICAgKTtcbiAgfVxuICBtdWwob3RoZXIpIHtcbiAgICBjb25zdCBkZWdyZWUgPSB0aGlzLmRlZ3JlZSgpICsgb3RoZXIuZGVncmVlKCk7XG4gICAgcmV0dXJuIG5ldyBQb2x5bm9taWFsKFxuICAgICAgQXJyYXkuZnJvbSh7IGxlbmd0aDogZGVncmVlICsgMSB9LCAoXywgaSkgPT4ge1xuICAgICAgICBsZXQgc3VtID0gR0YyNTYuemVybygpO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8PSBpOyBqKyspIHtcbiAgICAgICAgICBpZiAoaiA8PSB0aGlzLmRlZ3JlZSgpICYmIGkgLSBqIDw9IG90aGVyLmRlZ3JlZSgpKSB7XG4gICAgICAgICAgICBzdW0gPSBzdW0uYWRkKHRoaXMuZ2V0Q29lZmZpY2llbnQoaikubXVsKG90aGVyLmdldENvZWZmaWNpZW50KGkgLSBqKSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VtO1xuICAgICAgfSlcbiAgICApO1xuICB9XG4gIC8qKiBUaGUgcG9seW5vbWlhbCBzICogdGhpcy4gKi9cbiAgc2NhbGUocykge1xuICAgIHJldHVybiBuZXcgUG9seW5vbWlhbCh0aGlzLmNvZWZmaWNpZW50cy5tYXAoKGMpID0+IGMubXVsKHMpKSk7XG4gIH1cbiAgZGl2KHMpIHtcbiAgICByZXR1cm4gdGhpcy5zY2FsZShuZXcgR0YyNTYoMSkuZGl2KHMpKTtcbiAgfVxuICAvKiogVGhlIHBvbHlub21pYWwgeCArIGMuICovXG4gIHN0YXRpYyBtb25pY19saW5lYXIoYykge1xuICAgIHJldHVybiBuZXcgUG9seW5vbWlhbChbYywgR0YyNTYub25lKCldKTtcbiAgfVxuICBzdGF0aWMgemVybygpIHtcbiAgICByZXR1cm4gbmV3IFBvbHlub21pYWwoW10pO1xuICB9XG4gIHN0YXRpYyBvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBQb2x5bm9taWFsKFtHRjI1Ni5vbmUoKV0pO1xuICB9XG4gIC8qKiBHaXZlbiBhIHNldCBvZiBjb29yZGluYXRlcywgaW50ZXJwb2xhdGUgYSBwb2x5bm9taWFsLiAqL1xuICBzdGF0aWMgaW50ZXJwb2xhdGUoY29vcmRpbmF0ZXMpIHtcbiAgICBpZiAoY29vcmRpbmF0ZXMubGVuZ3RoIDwgMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXQgbGVhc3Qgb25lIGNvZWZmaWNpZW50IGlzIHJlcXVpcmVkXCIpO1xuICAgIH1cbiAgICBpZiAoaGFzRHVwbGljYXRlcyhjb29yZGluYXRlcy5tYXAoKHsgeCB9KSA9PiB4LnZhbHVlKSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvZWZmaWNpZW50cyBtdXN0IGhhdmUgdW5pcXVlIHggdmFsdWVzXCIpO1xuICAgIH1cbiAgICByZXR1cm4gY29vcmRpbmF0ZXMucmVkdWNlKFxuICAgICAgKHN1bSwgeyB4OiB4X2osIHk6IHlfaiB9LCBqKSA9PiBzdW0uYWRkKFxuICAgICAgICBjb29yZGluYXRlcy5maWx0ZXIoKF8sIGkpID0+IGkgIT09IGopLnJlZHVjZShcbiAgICAgICAgICAocHJvZHVjdCwgeyB4OiB4X2kgfSkgPT4gcHJvZHVjdC5tdWwoUG9seW5vbWlhbC5tb25pY19saW5lYXIoeF9pLm5lZygpKS5kaXYoeF9qLnN1Yih4X2kpKSksXG4gICAgICAgICAgUG9seW5vbWlhbC5vbmUoKVxuICAgICAgICApLnNjYWxlKHlfailcbiAgICAgICksXG4gICAgICBQb2x5bm9taWFsLnplcm8oKVxuICAgICk7XG4gIH1cbiAgLyoqIEdpdmVuIGEgc2V0IG9mIGNvb3JkaW5hdGVzLCBpbnRlcnBvbGF0ZSBhIHBvbHlub21pYWwgYW5kIGV2YWx1YXRlIGl0IGF0IHggPSAwLiAqL1xuICBzdGF0aWMgY29tYmluZShjb29yZGluYXRlcykge1xuICAgIGlmIChjb29yZGluYXRlcy5sZW5ndGggPCAxKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdCBsZWFzdCBvbmUgY29lZmZpY2llbnQgaXMgcmVxdWlyZWRcIik7XG4gICAgfVxuICAgIGlmIChoYXNEdXBsaWNhdGVzKGNvb3JkaW5hdGVzLm1hcCgoeyB4IH0pID0+IHgudmFsdWUpKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29lZmZpY2llbnRzIG11c3QgaGF2ZSB1bmlxdWUgeCB2YWx1ZXNcIik7XG4gICAgfVxuICAgIGNvbnN0IHF1b3RpZW50ID0gY29vcmRpbmF0ZXMucmVkdWNlKChzdW0sIHsgeDogeF9qLCB5OiB5X2ogfSwgaikgPT4ge1xuICAgICAgY29uc3QgZGVub21pbmF0b3IgPSB4X2oubXVsKFxuICAgICAgICBjb29yZGluYXRlcy5maWx0ZXIoKF8sIGkpID0+IGkgIT09IGopLnJlZHVjZSgocHJvZHVjdCwgeyB4OiB4X2kgfSkgPT4gcHJvZHVjdC5tdWwoeF9pLnN1Yih4X2opKSwgR0YyNTYub25lKCkpXG4gICAgICApO1xuICAgICAgcmV0dXJuIHN1bS5hZGQoeV9qLmRpdihkZW5vbWluYXRvcikpO1xuICAgIH0sIEdGMjU2Lnplcm8oKSk7XG4gICAgY29uc3QgeFByb2R1Y3QgPSBjb29yZGluYXRlcy5yZWR1Y2UoKHByb2R1Y3QsIHsgeCB9KSA9PiBwcm9kdWN0Lm11bCh4KSwgR0YyNTYub25lKCkpO1xuICAgIHJldHVybiB4UHJvZHVjdC5tdWwocXVvdGllbnQpO1xuICB9XG4gIC8qKiBFdmFsdWF0ZSB0aGUgcG9seW5vbWlhbCBhdCB4LiAqL1xuICBldmFsdWF0ZSh4KSB7XG4gICAgcmV0dXJuIHRoaXMuY29lZmZpY2llbnRzLnRvUmV2ZXJzZWQoKS5yZWR1Y2UoKHN1bSwgY29lZmZpY2llbnQpID0+IHN1bS5tdWwoeCkuYWRkKGNvZWZmaWNpZW50KSwgR0YyNTYuemVybygpKTtcbiAgfVxuICBlcXVhbHMob3RoZXIpIHtcbiAgICBpZiAodGhpcy5jb2VmZmljaWVudHMubGVuZ3RoICE9PSBvdGhlci5jb2VmZmljaWVudHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50cy5ldmVyeSgoYywgaSkgPT4gYy5lcXVhbHMob3RoZXIuZ2V0Q29lZmZpY2llbnQoaSkpKTtcbiAgfVxufVxuZnVuY3Rpb24gdG9JbnRlcm5hbFNoYXJlKHNoYXJlKSB7XG4gIHJldHVybiB7XG4gICAgaW5kZXg6IG5ldyBHRjI1NihzaGFyZS5pbmRleCksXG4gICAgc2hhcmU6IEFycmF5LmZyb20oc2hhcmUuc2hhcmUsIChieXRlKSA9PiBuZXcgR0YyNTYoYnl0ZSkpXG4gIH07XG59XG5mdW5jdGlvbiB0b1NoYXJlKGludGVybmFsU2hhcmUpIHtcbiAgcmV0dXJuIHtcbiAgICBpbmRleDogaW50ZXJuYWxTaGFyZS5pbmRleC52YWx1ZSxcbiAgICBzaGFyZTogbmV3IFVpbnQ4QXJyYXkoaW50ZXJuYWxTaGFyZS5zaGFyZS5tYXAoKGJ5dGUpID0+IGJ5dGUudmFsdWUpKVxuICB9O1xufVxuZnVuY3Rpb24gc2FtcGxlUG9seW5vbWlhbChjb25zdGFudCwgZGVncmVlKSB7XG4gIGNvbnN0IHJhbmRvbUNvZWZmaWNpZW50cyA9IG5ldyBVaW50OEFycmF5KGRlZ3JlZSk7XG4gIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMocmFuZG9tQ29lZmZpY2llbnRzKTtcbiAgcmV0dXJuIFBvbHlub21pYWwuZnJvbUJ5dGVzKG5ldyBVaW50OEFycmF5KFtjb25zdGFudC52YWx1ZSwgLi4ucmFuZG9tQ29lZmZpY2llbnRzXSkpO1xufVxuZnVuY3Rpb24gc3BsaXQoc2VjcmV0LCB0aHJlc2hvbGQsIHRvdGFsKSB7XG4gIGlmICh0aHJlc2hvbGQgPiB0b3RhbCB8fCB0aHJlc2hvbGQgPCAxIHx8IHRvdGFsID49IEdGMjU2X1NJWkUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdGhyZXNob2xkICR7dGhyZXNob2xkfSBvciB0b3RhbCAke3RvdGFsfWApO1xuICB9XG4gIGNvbnN0IHBvbHlub21pYWxzID0gQXJyYXkuZnJvbShzZWNyZXQsIChzKSA9PiBzYW1wbGVQb2x5bm9taWFsKG5ldyBHRjI1NihzKSwgdGhyZXNob2xkIC0gMSkpO1xuICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogdG90YWwgfSwgKF8sIGkpID0+IHtcbiAgICBjb25zdCBpbmRleCA9IG5ldyBHRjI1NihpICsgMSk7XG4gICAgY29uc3Qgc2hhcmUgPSBwb2x5bm9taWFscy5tYXAoKHApID0+IHAuZXZhbHVhdGUoaW5kZXgpKTtcbiAgICByZXR1cm4gdG9TaGFyZSh7IGluZGV4LCBzaGFyZSB9KTtcbiAgfSk7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVNoYXJlcyhzaGFyZXMpIHtcbiAgaWYgKHNoYXJlcy5sZW5ndGggPCAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQXQgbGVhc3Qgb25lIHNoYXJlIGlzIHJlcXVpcmVkXCIpO1xuICB9XG4gIGlmICghYWxsRXF1YWwoc2hhcmVzLm1hcCgoeyBzaGFyZSB9KSA9PiBzaGFyZS5sZW5ndGgpKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkFsbCBzaGFyZXMgbXVzdCBoYXZlIHRoZSBzYW1lIGxlbmd0aFwiKTtcbiAgfVxuICBpZiAoaGFzRHVwbGljYXRlcyhzaGFyZXMubWFwKCh7IGluZGV4IH0pID0+IGluZGV4KSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJTaGFyZXMgbXVzdCBoYXZlIHVuaXF1ZSBpbmRpY2VzXCIpO1xuICB9XG4gIGNvbnN0IGludGVybmFsU2hhcmVzID0gc2hhcmVzLm1hcCh0b0ludGVybmFsU2hhcmUpO1xuICBjb25zdCBsZW5ndGggPSBpbnRlcm5hbFNoYXJlc1swXS5zaGFyZS5sZW5ndGg7XG4gIHJldHVybiB7IGludGVybmFsU2hhcmVzLCBsZW5ndGggfTtcbn1cbmZ1bmN0aW9uIGNvbWJpbmUoc2hhcmVzKSB7XG4gIGNvbnN0IHsgaW50ZXJuYWxTaGFyZXMsIGxlbmd0aCB9ID0gdmFsaWRhdGVTaGFyZXMoc2hhcmVzKTtcbiAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFxuICAgIEFycmF5LmZyb20oXG4gICAgICB7IGxlbmd0aCB9LFxuICAgICAgKF8sIGkpID0+IFBvbHlub21pYWwuY29tYmluZShcbiAgICAgICAgaW50ZXJuYWxTaGFyZXMubWFwKCh7IGluZGV4LCBzaGFyZSB9KSA9PiAoe1xuICAgICAgICAgIHg6IGluZGV4LFxuICAgICAgICAgIHk6IHNoYXJlW2ldXG4gICAgICAgIH0pKVxuICAgICAgKS52YWx1ZVxuICAgIClcbiAgKTtcbn1cbmZ1bmN0aW9uIGludGVycG9sYXRlKHNoYXJlcykge1xuICBjb25zdCB7IGludGVybmFsU2hhcmVzLCBsZW5ndGggfSA9IHZhbGlkYXRlU2hhcmVzKHNoYXJlcyk7XG4gIGNvbnN0IHBvbHlub21pYWxzID0gQXJyYXkuZnJvbShcbiAgICB7IGxlbmd0aCB9LFxuICAgIChfLCBpKSA9PiBQb2x5bm9taWFsLmludGVycG9sYXRlKGludGVybmFsU2hhcmVzLm1hcCgoeyBpbmRleCwgc2hhcmUgfSkgPT4gKHsgeDogaW5kZXgsIHk6IHNoYXJlW2ldIH0pKSlcbiAgKTtcbiAgcmV0dXJuICh4KSA9PiB7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHBvbHlub21pYWxzLm1hcCgocCkgPT4gcC5ldmFsdWF0ZShuZXcgR0YyNTYoeCkpLnZhbHVlKSk7XG4gIH07XG59XG5leHBvcnQge1xuICBHRjI1NixcbiAgUG9seW5vbWlhbCxcbiAgY29tYmluZSxcbiAgaW50ZXJwb2xhdGUsXG4gIHNwbGl0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2hhbWlyLmpzLm1hcFxuIl0sIm5hbWVzIjpbImFsbEVxdWFsIiwiaGFzRHVwbGljYXRlcyIsIkdGMjU2X1NJWkUiLCJHRjI1NiIsImNvbnN0cnVjdG9yIiwidmFsdWUiLCJFcnJvciIsImxvZyIsIkxPRyIsImV4cCIsIngiLCJFWFAiLCJhZGQiLCJvdGhlciIsInN1YiIsIm5lZyIsIm11bCIsImRpdiIsImVxdWFscyIsInplcm8iLCJvbmUiLCJQb2x5bm9taWFsIiwiY29lZmZpY2llbnRzIiwic2xpY2UiLCJsZW5ndGgiLCJwb3AiLCJmcm9tQnl0ZXMiLCJieXRlcyIsIkFycmF5IiwiZnJvbSIsImIiLCJkZWdyZWUiLCJnZXRDb2VmZmljaWVudCIsImluZGV4IiwiTWF0aCIsIm1heCIsIl8iLCJpIiwic3VtIiwiaiIsInNjYWxlIiwicyIsIm1hcCIsImMiLCJtb25pY19saW5lYXIiLCJpbnRlcnBvbGF0ZSIsImNvb3JkaW5hdGVzIiwicmVkdWNlIiwieF9qIiwieSIsInlfaiIsImZpbHRlciIsInByb2R1Y3QiLCJ4X2kiLCJjb21iaW5lIiwicXVvdGllbnQiLCJkZW5vbWluYXRvciIsInhQcm9kdWN0IiwiZXZhbHVhdGUiLCJ0b1JldmVyc2VkIiwiY29lZmZpY2llbnQiLCJldmVyeSIsInRvSW50ZXJuYWxTaGFyZSIsInNoYXJlIiwiYnl0ZSIsInRvU2hhcmUiLCJpbnRlcm5hbFNoYXJlIiwiVWludDhBcnJheSIsInNhbXBsZVBvbHlub21pYWwiLCJjb25zdGFudCIsInJhbmRvbUNvZWZmaWNpZW50cyIsImNyeXB0byIsImdldFJhbmRvbVZhbHVlcyIsInNwbGl0Iiwic2VjcmV0IiwidGhyZXNob2xkIiwidG90YWwiLCJwb2x5bm9taWFscyIsInAiLCJ2YWxpZGF0ZVNoYXJlcyIsInNoYXJlcyIsImludGVybmFsU2hhcmVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/shamir.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/utils.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/utils.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MAX_U8: () => (/* binding */ MAX_U8),\n/* harmony export */   Version: () => (/* binding */ Version),\n/* harmony export */   allEqual: () => (/* binding */ allEqual),\n/* harmony export */   count: () => (/* binding */ count),\n/* harmony export */   createFullId: () => (/* binding */ createFullId),\n/* harmony export */   equals: () => (/* binding */ equals),\n/* harmony export */   flatten: () => (/* binding */ flatten),\n/* harmony export */   hasDuplicates: () => (/* binding */ hasDuplicates),\n/* harmony export */   xor: () => (/* binding */ xor),\n/* harmony export */   xorUnchecked: () => (/* binding */ xorUnchecked)\n/* harmony export */ });\n/* harmony import */ var _mysten_bcs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @mysten/bcs */ \"(ssr)/./node_modules/.pnpm/@mysten+utils@0.2.0/node_modules/@mysten/utils/dist/esm/hex.js\");\n/* harmony import */ var _mysten_sui_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @mysten/sui/utils */ \"(ssr)/./node_modules/.pnpm/@mysten+sui@1.38.0_typescript@5.9.3/node_modules/@mysten/sui/dist/esm/utils/sui-types.js\");\n/* harmony import */ var _error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./error.js */ \"(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/error.js\");\n\n\n\nconst MAX_U8 = 255;\nfunction xor(a, b) {\n    if (a.length !== b.length) {\n        throw new Error(\"Invalid input\");\n    }\n    return xorUnchecked(a, b);\n}\nfunction xorUnchecked(a, b) {\n    return a.map((ai, i)=>ai ^ b[i]);\n}\nfunction createFullId(packageId, innerId) {\n    if (!(0,_mysten_sui_utils__WEBPACK_IMPORTED_MODULE_0__.isValidSuiObjectId)(packageId)) {\n        throw new _error_js__WEBPACK_IMPORTED_MODULE_1__.UserError(`Invalid package ID ${packageId}`);\n    }\n    const fullId = flatten([\n        (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_2__.fromHex)(packageId),\n        (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_2__.fromHex)(innerId)\n    ]);\n    return (0,_mysten_bcs__WEBPACK_IMPORTED_MODULE_2__.toHex)(fullId);\n}\nfunction flatten(arrays) {\n    const length = arrays.reduce((sum, arr)=>sum + arr.length, 0);\n    const result = new Uint8Array(length);\n    arrays.reduce((offset, array)=>{\n        result.set(array, offset);\n        return offset + array.length;\n    }, 0);\n    return result;\n}\nfunction count(array, value) {\n    return array.reduce((count2, item)=>item === value ? count2 + 1 : count2, 0);\n}\nfunction hasDuplicates(array) {\n    return new Set(array).size !== array.length;\n}\nfunction allEqual(array) {\n    if (array.length === 0) {\n        return true;\n    }\n    return array.every((item)=>item === array[0]);\n}\nfunction equals(a, b) {\n    if (a.length !== b.length) {\n        return false;\n    }\n    return a.every((ai, i)=>ai === b[i]);\n}\nclass Version {\n    constructor(version){\n        const parts = version.split(\".\").map(Number);\n        if (parts.length !== 3 || parts.some((part)=>isNaN(part) || !Number.isInteger(part) || part < 0)) {\n            throw new _error_js__WEBPACK_IMPORTED_MODULE_1__.UserError(`Invalid version format: ${version}`);\n        }\n        this.major = parts[0];\n        this.minor = parts[1];\n        this.patch = parts[2];\n    }\n    // Compare this version with another version. True if this version is older than the other version.\n    older_than(other) {\n        if (this.major !== other.major) {\n            return this.major < other.major;\n        } else if (this.minor !== other.minor) {\n            return this.minor < other.minor;\n        }\n        return this.patch < other.patch;\n    }\n}\n //# sourceMappingURL=utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG15c3RlbitzZWFsQDAuNi4wX3R5cGVzY3JpcHRANS45LjMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc2VhbC9kaXN0L2VzbS91dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQTZDO0FBQ1U7QUFDaEI7QUFDdkMsTUFBTUksU0FBUztBQUNmLFNBQVNDLElBQUlDLENBQUMsRUFBRUMsQ0FBQztJQUNmLElBQUlELEVBQUVFLE1BQU0sS0FBS0QsRUFBRUMsTUFBTSxFQUFFO1FBQ3pCLE1BQU0sSUFBSUMsTUFBTTtJQUNsQjtJQUNBLE9BQU9DLGFBQWFKLEdBQUdDO0FBQ3pCO0FBQ0EsU0FBU0csYUFBYUosQ0FBQyxFQUFFQyxDQUFDO0lBQ3hCLE9BQU9ELEVBQUVLLEdBQUcsQ0FBQyxDQUFDQyxJQUFJQyxJQUFNRCxLQUFLTCxDQUFDLENBQUNNLEVBQUU7QUFDbkM7QUFDQSxTQUFTQyxhQUFhQyxTQUFTLEVBQUVDLE9BQU87SUFDdEMsSUFBSSxDQUFDZCxxRUFBa0JBLENBQUNhLFlBQVk7UUFDbEMsTUFBTSxJQUFJWixnREFBU0EsQ0FBQyxDQUFDLG1CQUFtQixFQUFFWSxVQUFVLENBQUM7SUFDdkQ7SUFDQSxNQUFNRSxTQUFTQyxRQUFRO1FBQUNsQixvREFBT0EsQ0FBQ2U7UUFBWWYsb0RBQU9BLENBQUNnQjtLQUFTO0lBQzdELE9BQU9mLGtEQUFLQSxDQUFDZ0I7QUFDZjtBQUNBLFNBQVNDLFFBQVFDLE1BQU07SUFDckIsTUFBTVgsU0FBU1csT0FBT0MsTUFBTSxDQUFDLENBQUNDLEtBQUtDLE1BQVFELE1BQU1DLElBQUlkLE1BQU0sRUFBRTtJQUM3RCxNQUFNZSxTQUFTLElBQUlDLFdBQVdoQjtJQUM5QlcsT0FBT0MsTUFBTSxDQUFDLENBQUNLLFFBQVFDO1FBQ3JCSCxPQUFPSSxHQUFHLENBQUNELE9BQU9EO1FBQ2xCLE9BQU9BLFNBQVNDLE1BQU1sQixNQUFNO0lBQzlCLEdBQUc7SUFDSCxPQUFPZTtBQUNUO0FBQ0EsU0FBU0ssTUFBTUYsS0FBSyxFQUFFRyxLQUFLO0lBQ3pCLE9BQU9ILE1BQU1OLE1BQU0sQ0FBQyxDQUFDVSxRQUFRQyxPQUFTQSxTQUFTRixRQUFRQyxTQUFTLElBQUlBLFFBQVE7QUFDOUU7QUFDQSxTQUFTRSxjQUFjTixLQUFLO0lBQzFCLE9BQU8sSUFBSU8sSUFBSVAsT0FBT1EsSUFBSSxLQUFLUixNQUFNbEIsTUFBTTtBQUM3QztBQUNBLFNBQVMyQixTQUFTVCxLQUFLO0lBQ3JCLElBQUlBLE1BQU1sQixNQUFNLEtBQUssR0FBRztRQUN0QixPQUFPO0lBQ1Q7SUFDQSxPQUFPa0IsTUFBTVUsS0FBSyxDQUFDLENBQUNMLE9BQVNBLFNBQVNMLEtBQUssQ0FBQyxFQUFFO0FBQ2hEO0FBQ0EsU0FBU1csT0FBTy9CLENBQUMsRUFBRUMsQ0FBQztJQUNsQixJQUFJRCxFQUFFRSxNQUFNLEtBQUtELEVBQUVDLE1BQU0sRUFBRTtRQUN6QixPQUFPO0lBQ1Q7SUFDQSxPQUFPRixFQUFFOEIsS0FBSyxDQUFDLENBQUN4QixJQUFJQyxJQUFNRCxPQUFPTCxDQUFDLENBQUNNLEVBQUU7QUFDdkM7QUFDQSxNQUFNeUI7SUFDSkMsWUFBWUMsT0FBTyxDQUFFO1FBQ25CLE1BQU1DLFFBQVFELFFBQVFFLEtBQUssQ0FBQyxLQUFLL0IsR0FBRyxDQUFDZ0M7UUFDckMsSUFBSUYsTUFBTWpDLE1BQU0sS0FBSyxLQUFLaUMsTUFBTUcsSUFBSSxDQUFDLENBQUNDLE9BQVNDLE1BQU1ELFNBQVMsQ0FBQ0YsT0FBT0ksU0FBUyxDQUFDRixTQUFTQSxPQUFPLElBQUk7WUFDbEcsTUFBTSxJQUFJMUMsZ0RBQVNBLENBQUMsQ0FBQyx3QkFBd0IsRUFBRXFDLFFBQVEsQ0FBQztRQUMxRDtRQUNBLElBQUksQ0FBQ1EsS0FBSyxHQUFHUCxLQUFLLENBQUMsRUFBRTtRQUNyQixJQUFJLENBQUNRLEtBQUssR0FBR1IsS0FBSyxDQUFDLEVBQUU7UUFDckIsSUFBSSxDQUFDUyxLQUFLLEdBQUdULEtBQUssQ0FBQyxFQUFFO0lBQ3ZCO0lBQ0EsbUdBQW1HO0lBQ25HVSxXQUFXQyxLQUFLLEVBQUU7UUFDaEIsSUFBSSxJQUFJLENBQUNKLEtBQUssS0FBS0ksTUFBTUosS0FBSyxFQUFFO1lBQzlCLE9BQU8sSUFBSSxDQUFDQSxLQUFLLEdBQUdJLE1BQU1KLEtBQUs7UUFDakMsT0FBTyxJQUFJLElBQUksQ0FBQ0MsS0FBSyxLQUFLRyxNQUFNSCxLQUFLLEVBQUU7WUFDckMsT0FBTyxJQUFJLENBQUNBLEtBQUssR0FBR0csTUFBTUgsS0FBSztRQUNqQztRQUNBLE9BQU8sSUFBSSxDQUFDQyxLQUFLLEdBQUdFLE1BQU1GLEtBQUs7SUFDakM7QUFDRjtBQVlFLENBQ0YsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbm90YXNjYW0tcHJvdG9jb2wvLi9ub2RlX21vZHVsZXMvLnBucG0vQG15c3RlbitzZWFsQDAuNi4wX3R5cGVzY3JpcHRANS45LjMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc2VhbC9kaXN0L2VzbS91dGlscy5qcz9mOTcxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZyb21IZXgsIHRvSGV4IH0gZnJvbSBcIkBteXN0ZW4vYmNzXCI7XG5pbXBvcnQgeyBpc1ZhbGlkU3VpT2JqZWN0SWQgfSBmcm9tIFwiQG15c3Rlbi9zdWkvdXRpbHNcIjtcbmltcG9ydCB7IFVzZXJFcnJvciB9IGZyb20gXCIuL2Vycm9yLmpzXCI7XG5jb25zdCBNQVhfVTggPSAyNTU7XG5mdW5jdGlvbiB4b3IoYSwgYikge1xuICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnB1dFwiKTtcbiAgfVxuICByZXR1cm4geG9yVW5jaGVja2VkKGEsIGIpO1xufVxuZnVuY3Rpb24geG9yVW5jaGVja2VkKGEsIGIpIHtcbiAgcmV0dXJuIGEubWFwKChhaSwgaSkgPT4gYWkgXiBiW2ldKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUZ1bGxJZChwYWNrYWdlSWQsIGlubmVySWQpIHtcbiAgaWYgKCFpc1ZhbGlkU3VpT2JqZWN0SWQocGFja2FnZUlkKSkge1xuICAgIHRocm93IG5ldyBVc2VyRXJyb3IoYEludmFsaWQgcGFja2FnZSBJRCAke3BhY2thZ2VJZH1gKTtcbiAgfVxuICBjb25zdCBmdWxsSWQgPSBmbGF0dGVuKFtmcm9tSGV4KHBhY2thZ2VJZCksIGZyb21IZXgoaW5uZXJJZCldKTtcbiAgcmV0dXJuIHRvSGV4KGZ1bGxJZCk7XG59XG5mdW5jdGlvbiBmbGF0dGVuKGFycmF5cykge1xuICBjb25zdCBsZW5ndGggPSBhcnJheXMucmVkdWNlKChzdW0sIGFycikgPT4gc3VtICsgYXJyLmxlbmd0aCwgMCk7XG4gIGNvbnN0IHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gIGFycmF5cy5yZWR1Y2UoKG9mZnNldCwgYXJyYXkpID0+IHtcbiAgICByZXN1bHQuc2V0KGFycmF5LCBvZmZzZXQpO1xuICAgIHJldHVybiBvZmZzZXQgKyBhcnJheS5sZW5ndGg7XG4gIH0sIDApO1xuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY291bnQoYXJyYXksIHZhbHVlKSB7XG4gIHJldHVybiBhcnJheS5yZWR1Y2UoKGNvdW50MiwgaXRlbSkgPT4gaXRlbSA9PT0gdmFsdWUgPyBjb3VudDIgKyAxIDogY291bnQyLCAwKTtcbn1cbmZ1bmN0aW9uIGhhc0R1cGxpY2F0ZXMoYXJyYXkpIHtcbiAgcmV0dXJuIG5ldyBTZXQoYXJyYXkpLnNpemUgIT09IGFycmF5Lmxlbmd0aDtcbn1cbmZ1bmN0aW9uIGFsbEVxdWFsKGFycmF5KSB7XG4gIGlmIChhcnJheS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gYXJyYXkuZXZlcnkoKGl0ZW0pID0+IGl0ZW0gPT09IGFycmF5WzBdKTtcbn1cbmZ1bmN0aW9uIGVxdWFscyhhLCBiKSB7XG4gIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGEuZXZlcnkoKGFpLCBpKSA9PiBhaSA9PT0gYltpXSk7XG59XG5jbGFzcyBWZXJzaW9uIHtcbiAgY29uc3RydWN0b3IodmVyc2lvbikge1xuICAgIGNvbnN0IHBhcnRzID0gdmVyc2lvbi5zcGxpdChcIi5cIikubWFwKE51bWJlcik7XG4gICAgaWYgKHBhcnRzLmxlbmd0aCAhPT0gMyB8fCBwYXJ0cy5zb21lKChwYXJ0KSA9PiBpc05hTihwYXJ0KSB8fCAhTnVtYmVyLmlzSW50ZWdlcihwYXJ0KSB8fCBwYXJ0IDwgMCkpIHtcbiAgICAgIHRocm93IG5ldyBVc2VyRXJyb3IoYEludmFsaWQgdmVyc2lvbiBmb3JtYXQ6ICR7dmVyc2lvbn1gKTtcbiAgICB9XG4gICAgdGhpcy5tYWpvciA9IHBhcnRzWzBdO1xuICAgIHRoaXMubWlub3IgPSBwYXJ0c1sxXTtcbiAgICB0aGlzLnBhdGNoID0gcGFydHNbMl07XG4gIH1cbiAgLy8gQ29tcGFyZSB0aGlzIHZlcnNpb24gd2l0aCBhbm90aGVyIHZlcnNpb24uIFRydWUgaWYgdGhpcyB2ZXJzaW9uIGlzIG9sZGVyIHRoYW4gdGhlIG90aGVyIHZlcnNpb24uXG4gIG9sZGVyX3RoYW4ob3RoZXIpIHtcbiAgICBpZiAodGhpcy5tYWpvciAhPT0gb3RoZXIubWFqb3IpIHtcbiAgICAgIHJldHVybiB0aGlzLm1ham9yIDwgb3RoZXIubWFqb3I7XG4gICAgfSBlbHNlIGlmICh0aGlzLm1pbm9yICE9PSBvdGhlci5taW5vcikge1xuICAgICAgcmV0dXJuIHRoaXMubWlub3IgPCBvdGhlci5taW5vcjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucGF0Y2ggPCBvdGhlci5wYXRjaDtcbiAgfVxufVxuZXhwb3J0IHtcbiAgTUFYX1U4LFxuICBWZXJzaW9uLFxuICBhbGxFcXVhbCxcbiAgY291bnQsXG4gIGNyZWF0ZUZ1bGxJZCxcbiAgZXF1YWxzLFxuICBmbGF0dGVuLFxuICBoYXNEdXBsaWNhdGVzLFxuICB4b3IsXG4gIHhvclVuY2hlY2tlZFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcFxuIl0sIm5hbWVzIjpbImZyb21IZXgiLCJ0b0hleCIsImlzVmFsaWRTdWlPYmplY3RJZCIsIlVzZXJFcnJvciIsIk1BWF9VOCIsInhvciIsImEiLCJiIiwibGVuZ3RoIiwiRXJyb3IiLCJ4b3JVbmNoZWNrZWQiLCJtYXAiLCJhaSIsImkiLCJjcmVhdGVGdWxsSWQiLCJwYWNrYWdlSWQiLCJpbm5lcklkIiwiZnVsbElkIiwiZmxhdHRlbiIsImFycmF5cyIsInJlZHVjZSIsInN1bSIsImFyciIsInJlc3VsdCIsIlVpbnQ4QXJyYXkiLCJvZmZzZXQiLCJhcnJheSIsInNldCIsImNvdW50IiwidmFsdWUiLCJjb3VudDIiLCJpdGVtIiwiaGFzRHVwbGljYXRlcyIsIlNldCIsInNpemUiLCJhbGxFcXVhbCIsImV2ZXJ5IiwiZXF1YWxzIiwiVmVyc2lvbiIsImNvbnN0cnVjdG9yIiwidmVyc2lvbiIsInBhcnRzIiwic3BsaXQiLCJOdW1iZXIiLCJzb21lIiwicGFydCIsImlzTmFOIiwiaXNJbnRlZ2VyIiwibWFqb3IiLCJtaW5vciIsInBhdGNoIiwib2xkZXJfdGhhbiIsIm90aGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/version.js":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/version.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PACKAGE_VERSION: () => (/* binding */ PACKAGE_VERSION)\n/* harmony export */ });\nconst PACKAGE_VERSION = \"0.6.0\";\n //# sourceMappingURL=version.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQG15c3RlbitzZWFsQDAuNi4wX3R5cGVzY3JpcHRANS45LjMvbm9kZV9tb2R1bGVzL0BteXN0ZW4vc2VhbC9kaXN0L2VzbS92ZXJzaW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNQSxrQkFBa0I7QUFHdEIsQ0FDRixtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub3Rhc2NhbS1wcm90b2NvbC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AbXlzdGVuK3NlYWxAMC42LjBfdHlwZXNjcmlwdEA1LjkuMy9ub2RlX21vZHVsZXMvQG15c3Rlbi9zZWFsL2Rpc3QvZXNtL3ZlcnNpb24uanM/MGM3NiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBQQUNLQUdFX1ZFUlNJT04gPSBcIjAuNi4wXCI7XG5leHBvcnQge1xuICBQQUNLQUdFX1ZFUlNJT05cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZXJzaW9uLmpzLm1hcFxuIl0sIm5hbWVzIjpbIlBBQ0tBR0VfVkVSU0lPTiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@mysten+seal@0.6.0_typescript@5.9.3/node_modules/@mysten/seal/dist/esm/version.js\n");

/***/ })

};
;